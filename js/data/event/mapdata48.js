MAPDATA[48] = 
	{
		name: 'Rainy-Summer 2020 Event',
		date: '2020-06-26',
		diffMode: 2,
		allowDiffs: [4,1,2,3],
		allowFleets: [0,1,2,3],
		allowLBAS: true,
		allowVanguard: true,
		vanguardConsts: { vanguardEvDD1: 20, vanguardEvDD2: 40, vanguardEvOther1: 5, vanguardEvOther2: 20 },
		newResupplyCosts: true,
		allowStrongFF: true,
		bannerImg: 'assets/maps/48/banner1.png',
		bannerImgAlt: 'assets/maps/48/banner2.png',
		transportCalc: transportCalcStandard,
		friendFleet: {
			'E1-1': { ships: [
				{ mid: 695, LVL: 72, FP: 50, TP: 80, AA: 50, AR: 49, equips: [44,226,46] },
				{ mid: 324, LVL: 73, FP: 50, TP: 74, AA: 50, AR: 49, equips: [267,286,88] },
				{ mid: 325, LVL: 71, FP: 50, TP: 79, AA: 50, AR: 49, equips: [286,286,286] },
			] },
			'E1-2': { ships: [
				{ mid: 383, LVL: 57, FP: 37, TP: 0, AA: 49, AR: 33, equips: [44,226,46], damage: [.9,1] },
				{ mid: 685, LVL: 52, FP: 35, TP: 0, AA: 50, AR: 34, equips: [44,226,46], damage: [.9,1] },
				{ mid: 376, LVL: 55, FP: 35, TP: 0, AA: 47, AR: 33, equips: [1,1,226], damage: [.9,1] },
				{ mid: 377, LVL: 55, FP: 36, TP: 0, AA: 47, AR: 33, equips: [1,1,226], damage: [.9,1] },
			] },
			'E1-3': { ships: [
				{ mid: 497, LVL: 79, FP: 69, TP: 85, AA: 71, AR: 50, equips: [288,227,149] },
				{ mid: 246, LVL: 74, FP: 49, TP: 79, AA: 49, AR: 49, equips: [287,227,101] },
				{ mid: 323, LVL: 75, FP: 49, TP: 76, AA: 49, AR: 49, equips: [266,286,88] },
				{ mid: 145, LVL: 79, FP: 60, TP: 86, AA: 72, AR: 52, equips: [286,286,286] },
			] },
			'E1-4': { ships: [
				{ mid: 695, LVL: 72, FP: 50, TP: 80, AA: 50, AR: 49, equips: [287,227,47] },
				{ mid: 324, LVL: 73, FP: 50, TP: 74, AA: 50, AR: 49, equips: [287,227,47] },
				{ mid: 325, LVL: 71, FP: 50, TP: 77, AA: 50, AR: 49, equips: [267,286,88] },
				{ mid: 543, LVL: 77, FP: 69, TP: 89, AA: 64, AR: 53, equips: [286,286,286] },
			] },
			'E1-5': { ships: [
				{ mid: 383, LVL: 57, FP: 37, TP: 0, AA: 53, AR: 33, equips: [44,226,46], damage: [.9,1] },
				{ mid: 685, LVL: 52, FP: 32, TP: 0, AA: 48, AR: 34, equips: [44,226,46], damage: [.9,1] },
				{ mid: 376, LVL: 55, FP: 34, TP: 0, AA: 46, AR: 32, equips: [44,226,46], damage: [.9,1] },
				{ mid: 377, LVL: 55, FP: 35, TP: 0, AA: 44, AR: 33, equips: [1,1,226], damage: [.9,1] },
				{ mid: 378, LVL: 54, FP: 35, TP: 0, AA: 49, AR: 33, equips: [1,1,1], damage: [.9,1] },
			] },
			'E1-6': { ships: [
				{ mid: 285, LVL: 82, FP: 29, TP: 0, AA: 39, AR: 49, equips: [338,345,259] },
				{ mid: 192, LVL: 81, FP: 80, TP: 84, AA: 83, AR: 78, equips: [90,90,74,101] },
				{ mid: 547, LVL: 80, FP: 60, TP: 89, AA: 83, AR: 69, equips: [287,227,268] },
				{ mid: 464, LVL: 77, FP: 59, TP: 86, AA: 70, AR: 52, equips: [45,226,47] },
				{ mid: 567, LVL: 76, FP: 65, TP: 88, AA: 64, AR: 54, equips: [286,286,286] },
			] },
			'E1-7': { ships: [
				{ mid: 306, LVL: 80, FP: 68, TP: 79, AA: 72, AR: 69, equips: [287,227,149] },
				{ mid: 193, LVL: 82, FP: 82, TP: 84, AA: 74, AR: 79, equips: [90,90,101,74] },
				{ mid: 686, LVL: 72, FP: 50, TP: 79, AA: 56, AR: 49, equips: [287,227,47], damage: [.9,1] },
				{ mid: 569, LVL: 79, FP: 65, TP: 87, AA: 71, AR: 53, equips: [267,286,88], damage: [.9,1] },
				{ mid: 543, LVL: 77, FP: 69, TP: 89, AA: 64, AR: 53, equips: [286,286,286] },
			] },
			'E4-1': { ships: [
				{ mid: 700, LVL: 80, FP: 49, TP: 77, AA: 48, AR: 49, equips: [294,294,101] },
				{ mid: 206, LVL: 81, FP: 49, TP: 79, AA: 49, AR: 49, equips: [294,285,88] },
				{ mid: 426, LVL: 84, FP: 59, TP: 88, AA: 78, AR: 50, equips: [285,285,285] },
			] },
			'E4-2': { ships: [
				{ mid: 634, LVL: 44, FP: 32, TP: 0, AA: 32, AR: 27, equips: [310,310] },
				{ mid: 607, LVL: 66, FP: 12, TP: 86, AA: 0, AR: 21, equips: [383,384] },
				{ mid: 399, LVL: 68, FP: 12, TP: 80, AA: 0, AR: 19, equips: [214,384] },
			] },
			'E4-3': { ships: [
				{ mid: 285, LVL: 82, FP: 29, TP: 0, AA: 39, AR: 49, equips: [338,345,259] },
				{ mid: 193, LVL: 81, FP: 82, TP: 84, AA: 74, AR: 79, equips: [90,90,101,74] },
				{ mid: 464, LVL: 77, FP: 65, TP: 92, AA: 72, AR: 52, equips: [266,286,88] },
				{ mid: 325, LVL: 71, FP: 49, TP: 75, AA: 50, AR: 49, equips: [286,286,286] },
			] },
			'E4-4': { ships: [
				{ mid: 306, LVL: 80, FP: 68, TP: 76, AA: 72, AR: 69, equips: [139,139,74] },
				{ mid: 700, LVL: 80, FP: 49, TP: 79, AA: 48, AR: 49, equips: [294,294,101] },
				{ mid: 206, LVL: 81, FP: 49, TP: 79, AA: 49, AR: 49, equips: [294,285,88] },
				{ mid: 426, LVL: 84, FP: 59, TP: 88, AA: 78, AR: 50, equips: [285,285,285] },
			] },
			'E4-5': { ships: [
				{ mid: 196, LVL: 92, FP: 65, TP: 0, AA: 82, AR: 76, equips: [338,374,83,259] },
				{ mid: 197, LVL: 91, FP: 62, TP: 0, AA: 84, AR: 75, equips: [338,374,83,259] },
				{ mid: 206, LVL: 81, FP: 49, TP: 79, AA: 49, AR: 49, equips: [294,285,88] },
				{ mid: 700, LVL: 80, FP: 49, TP: 79, AA: 48, AR: 49, equips: [285,285,285] },
			] },
			'E4-6': { ships: [
				{ mid: 639, LVL: 88, FP: 40, TP: 0, AA: 34, AR: 34, equips: [310,310,101] },
				{ mid: 399, LVL: 68, FP: 12, TP: 79, AA: 0, AR: 19, equips: [214,384] },
				{ mid: 607, LVL: 66, FP: 12, TP: 84, AA: 0, AR: 21, equips: [383,384] },
				{ mid: 419, LVL: 79, FP: 59, TP: 81, AA: 81, AR: 55, equips: [266,285,88] },
				{ mid: 578, LVL: 78, FP: 68, TP: 81, AA: 70, AR: 53, equips: [286,286,286] },
			] },
			'E4-7': { ships: [
				{ mid: 285, LVL: 82, FP: 29, TP: 0, AA: 39, AR: 49, equips: [338,345,259] },
				{ mid: 193, LVL: 82, FP: 82, TP: 84, AA: 74, AR: 79, equips: [90,90,90,74] },
				{ mid: 192, LVL: 81, FP: 80, TP: 84, AA: 83, AR: 78, equips: [90,90,90,101] },
				{ mid: 464, LVL: 77, FP: 65, TP: 87, AA: 72, AR: 52, equips: [266,286,88] },
				{ mid: 567, LVL: 76, FP: 67, TP: 87, AA: 64, AR: 54, equips: [286,286,286] },
			] },
			'E4-8': { ships: [
				{ mid: 306, LVL: 80, FP: 68, TP: 79, AA: 71, AR: 69, equips: [139,139,101] },
				{ mid: 285, LVL: 82, FP: 29, TP: 0, AA: 39, AR: 49, equips: [338,345,259] },
				{ mid: 192, LVL: 81, FP: 80, TP: 84, AA: 83, AR: 78, equips: [90,90,101,74] },
				{ mid: 206, LVL: 81, FP: 49, TP: 75, AA: 49, AR: 49, equips: [294,285,88] },
				{ mid: 700, LVL: 80, FP: 49, TP: 79, AA: 48, AR: 49, equips: [285,285,285] },
			] },
			'E4-9': { ships: [
				{ mid: 560, LVL: 81, FP: 48, TP: 0, AA: 88, AR: 72, equips: [374,82,338,259] },
				{ mid: 330, LVL: 71, FP: 57, TP: 54, AA: 116, AR: 53, equips: [122,3,101] },
				{ mid: 357, LVL: 70, FP: 60, TP: 54, AA: 110, AR: 54, equips: [122,286,88] },
				{ mid: 328, LVL: 73, FP: 49, TP: 79, AA: 49, AR: 48, equips: [266,286,88] },
				{ mid: 329, LVL: 72, FP: 48, TP: 79, AA: 49, AR: 49, equips: [286,286,286] },
			] },
			'E4-10': { ships: [
				{ mid: 196, LVL: 92, FP: 60, TP: 0, AA: 82, AR: 76, equips: [338,374,83,259] },
				{ mid: 197, LVL: 91, FP: 62, TP: 0, AA: 84, AR: 75, equips: [338,374,83,259] },
				{ mid: 426, LVL: 84, FP: 59, TP: 88, AA: 78, AR: 50, equips: [295,295,101] },
				{ mid: 206, LVL: 81, FP: 49, TP: 79, AA: 49, AR: 49, equips: [294,285,88] },
				{ mid: 700, LVL: 80, FP: 49, TP: 79, AA: 48, AR: 49, equips: [285,285,285] },
			] },
			'E4-11': { ships: [
				{ mid: 639, LVL: 88, FP: 40, TP: 0, AA: 34, AR: 34, equips: [310,310,101] },
				{ mid: 607, LVL: 66, FP: 12, TP: 84, AA: 0, AR: 21, equips: [383,384] },
				{ mid: 399, LVL: 68, FP: 12, TP: 79, AA: 0, AR: 19, equips: [214,384] },
				{ mid: 419, LVL: 79, FP: 59, TP: 85, AA: 81, AR: 55, equips: [266,285,88] },
				{ mid: 578, LVL: 78, FP: 68, TP: 84, AA: 70, AR: 53, equips: [266,285,88] },
				{ mid: 700, LVL: 80, FP: 49, TP: 79, AA: 48, AR: 49, equips: [285,285,285] },
			] },
			'E4-12': { ships: [
				{ mid: 560, LVL: 81, FP: 48, TP: 0, AA: 88, AR: 72, equips: [374,82,338,259] },
				{ mid: 285, LVL: 82, FP: 29, TP: 0, AA: 39, AR: 49, equips: [338,345,259] },
				{ mid: 330, LVL: 71, FP: 57, TP: 54, AA: 116, AR: 53, equips: [122,3,101] },
				{ mid: 357, LVL: 70, FP: 60, TP: 54, AA: 110, AR: 54, equips: [122,286,88] },
				{ mid: 328, LVL: 73, FP: 49, TP: 69, AA: 49, AR: 48, equips: [266,286,88] },
				{ mid: 329, LVL: 72, FP: 48, TP: 79, AA: 49, AR: 49, equips: [286,286,286] },
			] },
			'E4-13': { ships: [
				{ mid: 196, LVL: 92, FP: 65, TP: 0, AA: 82, AR: 76, equips: [338,374,83,259] },
				{ mid: 197, LVL: 91, FP: 62, TP: 0, AA: 84, AR: 75, equips: [338,374,83,259] },
				{ mid: 330, LVL: 71, FP: 57, TP: 54, AA: 116, AR: 53, equips: [122,3,101] },
				{ mid: 357, LVL: 70, FP: 60, TP: 54, AA: 110, AR: 54, equips: [122,286,88] },
				{ mid: 328, LVL: 73, FP: 49, TP: 79, AA: 49, AR: 48, equips: [266,286,88] },
				{ mid: 329, LVL: 72, FP: 48, TP: 75, AA: 49, AR: 49, equips: [286,286,286] },
			] },
			'E4-14': { ships: [
				{ mid: 196, LVL: 92, FP: 65, TP: 0, AA: 82, AR: 76, equips: [338,374,83,259] },
				{ mid: 197, LVL: 91, FP: 62, TP: 0, AA: 84, AR: 75, equips: [338,374,83,259] },
				{ mid: 560, LVL: 81, FP: 48, TP: 0, AA: 86, AR: 72, equips: [374,82,338,259] },
				{ mid: 330, LVL: 71, FP: 57, TP: 54, AA: 116, AR: 53, equips: [122,3,101] },
				{ mid: 328, LVL: 73, FP: 49, TP: 79, AA: 49, AR: 48, equips: [266,286,88] },
				{ mid: 329, LVL: 72, FP: 48, TP: 79, AA: 49, AR: 49, equips: [286,286,286] },
			] },
			'E6-1': { ships: [
				{ mid: 345, LVL: 75, FP: 51, TP: 80, AA: 50, AR: 49, equips: [267,267,74], damage: [.9,1] },
				{ mid: 543, LVL: 77, FP: 67, TP: 89, AA: 63, AR: 53, equips: [286,286,286], damage: [.9,1] },
			] },
			'E6-2': { ships: [
				{ mid: 345, LVL: 75, FP: 51, TP: 80, AA: 50, AR: 49, equips: [267,267,74], damage: [.9,1] },
				{ mid: 469, LVL: 80, FP: 62, TP: 93, AA: 64, AR: 51, equips: [286,286,286], damage: [.9,1] },
				{ mid: 543, LVL: 77, FP: 69, TP: 85, AA: 64, AR: 53, equips: [286,286,286], damage: [.9,1] },
			] },
			'E6-3': { ships: [
				{ mid: 345, LVL: 75, FP: 51, TP: 80, AA: 50, AR: 49, equips: [267,267,74], damage: [.9,1] },
				{ mid: 362, LVL: 80, FP: 50, TP: 78, AA: 48, AR: 49, equips: [266,266,101], damage: [.9,1] },
				{ mid: 543, LVL: 77, FP: 69, TP: 89, AA: 64, AR: 53, equips: [286,286,286], damage: [.9,1] },
			] },
			'E6-4': { ships: [
				{ mid: 498, LVL: 85, FP: 68, TP: 88, AA: 70, AR: 51, equips: [266,266,74], damage: [.9,1] },
				{ mid: 144, LVL: 84, FP: 73, TP: 93, AA: 59, AR: 52, equips: [286,286,286], damage: [.9,1] },
				{ mid: 323, LVL: 83, FP: 49, TP: 79, AA: 49, AR: 49, equips: [266,266,101], damage: [.9,1] },
				{ mid: 246, LVL: 82, FP: 49, TP: 79, AA: 49, AR: 49, equips: [286,286,286], damage: [.9,1] },
			] },
			'E6-5': { ships: [
				{ mid: 345, LVL: 75, FP: 51, TP: 80, AA: 50, AR: 49, equips: [267,267,74], damage: [.9,1] },
				{ mid: 543, LVL: 77, FP: 69, TP: 89, AA: 64, AR: 53, equips: [286,286,286], damage: [.9,1] },
				{ mid: 247, LVL: 81, FP: 49, TP: 79, AA: 49, AR: 49, equips: [266,266,101], damage: [.9,1] },
				{ mid: 469, LVL: 80, FP: 62, TP: 96, AA: 64, AR: 51, equips: [286,286,286], damage: [.9,1] },
			] },
			'E6-6': { ships: [
				{ mid: 119, LVL: 85, FP: 63, TP: 139, AA: 49, AR: 63, equips: [58,58,58], damage: [.9,1] },
				{ mid: 118, LVL: 85, FP: 63, TP: 139, AA: 49, AR: 63, equips: [58,58,58], damage: [.9,1] },
				{ mid: 587, LVL: 83, FP: 61, TP: 93, AA: 69, AR: 51, equips: [266,266,101], damage: [.9,1] },
				{ mid: 469, LVL: 82, FP: 62, TP: 96, AA: 64, AR: 51, equips: [286,286,286], damage: [.9,1] },
			] },
			'E6-7': { ships: [
				{ mid: 591, LVL: 93, FP: 99, TP: 44, AA: 89, AR: 91, equips: [329,329,116,74], damage: [.9,1] },
				{ mid: 151, LVL: 88, FP: 96, TP: 0, AA: 92, AR: 93, equips: [289,289,116,101], damage: [.9,1] },
				{ mid: 568, LVL: 81, FP: 68, TP: 83, AA: 65, AR: 53, equips: [266,286,88], damage: [.9,1] },
				{ mid: 362, LVL: 80, FP: 50, TP: 78, AA: 48, AR: 49, equips: [286,286,286], damage: [.9,1] },
			] },
			'E6-8': { ships: [
				{ mid: 488, LVL: 88, FP: 56, TP: 80, AA: 88, AR: 67, equips: [229,229,74], damage: [.9,1] },
				{ mid: 498, LVL: 85, FP: 68, TP: 88, AA: 70, AR: 51, equips: [266,286,88], damage: [.9,1] },
				{ mid: 323, LVL: 83, FP: 49, TP: 79, AA: 49, AR: 49, equips: [266,286,88], damage: [.9,1] },
				{ mid: 246, LVL: 82, FP: 49, TP: 79, AA: 49, AR: 49, equips: [266,266,101], damage: [.9,1] },
				{ mid: 144, LVL: 84, FP: 73, TP: 93, AA: 59, AR: 52, equips: [286,286,286], damage: [.9,1] },
			] },
			'E6-9': { ships: [
				{ mid: 119, LVL: 85, FP: 63, TP: 139, AA: 49, AR: 63, equips: [58,58,58], damage: [.9,1] },
				{ mid: 118, LVL: 85, FP: 63, TP: 139, AA: 49, AR: 63, equips: [58,58,58], damage: [.9,1] },
				{ mid: 345, LVL: 75, FP: 51, TP: 77, AA: 50, AR: 49, equips: [267,267,74], damage: [.9,1] },
				{ mid: 543, LVL: 77, FP: 69, TP: 86, AA: 64, AR: 53, equips: [286,286,286], damage: [.9,1] },
				{ mid: 587, LVL: 83, FP: 61, TP: 93, AA: 69, AR: 51, equips: [266,266,101], damage: [.9,1] },
				{ mid: 469, LVL: 82, FP: 62, TP: 94, AA: 64, AR: 51, equips: [286,286,286], damage: [.9,1] },
			] },
			'E6-10': { ships: [
				{ mid: 488, LVL: 88, FP: 56, TP: 80, AA: 88, AR: 67, equips: [229,229,88], damage: [.9,1] },
				{ mid: 330, LVL: 72, FP: 57, TP: 54, AA: 116, AR: 53, equips: [122,122,74], damage: [.9,1] },
				{ mid: 498, LVL: 85, FP: 68, TP: 83, AA: 70, AR: 51, equips: [266,286,88], damage: [.9,1] },
				{ mid: 323, LVL: 83, FP: 49, TP: 79, AA: 49, AR: 49, equips: [266,286,88], damage: [.9,1] },
				{ mid: 246, LVL: 82, FP: 49, TP: 79, AA: 49, AR: 49, equips: [266,266,101], damage: [.9,1] },
				{ mid: 144, LVL: 84, FP: 71, TP: 93, AA: 59, AR: 52, equips: [286,286,286], damage: [.9,1] },
			] },
			'E6-11': { ships: [
				{ mid: 591, LVL: 93, FP: 99, TP: 44, AA: 89, AR: 91, equips: [329,329,116,74], damage: [.9,1] },
				{ mid: 151, LVL: 90, FP: 96, TP: 0, AA: 92, AR: 93, equips: [289,289,116,101], damage: [.9,1] },
				{ mid: 568, LVL: 81, FP: 69, TP: 88, AA: 65, AR: 53, equips: [266,286,88], damage: [.9,1] },
				{ mid: 362, LVL: 80, FP: 50, TP: 78, AA: 48, AR: 49, equips: [286,286,286], damage: [.9,1] },
				{ mid: 345, LVL: 75, FP: 51, TP: 78, AA: 50, AR: 49, equips: [267,286,88], damage: [.9,1] },
				{ mid: 543, LVL: 77, FP: 69, TP: 80, AA: 64, AR: 53, equips: [286,286,286], damage: [.9,1] },
			] },
			'E7Y-1': { ships: [
				{ mid: 628, LVL: 89, FP: 60, TP: 86, AA: 92, AR: 54, equips: [313,376,315] },
				{ mid: 689, LVL: 82, FP: 55, TP: 72, AA: 90, AR: 52, equips: [376,376,376], damage: [.9,1] },
			] },
			'E7Y-2': { ships: [
				{ mid: 703, LVL: 71, FP: 45, TP: 75, AA: 54, AR: 49, equips: [266,266,74], damage: [.9,1] },
				{ mid: 497, LVL: 79, FP: 69, TP: 87, AA: 71, AR: 50, equips: [286,286,286], damage: [.9,1] },
				{ mid: 145, LVL: 79, FP: 60, TP: 81, AA: 72, AR: 52, equips: [286,286,286], damage: [.9,1] },
			] },
			'E7Y-3': { ships: [
				{ mid: 497, LVL: 79, FP: 69, TP: 85, AA: 71, AR: 50, equips: [266,266,74], damage: [.9,1] },
				{ mid: 145, LVL: 79, FP: 60, TP: 86, AA: 72, AR: 52, equips: [286,286,286], damage: [.9,1] },
				{ mid: 703, LVL: 71, FP: 48, TP: 76, AA: 54, AR: 49, equips: [286,286,286], damage: [.9,1] },
			] },
			'E7Y-4': { ships: [
				{ mid: 600, LVL: 83, FP: 76, TP: 60, AA: 75, AR: 73, equips: [357,357,101,74], damage: [.9,1] },
				{ mid: 628, LVL: 89, FP: 60, TP: 86, AA: 92, AR: 54, equips: [313,376,315] },
				{ mid: 689, LVL: 82, FP: 55, TP: 72, AA: 90, AR: 52, equips: [376,376,376], damage: [.9,1] },
			] },
			'E7Y-5': { ships: [
				{ mid: 1496, LVL: 85, FP: 105, TP: 0, AA: 97, AR: 99, equips: [331,331,101,74], damage: [.9,1] },
				{ mid: 628, LVL: 89, FP: 60, TP: 86, AA: 91, AR: 54, equips: [313,376,315] },
				{ mid: 689, LVL: 82, FP: 55, TP: 72, AA: 90, AR: 52, equips: [376,376,376], damage: [.9,1] },
			] },
			'E7Y-6': { ships: [
				{ mid: 394, LVL: 90, FP: 52, TP: 90, AA: 70, AR: 50, equips: [280,280,315] },
				{ mid: 893, LVL: 89, FP: 53, TP: 90, AA: 72, AR: 50, equips: [280,280,101], damage: [.9,1] },
				{ mid: 689, LVL: 82, FP: 55, TP: 72, AA: 90, AR: 52, equips: [313,376,315], damage: [.9,1] },
				{ mid: 628, LVL: 89, FP: 60, TP: 86, AA: 92, AR: 54, equips: [376,376,376] },
			] },
			'E7Y-7': { ships: [
				{ mid: 195, LVL: 90, FP: 74, TP: 87, AA: 52, AR: 54, equips: [296,285,88], damage: [.9,1] },
				{ mid: 627, LVL: 89, FP: 61, TP: 88, AA: 62, AR: 51, equips: [296,285,88], damage: [.9,1] },
				{ mid: 206, LVL: 82, FP: 49, TP: 79, AA: 49, AR: 49, equips: [294,294,101], damage: [.9,1] },
				{ mid: 368, LVL: 81, FP: 49, TP: 79, AA: 54, AR: 49, equips: [285,285,285], damage: [.9,1] },
			] },
			'E7Y-8': { ships: [
				{ mid: 1496, LVL: 85, FP: 105, TP: 0, AA: 100, AR: 99, equips: [331,331,331,315], damage: [.9,1] },
				{ mid: 600, LVL: 83, FP: 76, TP: 60, AA: 75, AR: 73, equips: [357,357,358,101], damage: [.9,1] },
				{ mid: 628, LVL: 89, FP: 60, TP: 86, AA: 92, AR: 54, equips: [313,376,315] },
				{ mid: 689, LVL: 82, FP: 55, TP: 72, AA: 90, AR: 52, equips: [376,376,376], damage: [.9,1] },
			] },
			'E7Y-9': { ships: [
				{ mid: 576, LVL: 80, FP: 114, TP: 0, AA: 90, AR: 104, equips: [299,299,101,74], damage: [.9,1] },
				{ mid: 364, LVL: 95, FP: 106, TP: 0, AA: 98, AR: 93, equips: [192,192,192,191] },
				{ mid: 893, LVL: 89, FP: 53, TP: 90, AA: 72, AR: 50, equips: [280,314,315], damage: [.9,1] },
				{ mid: 394, LVL: 90, FP: 52, TP: 90, AA: 70, AR: 50, equips: [376,376,376] },
			] },
			'E7Y-10': { ships: [
				{ mid: 639, LVL: 88, FP: 40, TP: 0, AA: 34, AR: 34, equips: [310,310,101] },
				{ mid: 607, LVL: 66, FP: 12, TP: 88, AA: 0, AR: 21, equips: [383,384] },
				{ mid: 399, LVL: 68, FP: 12, TP: 77, AA: 0, AR: 19, equips: [214,384] },
				{ mid: 374, LVL: 48, FP: 16, TP: 71, AA: 0, AR: 22, equips: [214,214,384] },
				{ mid: 375, LVL: 47, FP: 12, TP: 63, AA: 0, AR: 23, equips: [214,214,384] },
			] },
			'E7Y-11': { ships: [
				{ mid: 1496, LVL: 85, FP: 105, TP: 0, AA: 96, AR: 99, equips: [331,331,331,74], damage: [.9,1] },
				{ mid: 545, LVL: 90, FP: 68, TP: 0, AA: 94, AR: 85, equips: [255,257,257,257], damage: [.9,1] },
				{ mid: 600, LVL: 83, FP: 76, TP: 60, AA: 75, AR: 73, equips: [357,357,358,101], damage: [.9,1] },
				{ mid: 628, LVL: 89, FP: 60, TP: 86, AA: 92, AR: 54, equips: [313,376,315] },
				{ mid: 689, LVL: 82, FP: 55, TP: 72, AA: 90, AR: 52, equips: [376,376,376], damage: [.9,1] },
			] },
			'E7Y-12': { ships: [
				{ mid: 576, LVL: 80, FP: 114, TP: 0, AA: 85, AR: 104, equips: [299,299,101,74], damage: [.9,1] },
				{ mid: 364, LVL: 95, FP: 106, TP: 0, AA: 98, AR: 93, equips: [192,192,192,191] },
				{ mid: 393, LVL: 85, FP: 50, TP: 0, AA: 82, AR: 70, equips: [244,257,255,259], damage: [.9,1] },
				{ mid: 893, LVL: 89, FP: 53, TP: 90, AA: 72, AR: 50, equips: [280,314,315], damage: [.9,1] },
				{ mid: 394, LVL: 90, FP: 52, TP: 90, AA: 70, AR: 50, equips: [376,376,376] },
			] },
			'E7Z-1': { ships: [
				{ mid: 700, LVL: 80, FP: 49, TP: 79, AA: 48, AR: 49, equips: [294,294,101] },
				{ mid: 206, LVL: 81, FP: 49, TP: 79, AA: 49, AR: 49, equips: [285,285,285] },
				{ mid: 426, LVL: 84, FP: 59, TP: 88, AA: 78, AR: 50, equips: [285,285,285] },
			] },
			'E7Z-2': { ships: [
				{ mid: 703, LVL: 71, FP: 48, TP: 75, AA: 54, AR: 49, equips: [266,266,74] },
				{ mid: 497, LVL: 79, FP: 68, TP: 87, AA: 71, AR: 50, equips: [286,286,286] },
				{ mid: 145, LVL: 79, FP: 60, TP: 86, AA: 72, AR: 52, equips: [286,286,286] },
			] },
			'E7Z-3': { ships: [
				{ mid: 497, LVL: 79, FP: 69, TP: 85, AA: 71, AR: 50, equips: [266,266,74], damage: [.9,1] },
				{ mid: 145, LVL: 79, FP: 60, TP: 81, AA: 69, AR: 52, equips: [286,286,286], damage: [.9,1] },
				{ mid: 703, LVL: 71, FP: 48, TP: 76, AA: 54, AR: 49, equips: [286,286,286], damage: [.9,1] },
			] },
			'E7Z-4': { ships: [
				{ mid: 602, LVL: 47, FP: 100, TP: 0, AA: 76, AR: 93, equips: [381,381,74,315], damage: [.9,1] },
				{ mid: 628, LVL: 90, FP: 60, TP: 86, AA: 92, AR: 54, equips: [308,308,101], damage: [.9,1] },
				{ mid: 689, LVL: 79, FP: 55, TP: 72, AA: 90, AR: 52, equips: [376,376,376], damage: [.9,1] },
			] },
			'E7Z-5': { ships: [
				{ mid: 700, LVL: 80, FP: 49, TP: 79, AA: 48, AR: 49, equips: [294,294,101] },
				{ mid: 206, LVL: 81, FP: 49, TP: 79, AA: 49, AR: 49, equips: [294,285,88] },
				{ mid: 204, LVL: 82, FP: 49, TP: 79, AA: 49, AR: 49, equips: [285,285,285] },
				{ mid: 426, LVL: 84, FP: 59, TP: 88, AA: 78, AR: 50, equips: [285,285,285] },
			] },
			'E7Z-6': { ships: [
				{ mid: 1496, LVL: 75, FP: 105, TP: 0, AA: 92, AR: 99, equips: [331,331,331,315], damage: [.9,1] },
				{ mid: 602, LVL: 47, FP: 100, TP: 0, AA: 76, AR: 93, equips: [381,381,74,315], damage: [.9,1] },
				{ mid: 628, LVL: 90, FP: 60, TP: 86, AA: 92, AR: 54, equips: [308,308,101], damage: [.9,1] },
				{ mid: 689, LVL: 79, FP: 55, TP: 72, AA: 89, AR: 52, equips: [376,376,376], damage: [.9,1] },
			] },
			'E7Z-7': { ships: [
				{ mid: 306, LVL: 80, FP: 68, TP: 79, AA: 72, AR: 69, equips: [139,139,74], damage: [.9,1] },
				{ mid: 426, LVL: 84, FP: 59, TP: 88, AA: 78, AR: 50, equips: [295,295,101] },
				{ mid: 204, LVL: 82, FP: 49, TP: 79, AA: 49, AR: 49, equips: [285,285,285] },
				{ mid: 206, LVL: 81, FP: 49, TP: 79, AA: 49, AR: 49, equips: [294,285,88] },
				{ mid: 700, LVL: 80, FP: 49, TP: 74, AA: 48, AR: 49, equips: [285,285,285] },
			] },
			'E7Z-8': { ships: [
				{ mid: 196, LVL: 92, FP: 65, TP: 0, AA: 82, AR: 76, equips: [338,374,144,259], damage: [.9,1] },
				{ mid: 197, LVL: 91, FP: 62, TP: 0, AA: 84, AR: 75, equips: [338,374,144,259], damage: [.9,1] },
				{ mid: 306, LVL: 80, FP: 68, TP: 79, AA: 72, AR: 69, equips: [139,139,101], damage: [.9,1] },
				{ mid: 703, LVL: 71, FP: 48, TP: 72, AA: 54, AR: 49, equips: [286,286,286], damage: [.9,1] },
				{ mid: 497, LVL: 79, FP: 63, TP: 87, AA: 71, AR: 50, equips: [286,286,286], damage: [.9,1] },
			] },
			'E7Z-9': { ships: [
				{ mid: 196, LVL: 92, FP: 65, TP: 0, AA: 82, AR: 76, equips: [338,374,144,259], damage: [.9,1] },
				{ mid: 197, LVL: 91, FP: 62, TP: 0, AA: 84, AR: 75, equips: [338,374,144,259], damage: [.9,1] },
				{ mid: 697, LVL: 57, FP: 109, TP: 0, AA: 104, AR: 108, equips: [385,385,74,315], damage: [.9,1] },
				{ mid: 628, LVL: 90, FP: 60, TP: 86, AA: 92, AR: 54, equips: [308,308,101], damage: [.9,1] },
				{ mid: 689, LVL: 79, FP: 55, TP: 72, AA: 90, AR: 52, equips: [376,376,376], damage: [.9,1] },
			] },
			'E7Z-10': { ships: [
				{ mid: 196, LVL: 92, FP: 65, TP: 0, AA: 82, AR: 76, equips: [338,374,144,259], damage: [.9,1] },
				{ mid: 197, LVL: 91, FP: 62, TP: 0, AA: 84, AR: 75, equips: [338,374,144,259], damage: [.9,1] },
				{ mid: 285, LVL: 82, FP: 29, TP: 0, AA: 39, AR: 49, equips: [338,345,259] },
				{ mid: 306, LVL: 80, FP: 68, TP: 79, AA: 72, AR: 69, equips: [139,139,101], damage: [.9,1] },
				{ mid: 206, LVL: 81, FP: 49, TP: 79, AA: 49, AR: 49, equips: [285,285,285], damage: [.9,1] },
				{ mid: 700, LVL: 80, FP: 49, TP: 79, AA: 48, AR: 49, equips: [285,285,285], damage: [.9,1] },
			] },
			'E7Z-11': { ships: [
				{ mid: 599, LVL: 96, FP: 67, TP: 0, AA: 84, AR: 81, equips: [339,374,144,320,108], damage: [.9,1] },
				{ mid: 278, LVL: 94, FP: 50, TP: 0, AA: 79, AR: 79, equips: [339,374,144,259], damage: [.9,1] },
				{ mid: 285, LVL: 82, FP: 29, TP: 0, AA: 39, AR: 49, equips: [338,345,259] },
				{ mid: 305, LVL: 79, FP: 67, TP: 79, AA: 71, AR: 69, equips: [139,139,101], damage: [.9,1] },
				{ mid: 206, LVL: 81, FP: 49, TP: 79, AA: 49, AR: 49, equips: [285,285,285], damage: [.9,1] },
				{ mid: 700, LVL: 80, FP: 49, TP: 79, AA: 48, AR: 49, equips: [285,285,285], damage: [.9,1] },
			] },
			'E7Z-12': { ships: [
				{ mid: 599, LVL: 96, FP: 67, TP: 0, AA: 84, AR: 81, equips: [339,374,144,320,108], damage: [.9,1] },
				{ mid: 278, LVL: 94, FP: 50, TP: 0, AA: 79, AR: 79, equips: [339,374,144,259], damage: [.9,1] },
				{ mid: 196, LVL: 92, FP: 61, TP: 0, AA: 82, AR: 76, equips: [338,374,144,259], damage: [.9,1] },
				{ mid: 197, LVL: 91, FP: 62, TP: 0, AA: 84, AR: 75, equips: [338,374,144,259], damage: [.9,1] },
				{ mid: 301, LVL: 73, FP: 44, TP: 79, AA: 59, AR: 49, equips: [267,286,88], damage: [.9,1] },
				{ mid: 563, LVL: 75, FP: 64, TP: 88, AA: 65, AR: 53, equips: [286,286,286], damage: [.9,1] },
			] },
			'E7Z-13': { ships: [
				{ mid: 599, LVL: 96, FP: 67, TP: 0, AA: 84, AR: 81, equips: [339,374,144,320,108], damage: [.9,1] },
				{ mid: 278, LVL: 94, FP: 50, TP: 0, AA: 79, AR: 79, equips: [339,374,144,259], damage: [.9,1] },
				{ mid: 196, LVL: 92, FP: 65, TP: 0, AA: 82, AR: 76, equips: [338,374,144,259], damage: [.9,1] },
				{ mid: 197, LVL: 91, FP: 61, TP: 0, AA: 84, AR: 75, equips: [338,374,144,259], damage: [.9,1] },
				{ mid: 558, LVL: 76, FP: 58, TP: 78, AA: 87, AR: 54, equips: [266,286,88], damage: [.9,1] },
				{ mid: 559, LVL: 76, FP: 57, TP: 81, AA: 79, AR: 51, equips: [286,286,286], damage: [.9,1] },
			] },
			'E7Z-14': { ships: [
				{ mid: 599, LVL: 96, FP: 67, TP: 0, AA: 84, AR: 81, equips: [339,374,144,320,108], damage: [.9,1] },
				{ mid: 278, LVL: 94, FP: 50, TP: 0, AA: 79, AR: 79, equips: [339,374,144,259], damage: [.9,1] },
				{ mid: 545, LVL: 91, FP: 65, TP: 0, AA: 94, AR: 85, equips: [255,257,257,257], damage: [.9,1] },
				{ mid: 697, LVL: 57, FP: 109, TP: 0, AA: 104, AR: 108, equips: [385,385,74,315], damage: [.9,1] },
				{ mid: 628, LVL: 90, FP: 60, TP: 86, AA: 92, AR: 54, equips: [308,308,101], damage: [.9,1] },
				{ mid: 689, LVL: 79, FP: 55, TP: 72, AA: 90, AR: 52, equips: [376,376,376], damage: [.9,1] },
			] },
		},
		friendFleetWaves: {
			1: { date: '2020-07-17' },
			2: { date: '2020-08-07' },
		},
		maps: {
			1: {
				name: 'E-1',
				nameT: 'Requiem for the Fleet Convoy Ki-504',
				fleetTypes: [0],
				bgmMap: 154,
				bgmDN: 155,
				bgmNN: 155,
				bgmDB: 156,
				bgmNB: 156,
				bossnode: ['M','T'],
				giveLock: '48_1',
				checkLock: ['48_2','48_3','48_4','48_5','48_6','48_7','48_8','48_9'],
				parts: {
					1: {
						currentBoss: 'M',
						transport: 'L',
						maphp: {
							3: { 1: 750 },
							2: { 1: 600 },
							1: { 1: 400 },
							4: { 1: 400 },
						},
						finalhp: null,
					},
					2: {
						currentBoss: 'T',
						transport: null,
						maphp: {
							3: { 1: 3000 },
							2: { 1: 2400 },
							1: { 1: 1800 },
							4: { 1: 1800 },
						},
						finalhp: {
							3: 590,
							2: 480,
							1: 330,
							4: 330,
						},
					},
				},
				reward: { ships: [631], firstOnly: true },
				hiddenRoutes: {
					1: {
						images: [{ name: '1_1.png', x: 0, y: 0 }],
						unlock: function(debuff) {
							return CHDATA.event.maps[1].part >= 2 && (CHDATA.event.maps[1].diff != 3 || (debuff && debuff.F));
						}
					},
				},
				additionalChecks: function(ships,errors) {
					if (ships.FBB + ships.BB + ships.BBV) errors.push('No (F)BB(V)');
					if (ships.CV + ships.CVL + ships.CVB) errors.push('No (CV(L/B)');
					if (ships.ids.indexOf(161) != -1 || ships.ids.indexOf(166) != -1) errors.push('No Akitsu Maru');
				},
				applyBonus: function(ships) {
					for (let ship of ships) {
						let mid = getBaseId(ship.mid);
						let bonus = [];
						if ([18,49,63,64,100,101,114].indexOf(mid) != -1) {
							bonus.push({mod:1.15});
						}
						if ([15,16].indexOf(mid) != -1) {
							bonus.push({mod:1.25});
						}
						if (ship.type == 'DD') {
							bonus.push({mod:1.1});
						}
						if (ship.type == 'DE') {
							bonus.push({mod:1.35});
						}
						if (bonus.length) ship.bonusSpecialAcc = ship.bonusSpecial = bonus;
					}
				},
				startCheck: function() {
					let ships = (FLEETS1[1])? FLEETS1[0].ships.concat(FLEETS1[1].ships) : FLEETS1[0].ships;
					this.applyBonus(ships);
					return 'Start';
				},
				nodes: {
					'Start': {
						type: 0,
						x: 93,
						y: 210,
						route: 'A'
					},
					'A': {
						type: 3,
						x: 108,
						y: 151,
						route: 'B'
					},
					'B': {
						type: 3,
						x: 144,
						y: 126,
						route: 'C'
					},
					'C': {
						type: 3,
						x: 208,
						y: 180,
						routeS: ['D','E']
					},
					'D': {
						type: 1,
						x: 268,
						y: 228,
						subonly: true,
						compDiff: {
							3: {'Hard 1':15,'Hard 2':15,'Hard 3':20,'Hard 4':20,'Hard 5':15,'Hard 6':15},
							2: {'Medium 1':20,'Medium 2':20,'Medium 3':15,'Medium 4':15,'Medium 5':15,'Medium 6':15},
							1: {'Easy 1':15,'Easy 2':15,'Easy 3':15,'Easy 4':15,'Easy 5':20,'Easy 6':20},
							4: {'Casual 1':25,'Casual 2':25,'Casual 3':25,'Casual 4':25},
						},
						route: 'G'
					},
					'E': {
						type: 3,
						x: 280,
						y: 156,
						route: 'F'
					},
					'F': {
						type: 1,
						x: 331,
						y: 138,
						subonly: true,
						compDiff: {
							3: {'Hard 1':20,'Hard 2':20,'Hard 3':15,'Hard 4':15,'Hard 5':15,'Hard 6':15},
							2: {'Medium 1':15,'Medium 2':15,'Medium 3':20,'Medium 4':20,'Medium 5':15,'Medium 6':15},
							1: {'Easy 1':10,'Easy 2':20,'Easy 3':15,'Easy 4':15,'Easy 5':20,'Easy 6':20},
							4: {'Casual 1':30,'Casual 2':30,'Casual 3':20,'Casual 4':20},
						},
						compFPart: 2,
						compDiffF: {
							3: {'Hard 5':50,'Hard 6':50},
							2: {'Medium 5':50,'Medium 6':50},
							1: {'Easy 3':25,'Easy 4':25,'Easy 5':25,'Easy 6':25},
							4: {'Casual 1':30,'Casual 2':30,'Casual 3':20,'Casual 4':20},
						},
						debuffGive: function() {
							if (CHDATA.temp.rank == 'S' || CHDATA.temp.rank == 'A') CHDATA.event.maps[1].debuff.F = 1;
						},
						get end() {
							return CHDATA.event.maps[1].routes.indexOf(1) == -1;
						},
						routeC: function(ships) {
							let diff = CHDATA.event.maps[1].diff;
							if ((diff == 3 || diff == 2) && ships.CA + ships.CAV) return 'O';
							if (ships.CA + ships.CAV > 2) return 'O';
							if (diff == 3 && ships.CL > 1) return 'O';
							if (diff == 3 && ships.total >= 6 && ships.DE < 2) return 'O';
							if (ships.DD + ships.DE < 3) return 'O';
							return 'N';
						}
					},
					'G': {
						type: 1,
						x: 390,
						y: 210,
						subonly: true,
						compDiff: {
							3: {'Hard 1':20,'Hard 2':20,'Hard 3':15,'Hard 4':15,'Hard 5':15,'Hard 6':15},
							2: {'Medium 1':15,'Medium 2':15,'Medium 3':20,'Medium 4':20,'Medium 5':15,'Medium 6':15},
							1: {'Easy 1':15,'Easy 2':15,'Easy 3':15,'Easy 4':15,'Easy 5':20,'Easy 6':20},
							4: {'Casual 1':30,'Casual 2':30,'Casual 3':20,'Casual 4':20},
						},
						routeC: function(ships) {
							if (CHDATA.event.maps[1].diff == 3 && ships.total >= 6) return 'H';
							if (ships.CA + ships.CAV) return 'H';
							if (ships.CL > 1) return 'H';
							if (ships.DD < 3 && ships.DD + ships.DE < 4) return 'H';
							return 'J';
						}
					},
					'H': {
						type: 1,
						x: 438,
						y: 152,
						compDiff: {
							3: {'Hard 1':20,'Hard 2':10,'Hard 3':20,'Hard 4':15,'Hard 5':20,'Hard 6':15},
							2: {'Medium 1':20,'Medium 2':10,'Medium 3':20,'Medium 4':15,'Medium 5':20,'Medium 6':15},
							1: {'Easy 1':20,'Easy 2':10,'Easy 3':20,'Easy 4':15,'Easy 5':20,'Easy 6':15},
							4: {'Casual 1':40,'Casual 2':30,'Casual 3':20,'Casual 4':10},
						},
						routeC: function(ships) {
							if (ships.speed >= 15) return 'K';
							if (ships.CL + ships.CA + ships.CAV) return 'I';
							if (ships.DE && ships.DD >= 4) return 'K';
							return 'I';
						}
					},
					'I': {
						type: 1,
						x: 488,
						y: 87,
						subonly: true,
						compDiff: {
							3: {'Hard 1':10,'Hard 2':10,'Hard 3':25,'Hard 4':25,'Hard 5':15,'Hard 6':15},
							2: {'Medium 1':10,'Medium 2':15,'Medium 3':10,'Medium 4':5,'Medium 5':20,'Medium 6':20,'Medium 7':15,'Medium 8':5},
							1: {'Easy 1':25,'Easy 2':20,'Easy 3':15,'Easy 4':20,'Easy 5':10,'Easy 6':10},
							4: {'Casual 1':25,'Casual 2':25,'Casual 3':25,'Casual 4':25},
						},
						route: 'K'
					},
					'J': {
						type: 1,
						x: 533,
						y: 183,
						compDiff: {
							3: {'Hard 1':20,'Hard 2':10,'Hard 3':20,'Hard 4':15,'Hard 5':20,'Hard 6':15},
							2: {'Medium 1':20,'Medium 2':10,'Medium 3':20,'Medium 4':15,'Medium 5':20,'Medium 6':15},
							1: {'Easy 1':20,'Easy 2':10,'Easy 3':20,'Easy 4':15,'Easy 5':20,'Easy 6':15},
							4: {'Casual 1':35,'Casual 2':30,'Casual 3':20,'Casual 4':15},
						},
						route: 'K'
					},
					'K': {
						type: 3,
						x: 580,
						y: 147,
						route: 'L'
					},
					'L': {
						type: 2,
						x: 655,
						y: 144,
						resource: 0,
						route: 'M'
					},
					'M': {
						type: 1,
						x: 630,
						y: 92,
						boss: true,
						compDiff: {
							3: {'Hard 1':10,'Hard 2':20,'Hard 3':15,'Hard 4':20,'Hard 5':15,'Hard 6':20},
							2: {'Medium 1':25,'Medium 2':25,'Medium 3':30,'Medium 4':20},
							1: {'Easy 1':10,'Easy 2':20,'Easy 3':30,'Easy 4':20,'Easy 5':20},
							4: {'Casual 1':10,'Casual 2':30,'Casual 3':30,'Casual 4':30},
						},
						end: true
					},
					'N': {
						type: 1,
						x: 364,
						y: 110,
						hidden: 1,
						compDiff: {
							3: {'Hard 1':30,'Hard 2':20,'Hard 3':30,'Hard 4':20},
							2: {'Medium 1':20,'Medium 2':10,'Medium 3':20,'Medium 4':20,'Medium 5':15,'Medium 6':15},
							1: {'Easy 1':15,'Easy 2':20,'Easy 3':25,'Easy 4':15,'Easy 5':15,'Easy 6':10},
							4: {'Casual 1':35,'Casual 2':30,'Casual 3':20,'Casual 4':15},
						},
						compFPart: 2,
						compDiffF: {
							3: {'Hard 3':100},
							2: {'Medium 5':100},
							1: {'Easy 5':100},
							4: {'Casual 1':35,'Casual 2':30,'Casual 3':20,'Casual 4':15},
						},
						showLoSPlane: 'T',
						routeC: function(ships) {
							let vals = {
								3: { 51: 'T', 43: 'P' },
								2: { 31: 'T', 23: 'P' },
								1: { 21: 'T', 13: 'P' },
								4: { 0: 'T' },
							}[CHDATA.event.maps[1].diff];
							return checkELoS33(getELoS33(1,3),vals);
						}
					},
					'O': {
						type: 3,
						x: 386,
						y: 307,
						hidden: 1,
						route: 'R'
					},
					'P': {
						type: 3,
						x: 403,
						y: 75,
						hidden: 1,
						end: true
					},
					'Q': {
						type: 1,
						x: 442,
						y: 223,
						hidden: 1,
						compDiff: {
							3: {'Hard 1':30,'Hard 2':20,'Hard 3':30,'Hard 4':20},
							2: {'Medium 1':20,'Medium 2':10,'Medium 3':20,'Medium 4':20,'Medium 5':15,'Medium 6':15},
							1: {'Easy 1':15,'Easy 2':20,'Easy 3':25,'Easy 4':15,'Easy 5':15,'Easy 6':10},
							4: {'Casual 1':35,'Casual 2':30,'Casual 3':20,'Casual 4':15},
						},
						compFPart: 2,
						compDiffF: {
							3: {'Hard 3':100},
							2: {'Medium 5':100},
							1: {'Easy 5':100},
							4: {'Casual 1':35,'Casual 2':30,'Casual 3':20,'Casual 4':15},
						},
						route: 'T'
					},
					'R': {
						type: 1,
						x: 479,
						y: 301,
						hidden: 1,
						subonly: true,
						compDiff: {
							3: {'Hard 1':20,'Hard 2':20,'Hard 3':15,'Hard 4':15,'Hard 5':15,'Hard 6':15},
							2: {'Medium 1':15,'Medium 2':15,'Medium 3':20,'Medium 4':20,'Medium 5':15,'Medium 6':15},
							1: {'Easy 1':10,'Easy 2':20,'Easy 3':15,'Easy 4':15,'Easy 5':20,'Easy 6':20},
							4: {'Casual 1':30,'Casual 2':30,'Casual 3':20,'Casual 4':20},
						},
						compFPart: 2,
						compDiffF: {
							3: {'Hard 5':50,'Hard 6':50},
							2: {'Medium 5':50,'Medium 6':50},
							1: {'Easy 3':25,'Easy 4':25,'Easy 5':25,'Easy 6':25},
							4: {'Casual 1':30,'Casual 2':30,'Casual 3':20,'Casual 4':20},
						},
						showLoSPlane: 'Q',
						routeC: function(ships) {
							let vals = {
								3: { 46: 'Q', 39: 'S' },
								2: { 26: 'Q', 19: 'S' },
								1: { 16: 'Q', 9: 'S' },
								4: { 0: 'Q' },
							}[CHDATA.event.maps[1].diff];
							return checkELoS33(getELoS33(1,3),vals);
						}
					},
					'S': {
						type: 3,
						x: 580,
						y: 297,
						hidden: 1,
						end: true
					},
					'T': {
						type: 1,
						x: 378,
						y: 160,
						hidden: 1,
						boss: true,
						friendFleet: ['E1-1','E1-2','E1-5','E1-5'],
						friendFleetSX: ['E1-3','E1-4','E1-6','E1-7','E1-7'],
						setupSpecial: function() {
							if (CHDATA.sortie.fleetFriend) {
								MAPDATA[48].maps[1].applyBonus(CHDATA.sortie.fleetFriend.ships);
							}
							let ships = (FLEETS1[1])? FLEETS1[0].ships.concat(FLEETS1[1].ships) : FLEETS1[0].ships;
							if (CHDATA.sortie.fleetFriend) ships = ships.concat(CHDATA.sortie.fleetFriend.ships);
							for (let ship of ships) {
								let mid = getBaseId(ship.mid);
								if ([18,49,63,64,100,101,114].indexOf(mid) != -1) {
									ship.bonusSpecial.push({mod:1.1});
								}
								if ([15,16].indexOf(mid) != -1) {
									ship.bonusSpecial.push({mod:1.15});
								}
							}
						},
						compDiff: {
							3: {'Hard 1':40,'Hard 2':60},
							2: {'Medium 1':45,'Medium 2':55},
							1: {'Easy 1':45,'Easy 2':55},
							4: {'Casual 1':50,'Casual 2':50},
						},
						compDiffF: {
							3: {'Hard 3':100},
							2: {'Medium 3':100},
							1: {'Easy 3':100},
							4: {'Casual 3':100},
						},
						end: true
					},
				}
			},
			2: {
				name: 'E-2',
				nameT: 'Beyond Sesoko Island...',
				fleetTypes: [1,2,3],
				bgmMap: 154,
				bgmDN: 155,
				bgmNN: 155,
				bgmDB: 156,
				bgmNB: 156,
				bossnode: ['M','T'],
				giveLock: '48_2',
				checkLock: ['48_1','48_3','48_4','48_5','48_6','48_7','48_8','48_9'],
				lbas: 1,
				parts: {
					1: {
						currentBoss: 'M',
						maphp: {
							3: { 1: 9600 },
							2: { 1: 5000 },
							1: { 1: 2800 },
							4: { 1: 2800 },
						},
						finalhp: {
							3: 2400,
							2: 1200,
							1: 600,
							4: 600,
						},
					},
					2: {
						currentBoss: 'T',
						maphp: {
							3: { 1: 1000 },
							2: { 1: 1000 },
							1: { 1: 600 },
							4: { 1: 600 },
						},
						finalhp: {
							3: 160,
							2: 160,
							1: 160,
							4: 160,
						},
					},
				},
				hiddenRoutes: {
					1: {
						images: [{ name: '2_1.png', x: 0, y: 0 }],
						unlock: function(debuff) {
							if (CHDATA.event.maps[2].part < 2) return false;
							let diff = CHDATA.event.maps[2].diff;
							return (diff == 3 && debuff && debuff.E && debuff.G) || (diff == 2 && debuff && debuff.E) || diff == 1 || diff == 4;
						}
					},
				},
				applyBonus: function(ships) {
					for (let ship of ships) {
						let mid = getBaseId(ship.mid);
						let bonus = [];
						if ([16,25,35,140,184].indexOf(mid) != -1) {
							bonus.push({mod:1.15});
						}
						if ([20,41,49,131,139,167,170,425,532].indexOf(mid) != -1) {
							bonus.push({mod:1.25});
						}
						if (bonus.length) ship.bonusSpecialAcc = ship.bonusSpecial = bonus;
					}
				},
				startCheck: function() {
					let ships = (FLEETS1[1])? FLEETS1[0].ships.concat(FLEETS1[1].ships) : FLEETS1[0].ships;
					this.applyBonus(ships);
					return 'Start';
				},
				nodes: {
					'Start': {
						type: 0,
						x: 709,
						y: 133,
						route: 'A'
					},
					'A': {
						type: 3,
						x: 662,
						y: 193,
						distance: 1,
						routeC: function(ships) {
							if (CHDATA.fleets.combined == 1) return 'B';
							if (ships.c.CV + ships.c.CVB) return 'B';
							if (ships.c.DD + ships.c.DE >= 6) return 'C';
							if (ships.c.CVL + +isShipInList(ships.ids,161) + +isShipInList(ships.escort.ids,161) >= 2) return 'B';
							if (ships.c.CL + ships.c.CLT + ships.c.DD + ships.c.DE >= 6) return 'C';
							return 'B';
						}
					},
					'B': {
						type: 3,
						x: 620,
						y: 245,
						distance: 2,
						routeS: ['D','E']
					},
					'C': {
						type: 1,
						x: 587,
						y: 108,
						distance: 1,
						subonly: true,
						compDiff: {
							3: {'Hard 1':10,'Hard 2':10,'Hard 3':20,'Hard 4':20,'Hard 5':20,'Hard 6':20},
							2: {'Medium 1':10,'Medium 2':10,'Medium 3':20,'Medium 4':20,'Medium 5':20,'Medium 6':20},
							1: {'Easy 1':20,'Easy 2':20,'Easy 3':10,'Easy 4':10,'Easy 5':20,'Easy 6':20},
							4: {'Casual 1':25,'Casual 2':25,'Casual 3':35,'Casual 4':15},
						},
						compFPart: 2,
						compDiffF: {
							3: {'Hard 5':50,'Hard 6':50},
							2: {'Medium 5':50,'Medium 6':50},
							1: {'Easy 5':50,'Easy 6':50},
							4: {'Casual 1':25,'Casual 2':25,'Casual 3':35,'Casual 4':15},
						},
						route: 'H'
					},
					'D': {
						type: 1,
						x: 569,
						y: 307,
						distance: 3,
						subonly: true,
						compDiff: {
							3: {'Hard 1':10,'Hard 2':10,'Hard 3':20,'Hard 4':20,'Hard 5':20,'Hard 6':20},
							2: {'Medium 1':10,'Medium 2':10,'Medium 3':20,'Medium 4':20,'Medium 5':20,'Medium 6':20},
							1: {'Easy 1':20,'Easy 2':20,'Easy 3':10,'Easy 4':10,'Easy 5':20,'Easy 6':20},
							4: {'Casual 1':25,'Casual 2':25,'Casual 3':35,'Casual 4':15},
						},
						compFPart: 2,
						compDiffF: {
							3: {'Hard 5':50,'Hard 6':50},
							2: {'Medium 5':50,'Medium 6':50},
							1: {'Easy 5':50,'Easy 6':50},
							4: {'Casual 1':25,'Casual 2':25,'Casual 3':35,'Casual 4':15},
						},
						route: 'G'
					},
					'E': {
						type: 1,
						x: 527,
						y: 178,
						distance: 2,
						raid: true,
						compDiff: {
							3: {'Hard 1':50,'Hard 2':50},
							2: {'Medium 1':45,'Medium 2':55},
							1: {'Easy 1':55,'Easy 2':45},
							4: {'Casual 1':60,'Casual 2':40},
						},
						compFPart: 2,
						compDiffF: {
							3: {'Hard 3':100},
							2: {'Medium 3':100},
							1: {'Easy 3':100},
							4: {'Casual 1':30,'Casual 2':20,'Casual 3':50},
						},
						debuffGive: function() {
							if (CHDATA.event.maps[2].part < 2) return;
							if (FLEETS1[0].AS >= 1) CHDATA.event.maps[2].debuff.E = 1;
						},
						routeC: function(ships) {
							if (ships.speed <= 5) return 'F';
							if (ships.c.aBB > 3) return 'F';
							if (ships.c.CV + ships.c.CVB > 2) return 'F';
							if (ships.c.aBB + ships.c.CV + ships.c.CVB > 4) return 'F';
							if (ships.c.aBB + ships.c.aCV > 5) return 'F';
							return 'H';
						}
					},
					'F': {
						type: 1,
						x: 434,
						y: 186,
						distance: 3,
						subonly: true,
						compDiff: {
							3: {'Hard 1':10,'Hard 2':10,'Hard 3':20,'Hard 4':20,'Hard 5':20,'Hard 6':20},
							2: {'Medium 1':10,'Medium 2':10,'Medium 3':20,'Medium 4':20,'Medium 5':20,'Medium 6':20},
							1: {'Easy 1':10,'Easy 2':10,'Easy 3':20,'Easy 4':20,'Easy 5':20,'Easy 6':20},
							4: {'Casual 1':35,'Casual 2':15,'Casual 3':20,'Casual 4':20},
						},
						compFPart: 2,
						compDiffF: {
							3: {'Hard 5':50,'Hard 6':50},
							2: {'Medium 5':50,'Medium 6':50},
							1: {'Easy 5':50,'Easy 6':50},
							4: {'Casual 1':35,'Casual 2':15,'Casual 3':20,'Casual 4':20},
						},
						routeC: function(ships) {
							if (ships.speed <= 5) return 'H';
							if (ships.c.aBB + ships.c.CV + ships.c.CVB > 2) return 'H';
							if (ships.c.aBB + ships.c.aCV > 3) return 'H';
							if (ships.c.DD >= 6) return 'I';
							return 'H';
						}
					},
					'G': {
						type: 1,
						x: 417,
						y: 259,
						distance: 4,
						raid: true,
						compDiff: {
							3: {'Hard 1':40,'Hard 2':60},
							2: {'Medium 1':40,'Medium 2':60},
							1: {'Easy 1':45,'Easy 2':55},
							4: {'Casual 1':45,'Casual 2':55},
						},
						compFPart: 2,
						compDiffF: {
							3: {'Hard 3':100},
							2: {'Medium 3':100},
							1: {'Easy 3':100},
							4: {'Casual 1':30,'Casual 2':20,'Casual 3':50},
						},
						debuffGive: function() {
							if (CHDATA.event.maps[2].part < 2) return;
							if (FLEETS1[0].AS >= 1) CHDATA.event.maps[2].debuff.G = 1;
						},
						routeC: function(ships) {
							this.showNoCompass = true;
							if (CHDATA.event.maps[2].routes.indexOf(1) != -1) {
								this.showNoCompass = false;
								if (CHDATA.fleets.combined == 2 && ships.c.CV + ships.c.CVB) return 'F';
								if (ships.c.aBB + ships.c.aCV <= 4) return 'N';
							}
							return 'F';
						}
					},
					'H': {
						type: 1,
						x: 410,
						y: 84,
						distance: 3,
						compDiff: {
							3: {'Hard 1':40,'Hard 2':25,'Hard 3':20,'Hard 4':15},
							2: {'Medium 1':20,'Medium 2':5,'Medium 3':25,'Medium 4':15,'Medium 5':20,'Medium 6':15},
							1: {'Easy 1':15,'Easy 2':10,'Easy 3':30,'Easy 4':20,'Easy 5':15,'Easy 6':10},
							4: {'Casual 1':35,'Casual 2':40,'Casual 3':10,'Casual 4':15},
						},
						compFPart: 2,
						compDiffF: {
							3: {'Hard 3':100},
							2: {'Medium 5':100},
							1: {'Easy 1':15,'Easy 2':10,'Easy 3':30,'Easy 4':20,'Easy 5':15,'Easy 6':10},
							4: {'Casual 1':35,'Casual 2':40,'Casual 3':10,'Casual 4':15},
						},
						route: 'I'
					},
					'I': {
						type: 3,
						x: 332,
						y: 106,
						distance: 4,
						routeC: function(ships) {
							if (CHDATA.fleets.combined == 3 && ships.c.aBB <= 1 && (ships.speed >= 10 || ships.c.aBB <= 0)) return 'M';
							return 'K';
						}
					},
					'J': {
						type: 1,
						x: 268,
						y: 181,
						distance: 6,
						compDiff: {
							3: {'Hard 1':35,'Hard 2':20,'Hard 3':25,'Hard 4':20},
							2: {'Medium 1':20,'Medium 2':5,'Medium 3':25,'Medium 4':15,'Medium 5':20,'Medium 6':15},
							1: {'Easy 1':15,'Easy 2':10,'Easy 3':30,'Easy 4':20,'Easy 5':15,'Easy 6':10},
							4: {'Casual 1':35,'Casual 2':40,'Casual 3':10,'Casual 4':15},
						},
						compFPart: 2,
						compDiffF: {
							3: {'Hard 3':100},
							2: {'Medium 5':100},
							1: {'Easy 1':15,'Easy 2':10,'Easy 3':30,'Easy 4':20,'Easy 5':15,'Easy 6':10},
							4: {'Casual 1':35,'Casual 2':40,'Casual 3':10,'Casual 4':15},
						},
						route: 'M'
					},
					'K': {
						type: 3,
						x: 256,
						y: 128,
						distance: 5,
						routeS: ['J','L']
					},
					'L': {
						type: 1,
						x: 172,
						y: 151,
						distance: 7,
						raid: true,
						compDiff: {
							3: {'Hard 1':60,'Hard 2':40},
							2: {'Medium 1':60,'Medium 2':40},
							1: {'Easy 1':60,'Easy 2':40},
							4: {'Casual 1':60,'Casual 2':40},
						},
						compFPart: 2,
						compDiffF: {
							3: {'Hard 3':100},
							2: {'Medium 3':100},
							1: {'Easy 3':100},
							4: {'Casual 1':30,'Casual 2':20,'Casual 3':50},
						},
						route: 'R'
					},
					'M': {
						type: 1,
						x: 327,
						y: 232,
						distance: 5,
						boss: true,
						setupSpecial: function() {
							let ships = (FLEETS1[1])? FLEETS1[0].ships.concat(FLEETS1[1].ships) : FLEETS1[0].ships;
							for (let ship of ships) {
								let mid = getBaseId(ship.mid);
								if ([16,25,35,140,184,20,41,49,131,139,167,170,425,532].indexOf(mid) != -1) {
									ship.bonusSpecial.push({mod:1.1});
								}
							}
						},
						compDiff: {
							3: {'Hard 1':60,'Hard 2':40},
							2: {'Medium 1':60,'Medium 2':40},
							1: {'Easy 1':60,'Easy 2':40},
							4: {'Casual 1':60,'Casual 2':40},
						},
						compFPart: 1,
						compDiffF: {
							3: {'Hard 3':100},
							2: {'Medium 3':100},
							1: {'Easy 3':100},
							4: {'Casual 3':100},
						},
						end: true
					},
					'N': {
						type: 1,
						x: 371,
						y: 293,
						distance: 5,
						hidden: 1,
						compDiff: {
							3: {'Hard 1':30,'Hard 2':40,'Hard 3':30},
							2: {'Medium 1':30,'Medium 2':40,'Medium 3':30},
							1: {'Easy 1':30,'Easy 2':40,'Easy 3':30},
							4: {'Casual 1':30,'Casual 2':40,'Casual 3':30},
						},
						compFPart: 2,
						compDiffF: {
							3: {'Hard 1':100},
							2: {'Medium 1':100},
							1: {'Easy 1':100},
							4: {'Casual 1':30,'Casual 2':40,'Casual 3':30},
						},
						routeC: function(ships) {
							if (ships.c.CV + ships.c.CVB > 2) return 'O';
							let num = ships.c.aBB + ships.c.aCV + +isShipInList(ships.ids,161) + +isShipInList(ships.escort.ids,161);
							if (ships.speed >= 10 && num <= 4) return 'P';
							if (num <= 3) return 'P';
							return 'O';
						}
					},
					'O': {
						type: 1,
						x: 319,
						y: 325,
						distance: 6,
						hidden: 1,
						raid: true,
						compDiff: {
							3: {'Hard 1':60,'Hard 2':40},
							2: {'Medium 1':60,'Medium 2':40},
							1: {'Easy 1':60,'Easy 2':40},
							4: {'Casual 1':60,'Casual 2':40},
						},
						compFPart: 2,
						compDiffF: {
							3: {'Hard 3':100},
							2: {'Medium 3':100},
							1: {'Easy 3':100},
							4: {'Casual 1':30,'Casual 2':20,'Casual 3':50},
						},
						showLoSPlane: 'P',
						routeC: function(ships) {
							let vals = {
								3: { 55: 'P', 50: 'Q' },
								2: { 35: 'P', 30: 'Q' },
								1: { 25: 'P', 20: 'Q' },
								4: { 0: 'P' },
							}[CHDATA.event.maps[2].diff];
							return checkELoS33(getELoS33(1,2)+getELoS33(2,2),vals);
						}
					},
					'P': {
						type: 1,
						x: 248,
						y: 286,
						distance: 7,
						hidden: 1,
						compDiff: {
							3: {'Hard 1':35,'Hard 2':35,'Hard 3':30},
							2: {'Medium 1':35,'Medium 2':40,'Medium 3':25},
							1: {'Easy 1':20,'Easy 2':50,'Easy 3':30},
							4: {'Casual 1':30,'Casual 2':40,'Casual 3':30},
						},
						compFPart: 2,
						compDiffF: {
							3: {'Hard 3':100},
							2: {'Medium 3':100},
							1: {'Easy 3':100},
							4: {'Casual 1':30,'Casual 2':40,'Casual 3':30},
						},
						route: 'T'
					},
					'Q': {
						type: 3,
						x: 219,
						y: 336,
						distance: 7,
						hidden: 1,
						end: true
					},
					'R': {
						type: 1,
						x: 198,
						y: 209,
						distance: 7,
						hidden: 1,
						compDiff: {
							3: {'Hard 1':30,'Hard 2':35,'Hard 3':35},
							2: {'Medium 1':30,'Medium 2':30,'Medium 3':40},
							1: {'Easy 1':30,'Easy 2':30,'Easy 3':40},
							4: {'Casual 1':30,'Casual 2':30,'Casual 3':40},
						},
						compFPart: 2,
						compDiffF: {
							3: {'Hard 1':100},
							2: {'Medium 1':100},
							1: {'Easy 1':100},
							4: {'Casual 1':30,'Casual 2':30,'Casual 3':40},
						},
						showLoSPlane: 'T',
						routeC: function(ships) {
							let vals = {
								3: { 55: 'T', 50: 'S' },
								2: { 35: 'T', 30: 'S' },
								1: { 25: 'T', 20: 'S' },
								4: { 0: 'T' },
							}[CHDATA.event.maps[2].diff];
							return checkELoS33(getELoS33(1,2)+getELoS33(2,2),vals);
						}
					},
					'S': {
						type: 3,
						x: 112,
						y: 206,
						distance: 8,
						hidden: 1,
						end: true
					},
					'T': {
						type: 1,
						x: 152,
						y: 277,
						distance: 8,
						hidden: 1,
						boss: true,
						setupSpecial: function() {
							let ships = (FLEETS1[1])? FLEETS1[0].ships.concat(FLEETS1[1].ships) : FLEETS1[0].ships;
							for (let ship of ships) {
								let mid = getBaseId(ship.mid);
								if ([16,25,35,140,184,20,41,49,131,139,167,170,425,532].indexOf(mid) != -1) {
									ship.bonusSpecial.push({mod:1.1});
								}
							}
						},
						compDiff: {
							3: {'Hard 1':60,'Hard 2':40},
							2: {'Medium 1':40,'Medium 2':60},
							1: {'Easy 1':40,'Easy 2':60},
							4: {'Casual 1':40,'Casual 2':60},
						},
						compFPart: 2,
						compDiffF: {
							3: {'Hard 3':100},
							2: {'Medium 3':100},
							1: {'Easy 3':100},
							4: {'Casual 3':100},
						},
						end: true
					},
				}
			},
			3: {
				name: 'E-3',
				nameT: 'A Prayer From the Seafloor of the Gotou Islands Sea',
				fleetTypes: [0,1,2,3],
				bgmMap: 154,
				bgmDN: 155,
				bgmNN: 155,
				bgmDB: 156,
				bgmNB: 156,
				bossnode: ['O'],
				giveLock: '48_3',
				checkLock: ['48_1','48_2','48_4','48_5','48_6','48_7','48_8','48_9'],
				lbas: 2,
				maphp: {
					3: { 1: 4000 },
					2: { 1: 2800 },
					1: { 1: 2800 },
					4: { 1: 2800 },
				},
				finalhp: {
					3: 670,
					2: 470,
					1: 470,
					4: 470,
				},
				reward: { ships: [636], firstOnly: true },
				hiddenRoutes: {
					1: {
						images: [{ name: '3_1.png', x: 0, y: 0 }],
						unlock: function(debuff) {
							if (!debuff) return false;
							let diff = CHDATA.event.maps[3].diff;
							if (diff == 3) {
								return debuff.LS && debuff.NS && debuff.B && (debuff.AB1 >= 2 || CHDATA.config.disableRaidReq);
							} else if (diff == 2) {
								return debuff.LA && debuff.NS && (debuff.AB1 || CHDATA.config.disableRaidReq);
							} else if (diff == 1) {
								return debuff.LA && debuff.NA;
							} else {
								return debuff.L && debuff.N;
							}
						}
					},
					2: {
						images: [{ name: '3_2.png', x: 0, y: 0 }],
						unlock: function(debuff) {
							if (!debuff) return false;
							let diff = CHDATA.event.maps[3].diff;
							if (diff == 3) {
								return debuff.RS && debuff.SS;
							} else if (diff == 2) {
								return debuff.RA && debuff.SA;
							} else {
								return debuff.RA;
							}
						}
					},
				},
				enemyRaid: {
					maxNum: { 3: 1, 2: 1, 1: 1, 4: 1 },
					chance: { 3: .2, 2: .2, 1: .2, 4: .2 },
					highAltitude: { 3: 1, 2: 1 },
					compName: 'AB',
					compDiff: {
						3: {'Hard 1':30,'Hard 2':40,'Hard 3':30},
						2: {'Medium 1':30,'Medium 2':40,'Medium 3':30},
						1: {'Easy 1':30,'Easy 2':40,'Easy 3':30},
						4: {'Casual 1':30,'Casual 2':40,'Casual 3':30},
					},
					debuffGive: function(airState,totalHPLost) {
						if (airState >= 1) CHDATA.event.maps[3].debuff.AB1 = CHDATA.event.maps[3].debuff.AB1 + 1 || 1;
						if (CHDATA.event.maps[3].hp > MAPDATA[48].maps[3].finalhp[CHDATA.event.maps[3].diff]) return;
						if (airState >= 1) CHDATA.event.maps[3].debuff.AB2 = CHDATA.event.maps[3].debuff.AB2 + 1 || 1;
					}
				},
				debuffCheck: function(debuff) {
					if (!debuff) return false;
					return debuff.S2 >= 2 && (debuff.AB2 >= 2 || CHDATA.config.disableRaidReq);
				},
				applyBonus: function(ships) {
					for (let ship of ships) {
						let mid = getBaseId(ship.mid);
						let bonus = [];
						if ([22,28,77,87,165,183,410,425,457,641].indexOf(mid) != -1) {
							bonus.push({mod:1.1});
						}
						if ([15,16,18,38,40,41,49,61,63,64,113,114,486].indexOf(mid) != -1) {
							bonus.push({mod:1.15});
						}
						if (ship.type == 'SS' || ships.type == 'SSV') {
							bonus.push({mod:1.2});
						}
						if (ship.type == 'DE') {
							bonus.push({mod:1.25});
						}
						if (bonus.length) ship.bonusSpecialAcc = ship.bonusSpecial = bonus;
					}
				},
				startCheck: function() {
					let ships = (FLEETS1[1])? FLEETS1[0].ships.concat(FLEETS1[1].ships) : FLEETS1[0].ships;
					this.applyBonus(ships);
					return 'Start';
				},
				nodes: {
					'Start': {
						type: 0,
						x: 559,
						y: 171,
						route: 'D'
					},
					'A': {
						type: 1,
						x: 688,
						y: 264,
						distance: 1,
						subonly: true,
						compDiff: {
							3: {'Hard 1':10,'Hard 2':10,'Hard 3':20,'Hard 4':20,'Hard 5':20,'Hard 6':20},
							2: {'Medium 1':10,'Medium 2':10,'Medium 3':15,'Medium 4':15,'Medium 5':15,'Medium 6':15,'Medium 7':10,'Medium 8':10},
							1: {'Easy 1':10,'Easy 2':10,'Easy 3':20,'Easy 4':20,'Easy 5':20,'Easy 6':20},
							4: {'Casual 1':30,'Casual 2':40,'Casual 3':10,'Casual 4':20},
						},
						route: 'B'
					},
					'B': {
						type: 1,
						x: 661,
						y: 322,
						distance: 2,
						raid: true,
						compDiff: {
							3: {'Hard 1':25,'Hard 2':35,'Hard 3':40},
							2: {'Medium 1':25,'Medium 2':35,'Medium 3':40},
							1: {'Easy 1':25,'Easy 2':35,'Easy 3':40},
							4: {'Casual 1':25,'Casual 2':35,'Casual 3':40},
						},
						debuffGive: function() {
							if (FLEETS1[0].AS >= 1) CHDATA.event.maps[3].debuff.B = 1;
						},
						get end() {
							return CHDATA.event.maps[3].routes.indexOf(1) == -1;
						},
						route: 'P'
					},
					'C': {
						type: 1,
						x: 615,
						y: 255,
						distance: 1,
						raid: true,
						compDiff: {
							3: {'Hard 1':40,'Hard 2':30,'Hard 3':30},
							2: {'Medium 1':40,'Medium 2':30,'Medium 3':30},
							1: {'Easy 1':40,'Easy 2':30,'Easy 3':30},
							4: {'Casual 1':40,'Casual 2':30,'Casual 3':30},
						},
						route: 'A'
					},
					'D': {
						type: 3,
						x: 537,
						y: 246,
						distance: 1,
						routeS: ['C','E']
					},
					'E': {
						type: 3,
						x: 460,
						y: 303,
						distance: 3,
						route: 'F'
					},
					'F': {
						type: 1,
						x: 344,
						y: 310,
						distance: 4,
						subonly: true,
						compDiff: {
							3: {'Hard 1':25,'Hard 2':25,'Hard 3':25,'Hard 4':25},
							2: {'Medium 1':10,'Medium 2':10,'Medium 3':25,'Medium 4':25,'Medium 5':15,'Medium 6':15},
							1: {'Easy 1':10,'Easy 2':20,'Easy 3':15,'Easy 4':15,'Easy 5':20,'Easy 6':20},
							4: {'Casual 1':30,'Casual 2':30,'Casual 3':20,'Casual 4':20},
						},
						compDiffF: {
							3: {'Hard 3':50,'Hard 4':50},
							2: {'Medium 3':25,'Medium 4':25,'Medium 5':25,'Medium 6':25},
							1: {'Easy 5':50,'Easy 6':50},
							4: {'Casual 1':30,'Casual 2':30,'Casual 3':20,'Casual 4':20},
						},
						routeC: function(ships) {
							this.showNoCompass = true;
							if (CHDATA.event.maps[3].routes.indexOf(2) != -1) {
								this.showNoCompass = false;
								if (CHDATA.fleets.combined == 0) return 'U';
							}
							return 'G';
						}
					},
					'G': {
						type: 3,
						x: 241,
						y: 258,
						distance: 5,
						routeS: ['H','K']
					},
					'H': {
						type: 1,
						x: 226,
						y: 198,
						distance: 5,
						raid: true,
						compDiff: {
							3: {'Hard 1':30,'Hard 2':40,'Hard 3':30},
							2: {'Medium 1':30,'Medium 2':40,'Medium 3':30},
							1: {'Easy 1':30,'Easy 2':40,'Easy 3':30},
							4: {'Casual 1':30,'Casual 2':40,'Casual 3':30},
						},
						routeC: function(ships) {
							this.showNoCompass = true;
							if (CHDATA.event.maps[3].routes.indexOf(1) != -1) {
								this.showNoCompass = false;
								if (CHDATA.fleets.combined == 0) return 'S';
							}
							return 'I';
						}
					},
					'I': {
						type: 1,
						x: 213,
						y: 139,
						distance: 5,
						compDiff: {
							3: {'Hard 1':40,'Hard 2':30,'Hard 3':30},
							2: {'Medium 1':45,'Medium 2':30,'Medium 3':25},
							1: {'Easy 1':45,'Easy 2':30,'Easy 3':25},
							4: {'Casual 1':45,'Casual 2':30,'Casual 3':25},
						},
						showLoSPlane: 'L',
						routeC: function(ships) {
							let vals = {
								3: { 51: 'L', 47: 'J' },
								2: { 31: 'L', 27: 'J' },
								1: { 21: 'L', 17: 'J' },
								4: { 0: 'L' },
							}[CHDATA.event.maps[3].diff];
							let los = CHDATA.fleets.combined ? getELoS33(1,3) + getELoS33(2,3) : getELoS33(1,3);
							return checkELoS33(los,vals);
						}
					},
					'J': {
						type: 3,
						x: 200,
						y: 77,
						distance: 5,
						end: true
					},
					'K': {
						type: 1,
						x: 187,
						y: 232,
						distance: 5,
						raid: true,
						compDiff: {
							3: {'Hard 1':30,'Hard 2':40,'Hard 3':30},
							2: {'Medium 1':30,'Medium 2':40,'Medium 3':30},
							1: {'Easy 1':30,'Easy 2':40,'Easy 3':30},
							4: {'Casual 1':30,'Casual 2':40,'Casual 3':30},
						},
						routeC: function(ships) {
							if (CHDATA.fleets.combined) return 'M';
							if (ships.DD + ships.DE < 2) return 'M';
							if (ships.aBB + ships.aCV > 2) return 'M';
							if (ships.aBB + ships.aCV > 1 && (ships.speed <= 5 || ships.DD + ships.DE < 3)) return 'M';
							return 'N';
						}
					},
					'L': {
						type: 1,
						x: 136,
						y: 126,
						distance: 6,
						compDiff: {
							3: {'Hard 1':60,'Hard 2':40},
							2: {'Medium 1':70,'Medium 2':30},
							1: {'Easy 1':60,'Easy 2':40},
							4: {'Casual 1':60,'Casual 2':40},
						},
						debuffGive: function() {
							if (CHDATA.temp.rank == 'S') CHDATA.event.maps[3].debuff.LS = CHDATA.event.maps[3].debuff.LA = 1;
							if (CHDATA.temp.rank == 'A') CHDATA.event.maps[3].debuff.LA = 1;
							CHDATA.event.maps[3].debuff.L = 1;
						},
						end: true
					},
					'M': {
						type: 1,
						x: 131,
						y: 204,
						distance: 6,
						compDiff: {
							3: {'Hard 1':40,'Hard 2':30,'Hard 3':30},
							2: {'Medium 1':40,'Medium 2':30,'Medium 3':30},
							1: {'Easy 1':40,'Easy 2':30,'Easy 3':30},
							4: {'Casual 1':35,'Casual 2':30,'Casual 3':35},
						},
						route: 'N'
					},
					'N': {
						type: 1,
						x: 92,
						y: 252,
						distance: 6,
						compDiff: {
							3: {'Hard 1':60,'Hard 2':40},
							2: {'Medium 1':65,'Medium 2':35},
							1: {'Easy 1':60,'Easy 2':40},
							4: {'Casual 1':60,'Casual 2':40},
						},
						debuffGive: function() {
							if (CHDATA.temp.rank == 'S') CHDATA.event.maps[3].debuff.NS = CHDATA.event.maps[3].debuff.NA = 1;
							if (CHDATA.temp.rank == 'A') CHDATA.event.maps[3].debuff.NA = 1;
							CHDATA.event.maps[3].debuff.N = 1;
						},
						end: true
					},
					'O': {
						type: 1,
						x: 361,
						y: 143,
						distance: 3,
						boss: true,
						setupSpecial: function() {
							let ships = (FLEETS1[1])? FLEETS1[0].ships.concat(FLEETS1[1].ships) : FLEETS1[0].ships;
							for (let ship of ships) {
								if (!ship.bonusSpecial) ship.bonusSpecialAcc = ship.bonusSpecial = [];
								if (['DE','SS','SSV','CV','CVL','CVB'].indexOf(ship.type) == -1) {
									ship.bonusSpecial.push({mod:1.1});
								}
								let debuffed = CHDATA.event.maps[3].debuffed || MAPDATA[48].maps[3].debuffCheck(CHDATA.event.maps[3].debuff);
								if (debuffed) {
									ship.bonusSpecial.push({mod:1.08,on:[1942,1943,1944]});
								}
								for (let mid = 1942; mid <= 1944; mid++) {
									SHIPDATA[mid].image = debuffed ? SHIPDATA[mid].imageBroken : SHIPDATA[mid].imageBase;
									VOICES[mid].attack = debuffed ? VOICES[mid].attackB : VOICES[mid].attackN;
									VOICES[mid].damage = debuffed ? VOICES[mid].damageB : VOICES[mid].damageN;
								}
							}
						},
						compDiff: {
							3: {'Hard 1':40,'Hard 2':60},
							2: {'Medium 1':40,'Medium 2':60},
							1: {'Easy 1':60,'Easy 2':40},
							4: {'Casual 1':40,'Casual 2':60},
						},
						compDiffF: {
							3: {'Hard 3':100},
							2: {'Medium 3':100},
							1: {'Easy 3':100},
							4: {'Casual 3':100},
						},
						compDiffC: {
							3: {'Hard 1':100},
							2: {'Medium 1':100},
							1: {'Easy 2':100},
							4: {'Casual 1':100},
						},
						end: true
					},
					'P': {
						type: 1,
						x: 610,
						y: 304,
						distance: 2,
						hidden: 1,
						compDiff: {
							3: {'Hard 1':30,'Hard 2':30,'Hard 3':40},
							2: {'Medium 1':30,'Medium 2':30,'Medium 3':40},
							1: {'Easy 1':30,'Easy 2':30,'Easy 3':40},
							4: {'Casual 1':30,'Casual 2':30,'Casual 3':40},
						},
						showLoSPlane: 'R',
						routeC: function(ships) {
							let vals = {
								3: { 56: 'R', 51: 'Q' },
								2: { 36: 'R', 31: 'Q' },
								1: { 26: 'R', 21: 'Q' },
								4: { 0: 'R' },
							}[CHDATA.event.maps[3].diff];
							let los = CHDATA.fleets.combined ? getELoS33(1,3) + getELoS33(2,3) : getELoS33(1,3);
							return checkELoS33(los,vals);
						}
						
					},
					'Q': {
						type: 3,
						x: 556,
						y: 285,
						distance: 2,
						hidden: 1,
						end: true
					},
					'R': {
						type: 1,
						x: 545,
						y: 330,
						distance: 3,
						hidden: 1,
						compDiff: {
							3: {'Hard 1':60,'Hard 2':40},
							2: {'Medium 1':65,'Medium 2':35},
							1: {'Easy 1':60,'Easy 2':40},
							4: {'Casual 1':65,'Casual 2':35},
						},
						debuffGive: function(ships) {
							if (CHDATA.temp.rank == 'S') CHDATA.event.maps[3].debuff.RS = CHDATA.event.maps[3].debuff.RA = 1;
							if (CHDATA.temp.rank == 'A') CHDATA.event.maps[3].debuff.RA = 1;
						},
						end: true
					},
					'S': {
						type: 1,
						x: 286,
						y: 177,
						distance: 4,
						hidden: 1,
						compDiff: {
							3: {'Hard 1':40,'Hard 2':30,'Hard 3':30},
							2: {'Medium 1':40,'Medium 2':30,'Medium 3':30},
							1: {'Easy 1':40,'Easy 2':30,'Easy 3':30},
							4: {'Casual 1':40,'Casual 2':30,'Casual 3':30},
						},
						debuffGive: function(ships) {
							if (CHDATA.temp.rank == 'S') CHDATA.event.maps[3].debuff.SS = CHDATA.event.maps[3].debuff.SA = 1;
							if (CHDATA.temp.rank == 'A') CHDATA.event.maps[3].debuff.SA = 1;
							if (CHDATA.event.maps[3].hp > MAPDATA[48].maps[3].finalhp[CHDATA.event.maps[3].diff]) return;
							if (CHDATA.temp.rank == 'S') CHDATA.event.maps[3].debuff.S2 = CHDATA.event.maps[3].debuff.S2 + 1 || 1;
						},
						end: true
					},
					'T': {
						type: 1,
						x: 340,
						y: 214,
						distance: 4,
						hidden: 2,
						compDiff: {
							3: {'Hard 1':50,'Hard 2':25,'Hard 3':25},
							2: {'Medium 1':50,'Medium 2':25,'Medium 3':25},
							1: {'Easy 1':50,'Easy 2':25,'Easy 3':25},
							4: {'Casual 1':50,'Casual 2':25,'Casual 3':25},
						},
						routeC: function(ships) {
							this.showLoSPlane = null;
							if (ships.c.BBV) return 'V';
							this.showLoSPlane = 'O';
							let vals = {
								3: { 60: 'O', 51: 'V' },
								2: { 40: 'O', 31: 'V' },
								1: { 30: 'O', 21: 'V' },
								4: { 0: 'O' },
							}[CHDATA.event.maps[3].diff];
							let los = CHDATA.fleets.combined ? getELoS33(1,3) + getELoS33(2,3) : getELoS33(1,3);
							return checkELoS33(los,vals);
						}
					},
					'U': {
						type: 3,
						x: 323,
						y: 263,
						distance: 4,
						hidden: 2,
						routeS: ['S','T']
					},
					'V': {
						type: 1,
						x: 314,
						y: 167,
						distance: 4,
						hidden: 2,
						subonly: true,
						compDiff: {
							3: {'Hard 1':55,'Hard 2':25,'Hard 3':20},
							2: {'Medium 1':50,'Medium 2':30,'Medium 3':20},
							1: {'Easy 1':45,'Easy 2':35,'Easy 3':20},
							4: {'Casual 1':40,'Casual 2':40,'Casual 3':20},
						},
						showLoSPlane: 'O',
						routeC: function(ships) {
							let vals = {
								3: { 60: 'O', 51: 'W' },
								2: { 40: 'O', 31: 'W' },
								1: { 30: 'O', 21: 'W' },
								4: { 0: 'O' },
							}[CHDATA.event.maps[3].diff];
							let los = CHDATA.fleets.combined ? getELoS33(1,3) + getELoS33(2,3) : getELoS33(1,3);
							return checkELoS33(los,vals);
						}
					},
					'W': {
						type: 3,
						x: 286,
						y: 114,
						distance: 4,
						hidden: 2,
						end: true
					},
				}
			},
			4: {
				name: 'E-4',
				nameT: 'The Tables Have Turned! Attack the Enemy Task Force!',
				fleetTypes: [0,1,2,3],
				bgmMap: 154,
				bgmDN: 156,
				bgmNN: 156,
				bgmDB: 157,
				bgmNB: 157,
				bossnode: ['M','R','Z3'],
				giveLock: '48_4',
				checkLock: ['48_1','48_2','48_3','48_5','48_6','48_7','48_8','48_9'],
				lbas: 3,
				lbasSortie: 2,
				parts: {
					1: {
						currentBoss: 'M',
						transport: 'L',
						maphp: {
							3: { 1: 850 },
							2: { 1: 660 },
							1: { 1: 440 },
							4: { 1: 440 },
						},
						finalhp: null,
					},
					2: {
						currentBoss: 'R',
						transport: 'Q',
						maphp: {
							3: { 1: 900 },
							2: { 1: 780 },
							1: { 1: 520 },
							4: { 1: 520 },
						},
						finalhp: null,
					},
					3: {
						currentBoss: 'Z3',
						transport: null,
						maphp: {
							3: { 1: 5000 },
							2: { 1: 4200 },
							1: { 1: 3500 },
							4: { 1: 3500 },
						},
						finalhp: {
							3: 700,
							2: 600,
							1: 500,
							4: 500,
						},
					},
				},
				reward: { ships: [641], firstOnly: true },
				hiddenRoutes: {
					1: {
						images: [{ name: '4_1.png', x: 0, y: 0 }],
						unlock: function(debuff) {
							if (CHDATA.event.maps[4].part < 2) return false;
							let diff = CHDATA.event.maps[4].diff;
							if (diff == 4) return true;
							if (!debuff) return false;
							if (diff == 3) {
								return debuff.G && debuff.DA && debuff.A;
							} else if (diff == 2) {
								return debuff.G && debuff.DB;
							} else {
								return debuff.G;
							}
						}
					},
					2: {
						images: [{ name: '4_2.png', x: 0, y: 0 }],
						unlock: function(debuff) {
							if (CHDATA.event.maps[4].part < 3) return false;
							let diff = CHDATA.event.maps[4].diff;
							return (debuff && debuff.M1) || diff == 1 || diff == 4;
						}
					},
				},
				enemyRaid: {
					maxNum: { 3: 1, 2: 1, 1: 1, 4: 1 },
					chance: { 3: .15, 2: .15, 1: .15, 4: .15 },
					highAltitude: { 3: 1, 2: 1 },
					compName: 'AB',
					compDiff: {
						3: {'Hard 1':50,'Hard 2':50},
						2: {'Medium 1':50,'Medium 2':50},
						1: {'Easy 1':50,'Easy 2':50},
						4: {'Casual 1':50,'Casual 2':50},
					},
					compDiffF: {
						3: {'Hard 3':100},
						2: {'Medium 3':100},
						1: {'Easy 3':100},
						4: {'Casual 3':100},
					},
					debuffGive: function(airState,totalHPLost) {
						if (CHDATA.event.maps[4].part < 3) return;
						if (CHDATA.event.maps[4].hp > MAPDATA[48].maps[4].finalhp[CHDATA.event.maps[4].diff]) return;
						if (airState >= 1) CHDATA.event.maps[4].debuff.AB = CHDATA.event.maps[4].debuff.AB + 1 || 1;
					}
				},
				debuffCheck: function(debuff) {
					if (!debuff) return false;
					let diff = CHDATA.event.maps[4].diff;
					if (diff == 3) {
						return debuff.M2S && debuff.R && debuff.X && (debuff.AB >= 2 || CHDATA.config.disableRaidReq);
					} else if (diff == 2) {
						return debuff.M2S && debuff.R && debuff.X && (debuff.AB || CHDATA.config.disableRaidReq);
					} else {
						return debuff.M2A && debuff.R;
					}
				},
				applyBonus: function(ships) {
					for (let ship of ships) {
						let mid = getBaseId(ship.mid);
						let bonus = [];
						if ([16,18,21,27,28,38,40,49,63,64,100,101,114,410,414].indexOf(mid) != -1) {
							bonus.push({mod:1.25});
						}
						if ([116,415,421,423,475].indexOf(mid) != -1) {
							bonus.push({mod:1.3});
						}
						
						let num931 = 0;
						if (ship.equips.find(eq => eq.mid == 82)) num931++;
						if (ship.equips.find(eq => eq.mid == 83)) num931++;
						if (ship.equips.find(eq => eq.mid == 302)) num931++;
						if (num931 >= 3) {
							bonus.push({mod:1.45,type:2});
							bonus.push({mod:1.35,type:2,on:[1530,1531,1532,1533,1534,1535]});
						} else if (num931 == 2) {
							bonus.push({mod:1.3,type:2});
							bonus.push({mod:1.3,type:2,on:[1530,1531,1532,1533,1534,1535]});
						} else if (num931 == 1) {
							bonus.push({mod:1.2,type:2});
							bonus.push({mod:1.2,type:2,on:[1530,1531,1532,1533,1534,1535]});
						}
						
						if (ship.equips.find(eq => eq.type == APSHELL)) {
							bonus.push({mod:1.1,type:2,on:[1705,1706,1707]});
							bonus.push({mod:1.2,type:2,on:[1696,1697,1698,1790,1791,1792]});
						}
						if (ship.equips.find(eq => eq.type == SEAPLANEBOMBER || eq.type == SEAPLANEFIGHTER)) {
							bonus.push({mod:1.15,type:2,on:[1705,1706,1707]});
							bonus.push({mod:1.1,type:2,on:[1696,1697,1698,1790,1791,1792]});
						}
						
						if (bonus.length) ship.bonusSpecialAcc = ship.bonusSpecial = bonus;
					}
				},
				applyBonus2: function(ships) {
					for (let ship of ships) {
						let mid = getBaseId(ship.mid);
						let num931 = 0;
						if (ship.equips.find(eq => eq.mid == 82)) num931++;
						if (ship.equips.find(eq => eq.mid == 83)) num931++;
						if (ship.equips.find(eq => eq.mid == 302)) num931++;
						if (mid == 116) {
							if (num931 >= 3) {
								ship.bonusSpecial.push({mod:1.35,type:2});
							} else if (num931 == 2) {
								ship.bonusSpecial.push({mod:1.3,type:2});
							} else if (num931 == 1) {
								ship.bonusSpecial.push({mod:1.2,type:2});
							}
						} else {
							if (num931 >= 3) {
								ship.bonusSpecial.push({mod:1.235,type:2});
							} else if (num931 == 2) {
								ship.bonusSpecial.push({mod:1.285,type:2});
							} else if (num931 == 1) {
								ship.bonusSpecial.push({mod:1.3,type:2});
							}
						}
					}
				},
				startCheck: function() {
					let ships = (FLEETS1[1])? FLEETS1[0].ships.concat(FLEETS1[1].ships) : FLEETS1[0].ships;
					this.applyBonus(ships);
					return 'Start';
				},
				nodes: {
					'Start': {
						type: 0,
						x: 72,
						y: 81,
						route: 'C'
					},
					'A': {
						type: 1,
						x: 124,
						y: 228,
						distance: 3,
						raid: true,
						compDiff: {
							3: {'Hard 1':40,'Hard 2':30,'Hard 3':30},
							2: {'Medium 1':40,'Medium 2':30,'Medium 3':30},
							1: {'Easy 1':10,'Easy 2':30,'Easy 3':30,'Easy 4':30},
							4: {'Casual 1':30,'Casual 2':30,'Casual 3':40},
						},
						debuffGive: function() {
							if (CHDATA.event.maps[4].part < 2) return;
							if (FLEETS1[0].AS >= 1) CHDATA.event.maps[4].debuff.A = 1;
						},
						get end() {
							return CHDATA.event.maps[4].routes.indexOf(1) == -1;
						},
						routeC: function(ships) {
							if (CHDATA.fleets.combined == 1) return 'D';
							if (CHDATA.fleets.combined == 2) return 'D';
							if (ships.c.SS + ships.c.SSV) return 'D';
							if (ships.c.DD >= 2 && ships.c.aBB + ships.c.aCV <= 2) return 'O';
							return 'D';
						}
					},
					'B': {
						type: 1,
						x: 151,
						y: 170,
						distance: 4,
						subonly: true,
						compDiff: {
							3: {'Hard 1':10,'Hard 2':10,'Hard 3':20,'Hard 4':20,'Hard 5':20,'Hard 6':20},
							2: {'Medium 1':10,'Medium 2':10,'Medium 3':15,'Medium 4':15,'Medium 5':15,'Medium 6':15,'Medium 7':10,'Medium 8':10},
							1: {'Easy 1':10,'Easy 2':10,'Easy 3':20,'Easy 4':20,'Easy 5':20,'Easy 6':20},
							4: {'Casual 1':30,'Casual 2':30,'Casual 3':20,'Casual 4':20},
						},
						routeC: function(ships) {
							this.showNoCompass = true;
							if (CHDATA.event.maps[4].routes.indexOf(1) != -1) {
								this.showNoCompass = false;
								if (CHDATA.fleets.combined == 1) return 'N';
								if (CHDATA.fleets.combined == 3) return 'N';
							}
							return 'A';
						}
					},
					'C': {
						type: 3,
						x: 174,
						y: 118,
						distance: 4,
						routeS: ['B','E']
					},
					'D': {
						type: 1,
						x: 207,
						y: 202,
						distance: 3,
						compDiff: {
							3: {'Hard 1':50,'Hard 2':25,'Hard 3':25},
							2: {'Medium 1':50,'Medium 2':25,'Medium 3':25},
							1: {'Easy 1':50,'Easy 2':25,'Easy 3':25},
							4: {'Casual 1':50,'Casual 2':25,'Casual 3':25},
						},
						debuffGive: function() {
							if (CHDATA.event.maps[4].part < 2) return;
							if (CHDATA.temp.rank == 'S' || CHDATA.temp.rank == 'A') CHDATA.event.maps[4].debuff.DA = 1;
							if (CHDATA.temp.rank == 'S' || CHDATA.temp.rank == 'A' || CHDATA.temp.rank == 'B') CHDATA.event.maps[4].debuff.DB = 1;
						},
						get end() {
							return CHDATA.event.maps[4].routes.indexOf(1) == -1;
						},
						route: 'O'
					},
					'E': {
						type: 1,
						x: 253,
						y: 146,
						distance: 4,
						subonly: true,
						compDiffPart: {
							1: {
								compDiff: {
									3: {'Hard 1':10,'Hard 2':20,'Hard 3':35,'Hard 4':35},
								},
							},
							2: {
								compDiff: {
									3: {'Hard 1':10,'Hard 2':13,'Hard 3':25,'Hard 4':25,'Hard 5':14,'Hard 6':13},
								},
							},
							3: {
								compDiff: {
									3: {'Hard 1':10,'Hard 2':10,'Hard 3':20,'Hard 4':20,'Hard 5':20,'Hard 6':20},
								},
								compDiffF: {
									3: {'Hard 5':50,'Hard 6':50},
								},
							},
						},
						routeC: function(ships) {
							if (CHDATA.fleets.combined == 1 && (CHDATA.event.maps[4].part == 1 || ships.c.CV + ships.c.CVB > 2)) return 'G';
							if (CHDATA.fleets.combined == 2) return 'G';
							if (CHDATA.fleets.combined == 3 && ships.c.AV + ships.c.LHA) return 'G';
							if (ships.c.SS + ships.c.SSV) return 'G';
							if (CHDATA.fleets.combined == 0) {
								if (ships.c.DD < 3) return 'G';
								if (ships.c.aBB != 1) return 'G';
								if (ships.c.CVL != 1) return 'G';
							}
							return 'H';
						}
					},
					'F': {
						type: 3,
						x: 310,
						y: 230,
						distance: 2,
						routeS: ['D','J']
					},
					'G': {
						type: 1,
						x: 327,
						y: 173,
						distance: 3,
						raid: true,
						compDiff: {
							3: {'Hard 1':40,'Hard 2':30,'Hard 3':30},
							2: {'Medium 1':40,'Medium 2':30,'Medium 3':30},
							1: {'Easy 1':10,'Easy 2':30,'Easy 3':30,'Easy 4':30},
							4: {'Casual 1':30,'Casual 2':30,'Casual 3':40},
						},
						debuffGive: function() {
							if (CHDATA.event.maps[4].part < 2) return;
							if (FLEETS1[0].AS >= 1) CHDATA.event.maps[4].debuff.G = 1;
						},
						routeC: function(ships) {
							if (CHDATA.fleets.combined == 0 && ships.c.DD >= 4) return 'I';
							return 'F';
						}
					},
					'H': {
						type: 1,
						x: 402,
						y: 98,
						distance: 5,
						compDiff: {
							3: {'Hard 1':45,'Hard 2':30,'Hard 3':25},
							2: {'Medium 1':45,'Medium 2':30,'Medium 3':25},
							1: {'Easy 1':45,'Easy 2':30,'Easy 3':25},
							4: {'Casual 1':45,'Casual 2':30,'Casual 3':25},
						},
						routeC: function(ships) {
							if (CHDATA.event.maps[4].routes.indexOf(2) != -1) {
								if (CHDATA.fleets.combined == 1) return 'S';
								if (CHDATA.fleets.combined == 0) return 'S';
							}
							if (CHDATA.fleets.combined == 3 && ships.c.DD >= 9) {
								for (let ship of FLEETS1[0].ships) {
									if (SHIPDATA[ship.mid].SPD <= 5) return 'I';
								}
								return 'L';
							}
							return 'I';
						}
					},
					'I': {
						type: 1,
						x: 412,
						y: 167,
						distance: 4,
						compDiff: {
							3: {'Hard 1':55,'Hard 2':25,'Hard 3':20},
							2: {'Medium 1':55,'Medium 2':25,'Medium 3':20},
							1: {'Easy 1':55,'Easy 2':25,'Easy 3':20},
							4: {'Casual 1':55,'Casual 2':25,'Casual 3':20},
						},
						route: 'L'
					},
					'J': {
						type: 1,
						x: 412,
						y: 271,
						distance: 3,
						compDiff: {
							3: {'Hard 1':55,'Hard 2':20,'Hard 3':25},
							2: {'Medium 1':55,'Medium 2':20,'Medium 3':25},
							1: {'Easy 1':55,'Easy 2':20,'Easy 3':25},
							4: {'Casual 1':55,'Casual 2':20,'Casual 3':25},
						},
						routeC: function(ships) {
							this.showNoCompass = true;
							if (CHDATA.event.maps[4].routes.indexOf(2) != -1) {
								this.showNoCompass = false;
								if (CHDATA.fleets.combined == 2) return 'T';
							}
							return 'K';
						}
					},
					'K': {
						type: 1,
						x: 430,
						y: 202,
						distance: 4,
						compDiff: {
							3: {'Hard 1':45,'Hard 2':35,'Hard 3':20},
							2: {'Medium 1':40,'Medium 2':30,'Medium 3':30},
							1: {'Easy 1':45,'Easy 2':25,'Easy 3':30},
							4: {'Casual 1':40,'Casual 2':30,'Casual 3':30},
						},
						routeC: function(ships) {
							if (CHDATA.fleets.combined == 1) return 'I';
							if (CHDATA.fleets.combined == 2) return 'I';
							if (ships.c.DD >= 2) return 'L';
							return 'I';
						}
					},
					'L': {
						type: 2,
						x: 496,
						y: 161,
						distance: 5,
						resource: 0,
						route: 'M'
					},
					'M': {
						type: 1,
						x: 511,
						y: 238,
						distance: 5,
						boss: true,
						setupSpecial: function() {
							let ships = (FLEETS1[1])? FLEETS1[0].ships.concat(FLEETS1[1].ships) : FLEETS1[0].ships;
							MAPDATA[48].maps[4].applyBonus2(ships);
						},
						compDiff: {
							3: {'Hard 2':50,'Hard 3':50},
							2: {'Medium 2':50,'Medium 3':50},
							1: {'Easy 2':50,'Easy 3':50},
							4: {'Casual 2':100},
						},
						compDiffC: {
							3: {'Hard 1':100},
							2: {'Medium 1':100},
							1: {'Easy 1':100},
							4: {'Casual 1':50,'Casual 3':50},
						},
						debuffGive: function() {
							if (CHDATA.event.maps[4].part < 3) return;
							if (CHDATA.temp.rank == 'S') CHDATA.event.maps[4].debuff.M1 = 1;
							if (CHDATA.event.maps[4].hp > MAPDATA[48].maps[4].finalhp[CHDATA.event.maps[4].diff]) return;
							if (CHDATA.temp.rank == 'S') CHDATA.event.maps[4].debuff.M2S = 1;
							if (CHDATA.temp.rank == 'S' || CHDATA.temp.rank == 'A') CHDATA.event.maps[4].debuff.M2A = 1;
						},
						end: true
					},
					'N': {
						type: 1,
						x: 80,
						y: 200,
						distance: 4,
						hidden: 1,
						subonly: true,
						compDiff: {
							3: {'Hard 1':100},
							2: {'Medium 1':100},
							1: {'Easy 1':100},
							4: {'Casual 1':100},
						},
						route: 'A'
					},
					'O': {
						type: 1,
						x: 186,
						y: 271,
						distance: 2,
						hidden: 1,
						compDiff: {
							3: {'Hard 1':30,'Hard 2':20,'Hard 3':50},
							2: {'Medium 1':25,'Medium 2':25,'Medium 3':50},
							1: {'Easy 1':25,'Easy 2':25,'Easy 3':50},
							4: {'Casual 1':25,'Casual 2':25,'Casual 3':50},
						},
						route: 'Q'
					},
					'P': {
						type: 3,
						x: 253,
						y: 258,
						distance: 2,
						hidden: 1,
						end: true
					},
					'Q': {
						type: 2,
						x: 236,
						y: 306,
						distance: 1,
						hidden: 1,
						resource: 0,
						showLoSPlane: 'R',
						routeC: function(ships) {
							let vals = {
								3: { 88: 'R', 85: 'P' },
								2: { 68: 'R', 65: 'P' },
								1: { 58: 'R', 55: 'P' },
								4: { 0: 'R' },
							}[CHDATA.event.maps[4].diff];
							let los = CHDATA.fleets.combined ? getELoS33(1,3) + getELoS33(2,3) : getELoS33(1,3);
							return checkELoS33(los,vals);
						}
					},
					'R': {
						type: 1,
						x: 338,
						y: 277,
						distance: 2,
						hidden: 1,
						boss: true,
						setupSpecial: function() {
							let ships = (FLEETS1[1])? FLEETS1[0].ships.concat(FLEETS1[1].ships) : FLEETS1[0].ships;
							MAPDATA[48].maps[4].applyBonus2(ships);
						},
						compDiff: {
							3: {'Hard 1':50,'Hard 3':50},
							2: {'Medium 2':50,'Medium 3':50},
							1: {'Easy 2':55,'Easy 3':45},
							4: {'Casual 2':60,'Casual 3':40},
						},
						compDiffC: {
							3: {'Hard 2':100},
							2: {'Medium 1':100},
							1: {'Easy 1':100},
							4: {'Casual 1':100},
						},
						debuffGive: function() {
							if (CHDATA.event.maps[4].part < 3) return;
							if (CHDATA.event.maps[4].hp > MAPDATA[48].maps[4].finalhp[CHDATA.event.maps[4].diff]) return;
							if (CHDATA.temp.rank == 'S') CHDATA.event.maps[4].debuff.R = 1;
						},
						end: true
					},
					'S': {
						type: 1,
						x: 473,
						y: 77,
						distance: 6,
						hidden: 2,
						raid: true,
						compDiff: {
							3: {'Hard 1':55,'Hard 2':45},
							2: {'Medium 1':55,'Medium 2':45},
							1: {'Easy 1':45,'Easy 2':55},
							4: {'Casual 1':45,'Casual 2':55},
						},
						compDiffF: {
							3: {'Hard 3':100},
							2: {'Medium 3':100},
							1: {'Easy 3':100},
							4: {'Casual 3':100},
						},
						route: 'V'
					},
					'T': {
						type: 3,
						x: 474,
						y: 294,
						distance: 4,
						hidden: 2,
						routeS: ['K','U']
					},
					'U': {
						type: 3,
						x: 534,
						y: 316,
						distance: 5,
						hidden: 2,
						routeC: function(ships) {
							if (ships.c.CLT <= 1 && ships.escort.aBB <= 0) return 'W';
							return 'Z1';
						}
					},
					'V': {
						type: 3,
						x: 539,
						y: 146,
						distance: 6,
						hidden: 2,
						routeC: function(ships) {
							if (ships.c.SS + ships.c.SSV) return 'Y';
							if (ships.c.CV + ships.c.CVB > 2) return 'Y';
							let num = ships.c.aCV + +isShipInList(ships.ids,161) + +isShipInList(ships.escort.ids,161);
							if (num > 4) return 'Y';
							if (ships.c.aBB + num > 5) return 'Y';
							return 'X';
						}
					},
					'W': {
						type: 1,
						x: 561,
						y: 277,
						distance: 6,
						hidden: 2,
						raid: true,
						compDiff: {
							3: {'Hard 1':55,'Hard 2':45},
							2: {'Medium 1':55,'Medium 2':45},
							1: {'Easy 1':45,'Easy 2':55},
							4: {'Casual 1':45,'Casual 2':55},
						},
						compDiffF: {
							3: {'Hard 3':100},
							2: {'Medium 3':100},
							1: {'Easy 3':100},
							4: {'Casual 3':100},
						},
						route: 'X'
					},
					'X': {
						type: 1,
						x: 602,
						y: 213,
						distance: 7,
						hidden: 2,
						setupSpecial: function() {
							let ships = (FLEETS1[1])? FLEETS1[0].ships.concat(FLEETS1[1].ships) : FLEETS1[0].ships;
							MAPDATA[48].maps[4].applyBonus2(ships);
						},
						compDiff: {
							3: {'Hard 1':60,'Hard 2':40},
							2: {'Medium 1':60,'Medium 2':40},
							1: {'Easy 1':60,'Easy 2':40},
							4: {'Casual 1':60,'Casual 2':40},
						},
						compDiffF: {
							3: {'Hard 3':100},
							2: {'Medium 3':100},
							1: {'Easy 3':100},
							4: {'Casual 3':100},
						},
						debuffGive: function() {
							if (CHDATA.event.maps[4].part < 3) return;
							if (CHDATA.event.maps[4].hp > MAPDATA[48].maps[4].finalhp[CHDATA.event.maps[4].diff]) return;
							if (CHDATA.temp.rank == 'S' || CHDATA.temp.rank == 'A') CHDATA.event.maps[4].debuff.X = 1;
						},
						showLoSPlane: 'Z3',
						routeC: function(ships) {
							let vals = {
								3: { 75: 'Z3', 67: 'Z2' },
								2: { 55: 'Z3', 47: 'Z2' },
								1: { 45: 'Z3', 37: 'Z2' },
								4: { 0: 'Z3' },
							}[CHDATA.event.maps[4].diff];
							let los = CHDATA.fleets.combined ? getELoS33(1,2) + getELoS33(2,2) : getELoS33(1,2);
							return checkELoS33(los,vals);
						}
					},
					'Y': {
						type: 1,
						x: 604,
						y: 138,
						distance: 7,
						hidden: 2,
						raid: true,
						compDiff: {
							3: {'Hard 1':60,'Hard 2':40},
							2: {'Medium 1':50,'Medium 2':50},
							1: {'Easy 1':40,'Easy 2':60},
							4: {'Casual 1':40,'Casual 2':60},
						},
						compDiffF: {
							3: {'Hard 3':100},
							2: {'Medium 3':100},
							1: {'Easy 3':100},
							4: {'Casual 3':100},
						},
						route: 'X'
					},
					'Z': {
						type: 1,
						x: 623,
						y: 286,
						distance: 7,
						hidden: 2,
						subonly: true,
						compDiff: {
							3: {'Hard 1':50,'Hard 2':50},
							2: {'Medium 1':50,'Medium 2':50},
							1: {'Easy 1':10,'Easy 2':10,'Easy 3':20,'Easy 4':20,'Easy 5':20,'Easy 6':20},
							4: {'Casual 1':35,'Casual 2':25,'Casual 3':20,'Casual 4':20},
						},
						routeC: function(ships) {
							if (ships.c.CV + ships.c.CVB) return 'W';
							return 'X';
						}
					},
					'Z1': {
						type: 1,
						x: 635,
						y: 326,
						distance: 7,
						hidden: 2,
						raid: true,
						compDiff: {
							3: {'Hard 1':60,'Hard 2':40},
							2: {'Medium 1':50,'Medium 2':50},
							1: {'Easy 1':40,'Easy 2':60},
							4: {'Casual 1':40,'Casual 2':60},
						},
						compDiffF: {
							3: {'Hard 3':100},
							2: {'Medium 3':100},
							1: {'Easy 3':100},
							4: {'Casual 3':100},
						},
						route: 'Z'
					},
					'Z2': {
						type: 3,
						x: 660,
						y: 271,
						distance: 8,
						hidden: 2,
						end: true
					},
					'Z3': {
						type: 1,
						x: 667,
						y: 185,
						distance: 8,
						hidden: 2,
						boss: true,
						friendFleet: ['E4-1','E4-2','E4-3','E4-4','E4-6','E4-8','E4-9','E4-11'],
						friendFleetS: ['E4-5','E4-5','E4-5','E4-7','E4-10','E4-10','E4-10','E4-12','E4-12','E4-13','E4-13','E4-14','E4-14'],
						setupSpecial: function() {
							if (CHDATA.sortie.fleetFriend) {
								MAPDATA[48].maps[4].applyBonus(CHDATA.sortie.fleetFriend.ships);
								MAPDATA[48].maps[4].applyBonus2(CHDATA.sortie.fleetFriend.ships);
							}
							let debuffed = CHDATA.event.maps[4].debuffed || MAPDATA[48].maps[4].debuffCheck(CHDATA.event.maps[4].debuff);
							if (debuffed) {
								let ships = (FLEETS1[1])? FLEETS1[0].ships.concat(FLEETS1[1].ships) : FLEETS1[0].ships;
								if (CHDATA.sortie.fleetFriend) ships = ships.concat(CHDATA.sortie.fleetFriend.ships);
								for (let ship of ships) {
									if (!ship.bonusSpecial) ship.bonusSpecialAcc = ship.bonusSpecial = [];
									ship.bonusSpecial.push({mod:1.2,on:[1948,1949,1950]});
								}
							}
							for (let mid = 1948; mid <= 1950; mid++) {
								SHIPDATA[mid].image = debuffed ? SHIPDATA[mid].imageBroken : SHIPDATA[mid].imageBase;
								VOICES[mid].attack = debuffed ? VOICES[mid].attackB : VOICES[mid].attackN;
								VOICES[mid].damage = debuffed ? VOICES[mid].damageB : VOICES[mid].damageN;
							}
						},
						compDiff: {
							3: {'Hard 1':100},
							2: {'Medium 1':100},
							1: {'Easy 1':100},
							4: {'Casual 1':100},
						},
						compDiffF: {
							3: {'Hard 2':100},
							2: {'Medium 2':100},
							1: {'Easy 2':100},
							4: {'Casual 2':100},
						},
						end: true
					},
				}
			},
			5: {
				name: 'E-5',
				nameT: 'Southern Front - Interisland Transport Operation',
				fleetTypes: [0,1,2,3],
				bgmMap: 158,
				bgmDN: 157,
				bgmNN: 157,
				bgmDB: 159,
				bgmNB: 159,
				bossnode: ['Y','Z'],
				giveLock: '48_5',
				checkLock: ['48_1','48_2','48_3','48_4','48_6','48_7','48_8','48_9'],
				lbas: 3,
				lbasSortie: 2,
				parts: {
					1: {
						currentBoss: 'Y',
						transport: null,
						maphp: {
							3: { 1: 2280 },
							2: { 1: 2040 },
							1: { 1: 1740 },
							4: { 1: 1740 },
						},
						finalhp: {
							3: 380,
							2: 340,
							1: 290,
							4: 290,
						},
					},
					2: {
						currentBoss: 'Z',
						transport: 'Z4',
						maphp: {
							3: { 1: 960 },
							2: { 1: 720 },
							1: { 1: 480 },
							4: { 1: 480 },
						},
						finalhp: null,
					},
				},
				hiddenRoutes: {
					1: {
						images: [{ name: '5_1.png', x: 0, y: 0 }],
						unlock: function(debuff) {
							if (!debuff) return false;
							let diff = CHDATA.event.maps[5].diff;
							if (diff == 3) {
								return debuff.FS && debuff.Q && debuff.V && debuff.W && (debuff.AB >= 2 || CHDATA.config.disableRaidReq);
							} else if (diff == 2) {
								return debuff.FS && debuff.Q && debuff.V && debuff.W && (debuff.AB || CHDATA.config.disableRaidReq);
							} else if (diff == 1) {
								return debuff.Q && debuff.V && debuff.W;
							} else {
								return debuff.FA && debuff.P && debuff.Q;
							}
						}
					},
					2: {
						images: [{ name: '5_2.png', x: 0, y: 0 }],
						unlock: function(debuff) {
							if (CHDATA.event.maps[5].part < 2) return false;
							let diff = CHDATA.event.maps[5].diff;
							if (diff == 4) return true;
							if (!debuff) return false;
							if (diff == 3) {
								return debuff.BS && debuff.X2S >= 2;
							} else {
								return debuff.BA && debuff.X2A;
							}
						}
					},
				},
				enemyRaid: {
					maxNum: { 3: 1, 2: 1, 1: 1, 4: 1 },
					chance: { 3: .15, 2: .15, 1: .15, 4: .15 },
					highAltitude: { 3: 1, 2: 1 },
					compName: 'AB',
					compDiff: {
						3: {'Hard 2':50,'Hard 3':50},
						2: {'Medium 1':30,'Medium 2':35,'Medium 3':35},
						1: {'Easy 1':10,'Easy 2':30,'Easy 3':30,'Easy 4':30},
						4: {'Casual 1':30,'Casual 2':30,'Casual 3':40},
					},
					debuffGive: function(airState,totalHPLost) {
						if (airState >= 1) CHDATA.event.maps[5].debuff.AB = CHDATA.event.maps[5].debuff.AB + 1 || 1;
					}
				},
				additionalChecks: function(ships,errors) {
					if (ships.FBB + ships.BB + ships.BBV) errors.push('No (F)BB(V)');
					if (ships.CV + ships.CVB) errors.push('No (CV(B)');
				},
				applyBonus: function(ships) {
					for (let ship of ships) {
						let mid = getBaseId(ship.mid);
						let bonus = [];
						if ([6,17,19,21,31,32,43,44,47,54,69,115,124,125,169,456,459,479,583].indexOf(mid) != -1) {
							bonus.push({mod:1.2});
						}
						if ([20,55,28,170,474,481].indexOf(mid) != -1) {
							bonus.push({mod:1.35});
						}
						if ([7].indexOf(mid) != -1) {
							bonus.push({mod:1.45});
						}
						if (bonus.length) ship.bonusSpecialAcc = ship.bonusSpecial = bonus;
					}
				},
				startCheck: function() {
					let ships = (FLEETS1[1])? FLEETS1[0].ships.concat(FLEETS1[1].ships) : FLEETS1[0].ships;
					this.applyBonus(ships);
					return 'Start';
				},
				nodes: {
					'Start': {
						type: 0,
						x: 311,
						y: 101,
						routeC: function(ships) {
							if (CHDATA.fleets.combined) return 'D';
							if (ships.CLT + ships.CA + ships.CVL) return 'D';
							if (ships.SS + ships.SSV == 1 && ships.total == 1) return 'C';
							if (ships.SS + ships.SSV == 2 && ships.total == 2 && CHDATA.event.maps[5].diff != 3) return 'C';
							if (ships.CL <= 2 && ships.CAV + ships.AV) return 'C';
							if (ships.DD + ships.DE == ships.total) return 'C';
							return 'D';
						}
					},
					'A': {
						type: 3,
						x: 149,
						y: 92,
						distance: 3,
						end: true
					},
					'B': {
						type: 1,
						x: 184,
						y: 141,
						distance: 3,
						compDiff: {
							3: {'Hard 1':55,'Hard 2':20,'Hard 3':25},
							2: {'Medium 1':50,'Medium 2':25,'Medium 3':25},
							1: {'Easy 1':45,'Easy 2':30,'Easy 3':25},
							4: {'Casual 1':45,'Casual 2':30,'Casual 3':25},
						},
						debuffGive: function() {
							if (CHDATA.event.maps[5].part < 2) return;
							if (CHDATA.temp.rank == 'S') CHDATA.event.maps[5].debuff.BS = 1;
							if (CHDATA.temp.rank == 'S' || CHDATA.temp.rank == 'A') CHDATA.event.maps[5].debuff.BA = 1;
						},
						get end() {
							return CHDATA.event.maps[5].routes.indexOf(2) == -1;
						},
						routeC: function(ships) {
							if (ships.total <= 5) return 'Z6';
							if (ships.speed >= 10 && ships.DD >= 4) return 'Z6';
							return 'Z1';
						}
					},
					'C': {
						type: 3,
						x: 247,
						y: 121,
						distance: 2,
						routeC: function(ships) {
							this.showLoSPlane = 'B';
							if (CHDATA.event.maps[5].routes.indexOf(2) != -1) {
								if (ships.total <= 5 && (ships.total <= 4 || ships.DD == ships.total) && ships.DD >= 2 && ships.CAV <= 0) this.showLoSPlane = 'Z8';
								if (ships.speed >= 10 && ships.total <= 4 && ships.DD >= 3 && ships.CAV <= 0) this.showLoSPlane = 'Z7';
							}
							let vals = {
								3: { 30: this.showLoSPlane, 26: 'A' },
								2: { 10: this.showLoSPlane, 6: 'A' },
								1: { 0: this.showLoSPlane },
								4: { 0: this.showLoSPlane },
							}[CHDATA.event.maps[5].diff];
							let los = CHDATA.fleets.combined ? getELoS33(1,2) + getELoS33(2,2) : getELoS33(1,2);
							return checkELoS33(los,vals);
						}
					},
					'D': {
						type: 3,
						x: 360,
						y: 86,
						distance: 1,
						route: 'E'
					},
					'E': {
						type: 3,
						x: 401,
						y: 175,
						distance: 2,
						routeS: ['G','H']
					},
					'F': {
						type: 1,
						x: 412,
						y: 289,
						distance: 4,
						subonly: true,
						compDiff: {
							3: {'Hard 1':10,'Hard 2':10,'Hard 3':20,'Hard 4':20,'Hard 5':20,'Hard 6':20},
							2: {'Medium 1':10,'Medium 2':10,'Medium 3':15,'Medium 4':15,'Medium 5':15,'Medium 6':15,'Medium 7':10,'Medium 8':10},
							1: {'Easy 1':15,'Easy 2':15,'Easy 3':25,'Easy 4':25,'Easy 5':10,'Easy 6':10},
							4: {'Casual 1':30,'Casual 2':30,'Casual 3':20,'Casual 4':20},
						},
						compDiffF: {
							3: {'Hard 3':20,'Hard 4':20,'Hard 5':30,'Hard 6':30},
							2: {'Medium 1':10,'Medium 2':10,'Medium 3':15,'Medium 4':15,'Medium 5':15,'Medium 6':15,'Medium 7':10,'Medium 8':10},
							1: {'Easy 1':15,'Easy 2':15,'Easy 3':25,'Easy 4':25,'Easy 5':10,'Easy 6':10},
							4: {'Casual 1':30,'Casual 2':30,'Casual 3':20,'Casual 4':20},
						},
						debuffGive: function() {
							if (CHDATA.temp.rank == 'S') CHDATA.event.maps[5].debuff.FS = 1;
							if (CHDATA.temp.rank == 'S' || CHDATA.temp.rank == 'A') CHDATA.event.maps[5].debuff.FA = 1;
						},
						get end() {
							return CHDATA.event.maps[5].routes.indexOf(1) == -1;
						},
						routeC: function(ships) {
							this.showNoCompass = CHDATA.event.maps[5].routes.indexOf(1) == -1;
							this.showLoSPlane = null;
							if (CHDATA.fleets.combined == 1 || CHDATA.fleets.combined == 2) return 'I';
							if (CHDATA.event.maps[5].routes.indexOf(1) != -1) {
								this.showNoCompass = false;
								this.showLoSPlane = 'X1';
								if (ships.speed >= 15) this.showLoSPlane = 'Y1';
								let vals = {
									3: { 30: this.showLoSPlane, 26: 'X3' },
									2: { 10: this.showLoSPlane, 6: 'X3' },
									1: { 0: this.showLoSPlane },
									4: { 0: this.showLoSPlane },
								}[CHDATA.event.maps[5].diff];
								let los = CHDATA.fleets.combined ? getELoS33(1,2) + getELoS33(2,2) : getELoS33(1,2);
								return checkELoS33(los,vals);
							}
							return 'I';
						}
					},
					'G': {
						type: 3,
						x: 435,
						y: 240,
						distance: 3,
						routeS: ['F','I']
					},
					'H': {
						type: 1,
						x: 438,
						y: 154,
						distance: 2,
						subonly: true,
						setupSpecial: function() {
							CHDATA.sortie.H = 1;
						},
						compDiff: {
							3: {'Hard 1':10,'Hard 2':10,'Hard 3':20,'Hard 4':20,'Hard 5':20,'Hard 6':20},
							2: {'Medium 1':10,'Medium 2':10,'Medium 3':15,'Medium 4':15,'Medium 5':15,'Medium 6':15,'Medium 7':10,'Medium 8':10},
							1: {'Easy 1':15,'Easy 2':15,'Easy 3':25,'Easy 4':25,'Easy 5':10,'Easy 6':10},
							4: {'Casual 1':30,'Casual 2':30,'Casual 3':20,'Casual 4':20},
						},
						compDiffF: {
							3: {'Hard 3':20,'Hard 4':20,'Hard 5':30,'Hard 6':30},
							2: {'Medium 1':10,'Medium 2':10,'Medium 3':15,'Medium 4':15,'Medium 5':15,'Medium 6':15,'Medium 7':10,'Medium 8':10},
							1: {'Easy 1':15,'Easy 2':15,'Easy 3':25,'Easy 4':25,'Easy 5':10,'Easy 6':10},
							4: {'Casual 1':30,'Casual 2':30,'Casual 3':20,'Casual 4':20},
						},
						routeC: function(ships) {
							if ((CHDATA.fleets.combined == 1 || CHDATA.fleets.combined == 2) && ships.c.CVL <= 2) return 'J';
							if (CHDATA.fleets.combined) return 'I';
							if (ships.CA + ships.CLT) return 'I';
							if (ships.total >= 6 && ships.CL >= 2) return 'K';
							if (ships.CVL && ships.speed <= 5) return 'K';
							if (ships.total <= 5 && ships.speed <= 5) return 'K';
							return 'I';
						}
					},
					'I': {
						type: 1,
						x: 473,
						y: 246,
						distance: 4,
						subonly: true,
						compDiff: {
							3: {'Hard 1':10,'Hard 2':10,'Hard 3':20,'Hard 4':20,'Hard 5':20,'Hard 6':20},
							2: {'Medium 1':10,'Medium 2':10,'Medium 3':15,'Medium 4':15,'Medium 5':15,'Medium 6':15,'Medium 7':10,'Medium 8':10},
							1: {'Easy 1':15,'Easy 2':15,'Easy 3':25,'Easy 4':25,'Easy 5':10,'Easy 6':10},
							4: {'Casual 1':30,'Casual 2':30,'Casual 3':20,'Casual 4':20},
						},
						compDiffF: {
							3: {'Hard 3':20,'Hard 4':20,'Hard 5':30,'Hard 6':30},
							2: {'Medium 1':10,'Medium 2':10,'Medium 3':15,'Medium 4':15,'Medium 5':15,'Medium 6':15,'Medium 7':10,'Medium 8':10},
							1: {'Easy 1':15,'Easy 2':15,'Easy 3':25,'Easy 4':25,'Easy 5':10,'Easy 6':10},
							4: {'Casual 1':30,'Casual 2':30,'Casual 3':20,'Casual 4':20},
						},
						routeC: function(ships) {
							if (CHDATA.fleets.combined == 1 || CHDATA.fleets.combined == 2) return 'K';
							if (ships.speed >= 10 && CHDATA.fleets.combined == 0) {
								if (ships.CL == 1 && ships.DD == 4 && ships.total == 5) return 'M';
								if (ships.CL == 1 && ships.DD == 5 && CHDATA.sortie.H) return 'M';
							}
							if (ships.speed >= 10 && ships.c.CL && ships.c.DD >= 4) return 'L';
							return 'K';
						}
					},
					'J': {
						type: 1,
						x: 486,
						y: 123,
						distance: 3,
						compDiff: {
							3: {'Hard 1':45,'Hard 2':25,'Hard 3':30},
							2: {'Medium 1':45,'Medium 2':25,'Medium 3':30},
							1: {'Easy 1':45,'Easy 2':25,'Easy 3':30},
							4: {'Casual 1':45,'Casual 2':25,'Casual 3':30},
						},
						routeC: function(ships) {
							this.showLoSPlane = null;
							if (ships.c.CVL > 2) return 'N';
							this.showLoSPlane = 'P';
							let vals = {
								3: { 60: 'P', 55: 'N' },
								2: { 40: 'P', 35: 'N' },
								1: { 30: 'P', 25: 'N' },
								4: { 0: 'P' },
							}[CHDATA.event.maps[5].diff];
							let los = CHDATA.fleets.combined ? getELoS33(1,2) + getELoS33(2,2) : getELoS33(1,2);
							return checkELoS33(los,vals);
						}
					},
					'K': {
						type: 1,
						x: 520,
						y: 210,
						distance: 4,
						compDiff: {
							3: {'Hard 1':45,'Hard 2':25,'Hard 3':30},
							2: {'Medium 1':45,'Medium 2':25,'Medium 3':30},
							1: {'Easy 1':45,'Easy 2':25,'Easy 3':30},
							4: {'Casual 1':45,'Casual 2':25,'Casual 3':30},
						},
						compDiffF: {
							3: {'Hard 1':100},
							2: {'Medium 1':100},
							1: {'Easy 1':100},
							4: {'Casual 1':45,'Casual 2':25,'Casual 3':30},
						},
						route: 'M'
					},
					'L': {
						type: 1,
						x: 528,
						y: 291,
						distance: 5,
						raid: true,
						compDiff: {
							3: {'Hard 1':30,'Hard 2':30,'Hard 3':20,'Hard 4':20},
							2: {'Medium 1':35,'Medium 2':30,'Medium 3':25,'Medium 4':10},
							1: {'Easy 1':15,'Easy 2':30,'Easy 3':30,'Easy 4':25},
							4: {'Casual 1':40,'Casual 2':35,'Casual 3':25},
						},
						compDiffF: {
							3: {'Hard 3':25,'Hard 4':25,'Hard 5':25,'Hard 6':25},
							2: {'Medium 1':35,'Medium 2':30,'Medium 3':25,'Medium 4':10},
							1: {'Easy 1':15,'Easy 2':30,'Easy 3':30,'Easy 4':25},
							4: {'Casual 1':40,'Casual 2':35,'Casual 3':25},
						},
						routeC: function(ships) {
							if (ships.speed >= 15) return 'O';
							return 'M';
						}
					},
					'M': {
						type: 1,
						x: 545,
						y: 260,
						distance: 5,
						compDiff: {
							3: {'Hard 1':45,'Hard 2':25,'Hard 3':30},
							2: {'Medium 1':45,'Medium 2':25,'Medium 3':30},
							1: {'Easy 1':45,'Easy 2':25,'Easy 3':30},
							4: {'Casual 1':45,'Casual 2':25,'Casual 3':30},
						},
						compDiffF: {
							3: {'Hard 1':100},
							2: {'Medium 1':100},
							1: {'Easy 1':100},
							4: {'Casual 1':45,'Casual 2':25,'Casual 3':30},
						},
						routeC: function(ships) {
							if (CHDATA.fleets.combined == 0 && ships.speed >= 10 && ships.CL && ships.DD >= 4) return 'Q';
							return 'O';
						}
					},
					'N': {
						type: 3,
						x: 558,
						y: 76,
						distance: 4,
						end: true
					},
					'O': {
						type: 1,
						x: 575,
						y: 326,
						distance: 6,
						raid: true,
						compDiff: {
							3: {'Hard 1':30,'Hard 2':40,'Hard 3':30},
							2: {'Medium 1':20,'Medium 2':30,'Medium 3':30,'Medium 4':20},
							1: {'Easy 1':10,'Easy 2':30,'Easy 3':30,'Easy 4':30},
							4: {'Casual 1':30,'Casual 2':30,'Casual 3':40},
						},
						compDiffF: {
							3: {'Hard 3':30,'Hard 4':40,'Hard 5':30},
							2: {'Medium 1':20,'Medium 2':30,'Medium 3':30,'Medium 4':20},
							1: {'Easy 1':10,'Easy 2':30,'Easy 3':30,'Easy 4':30},
							4: {'Casual 1':30,'Casual 2':30,'Casual 3':40},
						},
						route: 'Q'
					},
					'P': {
						type: 1,
						x: 592,
						y: 156,
						distance: 5,
						compDiff: {
							3: {'Hard 1':50,'Hard 2':25,'Hard 3':25},
							2: {'Medium 1':50,'Medium 2':25,'Medium 3':25},
							1: {'Easy 1':50,'Easy 2':25,'Easy 3':25},
							4: {'Casual 1':50,'Casual 2':25,'Casual 3':25},
						},
						debuffGive: function() {
							if (CHDATA.temp.rank == 'S') CHDATA.event.maps[5].debuff.P = 1;
						},
						routeC: function(ships) {
							if (ships.c.DD >= 4) return 'T';
							if (ships.c.AO || ships.c.SS + ships.c.SSV >= 2) return 'R';
							if (ships.speed <= 5) return 'T';
							return 'R';
						}
					},
					'Q': {
						type: 1,
						x: 609,
						y: 272,
						distance: 6,
						setupSpecial: function() {
							let ships = (FLEETS1[1])? FLEETS1[0].ships.concat(FLEETS1[1].ships) : FLEETS1[0].ships;
							for (let ship of ships) {
								let mid = getBaseId(ship.mid);
								if ([6,17,19,21,31,32,43,44,47,54,69,115,124,125,169,456,459,479,583].indexOf(mid) != -1) {
									ship.bonusSpecial.push({mod:1.2});
								}
								if ([20,55,28,170,474,481].indexOf(mid) != -1) {
									ship.bonusSpecial.push({mod:1.4});
								}
								if ([7].indexOf(mid) != -1) {
									ship.bonusSpecial.push({mod:1.1});
								}
							}
						},
						compDiff: {
							3: {'Hard 1':45,'Hard 2':25,'Hard 3':30},
							2: {'Medium 1':45,'Medium 2':25,'Medium 3':30},
							1: {'Easy 1':45,'Easy 2':25,'Easy 3':30},
							4: {'Casual 1':25,'Casual 2':30,'Casual 3':45},
						},
						compDiffF: {
							3: {'Hard 1':100},
							2: {'Medium 1':100},
							1: {'Easy 1':45,'Easy 2':25,'Easy 3':30},
							4: {'Casual 1':25,'Casual 2':30,'Casual 3':45},
						},
						debuffGive: function() {
							if (CHDATA.temp.rank == 'S') CHDATA.event.maps[5].debuff.Q = 1;
						},
						routeC: function(ships) {
							this.showNoCompass = CHDATA.event.maps[5].routes.indexOf(1) == -1;
							this.showLoSPlane = null;
							if (CHDATA.fleets.combined == 1) return 'U';
							if (CHDATA.event.maps[5].routes.indexOf(1) != -1) {
								this.showLoSPlane = 'Y';
								if (isShipInList(ships.c.ids,187) || isShipInList(ships.c.ids,450)) this.showLoSPlane = 'Y2';
								let vals = {
									3: { 34: this.showLoSPlane, 29: 'U' },
									2: { 14: this.showLoSPlane, 9: 'U' },
									1: { 4: this.showLoSPlane, 0: 'U' },
									4: { 0: this.showLoSPlane },
								}[CHDATA.event.maps[5].diff];
								let los = CHDATA.fleets.combined ? getELoS33(1,2) + getELoS33(2,2) : getELoS33(1,2);
								return checkELoS33(los,vals);
							}
							return 'U';
						}
					},
					'R': {
						type: 1,
						x: 615,
						y: 127,
						distance: 6,
						raid: true,
						compDiff: {
							3: {'Hard 1':30,'Hard 2':35,'Hard 3':35},
							2: {'Medium 1':35,'Medium 2':30,'Medium 3':35},
							1: {'Easy 1':30,'Easy 2':40,'Easy 3':30},
							4: {'Casual 1':30,'Casual 2':40,'Casual 3':30},
						},
						route: 'V'
					},
					'S': {
						type: 1,
						x: 627,
						y: 212,
						distance: 6,
						raid: true,
						compDiff: {
							3: {'Hard 1':30,'Hard 2':35,'Hard 3':35},
							2: {'Medium 1':20,'Medium 2':40,'Medium 3':20,'Medium 4':20},
							1: {'Easy 1':10,'Easy 2':25,'Easy 3':35,'Easy 4':30},
							4: {'Casual 1':30,'Casual 2':45,'Casual 3':25},
						},
						route: 'Q'
					},
					'T': {
						type: 1,
						x: 636,
						y: 171,
						distance: 6,
						raid: true,
						compDiff: {
							3: {'Hard 1':30,'Hard 2':35,'Hard 3':35},
							2: {'Medium 1':35,'Medium 2':30,'Medium 3':35},
							1: {'Easy 1':30,'Easy 2':40,'Easy 3':30},
							4: {'Casual 1':30,'Casual 2':40,'Casual 3':30},
						},
						routeC: function(ships) {
							if (CHDATA.fleets.combined == 1) return 'W';
							return 'S';
						}
					},
					'U': {
						type: 3,
						x: 644,
						y: 323,
						distance: 7,
						end: true
					},
					'V': {
						type: 1,
						x: 648,
						y: 88,
						distance: 7,
						setupSpecial: function() {
							let ships = (FLEETS1[1])? FLEETS1[0].ships.concat(FLEETS1[1].ships) : FLEETS1[0].ships;
							for (let ship of ships) {
								let mid = getBaseId(ship.mid);
								if ([6,17,19,21,31,32,43,44,47,54,69,115,124,125,169,456,459,479,583].indexOf(mid) != -1) {
									ship.bonusSpecial.push({mod:1.2});
								}
								if ([20,55,28,170,474,481].indexOf(mid) != -1) {
									ship.bonusSpecial.push({mod:1.1});
								}
								if ([7].indexOf(mid) != -1) {
									ship.bonusSpecial.push({mod:1.1});
								}
							}
						},
						compDiff: {
							3: {'Hard 1':25,'Hard 2':30,'Hard 3':45},
							2: {'Medium 1':25,'Medium 2':45,'Medium 3':30},
							1: {'Easy 1':25,'Easy 2':30,'Easy 3':45},
							4: {'Casual 1':25,'Casual 2':30,'Casual 3':45},
						},
						debuffGive: function() {
							if (CHDATA.temp.rank == 'S') CHDATA.event.maps[5].debuff.V = 1;
						},
						end: true
					},
					'W': {
						type: 1,
						x: 684,
						y: 186,
						distance: 7,
						setupSpecial: function() {
							let ships = (FLEETS1[1])? FLEETS1[0].ships.concat(FLEETS1[1].ships) : FLEETS1[0].ships;
							for (let ship of ships) {
								let mid = getBaseId(ship.mid);
								if ([6,17,19,21,31,32,43,44,47,54,69,115,124,125,169,456,459,479,583].indexOf(mid) != -1) {
									ship.bonusSpecial.push({mod:1.2});
								}
								if ([20,55,28,170,474,481].indexOf(mid) != -1) {
									ship.bonusSpecial.push({mod:1.1});
								}
								if ([7].indexOf(mid) != -1) {
									ship.bonusSpecial.push({mod:1.1});
								}
							}
						},
						compDiff: {
							3: {'Hard 1':25,'Hard 2':30,'Hard 3':45},
							2: {'Medium 1':25,'Medium 2':45,'Medium 3':30},
							1: {'Easy 1':25,'Easy 2':30,'Easy 3':45},
							4: {'Casual 1':25,'Casual 2':30,'Casual 3':45},
						},
						debuffGive: function() {
							if (CHDATA.temp.rank == 'S') CHDATA.event.maps[5].debuff.W = 1;
						},
						end: true
					},
					'X': {
						type: 3,
						x: 370,
						y: 222,
						hidden: 1,
						distance: 2,
						end: true
					},
					'X1': {
						type: 1,
						x: 314,
						y: 300,
						distance: 4,
						hidden: 1,
						subonly: true,
						compDiff: {
							3: {'Hard 1':15,'Hard 2':15,'Hard 3':20,'Hard 4':20,'Hard 5':15,'Hard 6':15},
							2: {'Medium 1':15,'Medium 2':15,'Medium 3':15,'Medium 4':15,'Medium 5':10,'Medium 6':10,'Medium 7':10,'Medium 8':10},
							1: {'Easy 1':10,'Easy 2':10,'Easy 3':25,'Easy 4':25,'Easy 5':15,'Easy 6':15},
							4: {'Casual 1':30,'Casual 2':35,'Casual 3':15,'Casual 4':20},
						},
						route: 'X2'
					},
					'X2': {
						type: 1,
						x: 339,
						y: 266,
						distance: 3,
						hidden: 1,
						subonly: true,
						compDiff: {
							3: {'Hard 1':35,'Hard 2':40,'Hard 3':25},
							2: {'Medium 1':35,'Medium 2':40,'Medium 3':25},
							1: {'Easy 1':35,'Easy 2':40,'Easy 3':25},
							4: {'Casual 1':40,'Casual 2':35,'Casual 3':25},
						},
						debuffGive: function() {
							if (CHDATA.event.maps[5].part < 2) return;
							if (CHDATA.temp.rank == 'S') CHDATA.event.maps[5].debuff.X2S = CHDATA.event.maps[5].debuff.X2S + 1 || 1;
							if (CHDATA.temp.rank == 'S' || CHDATA.temp.rank == 'A') CHDATA.event.maps[5].debuff.X2A = 1;
						},
						route: 'X'
					},
					'X3': {
						type: 3,
						x: 391,
						y: 335,
						distance: 5,
						hidden: 1,
						end: true
					},
					'Y': {
						type: 1,
						x: 673,
						y: 283,
						distance: 7,
						hidden: 1,
						boss: true,
						compDiff: {
							3: {'Hard 1':40,'Hard 2':60},
							2: {'Medium 1':40,'Medium 2':60},
							1: {'Easy 1':40,'Easy 2':60},
							4: {'Casual 1':40,'Casual 2':60},
						},
						compDiffF: {
							3: {'Hard 3':100},
							2: {'Medium 3':100},
							1: {'Easy 3':100},
							4: {'Casual 3':100},
						},
						end: true
					},
					'Y1': {
						type: 1,
						x: 497,
						y: 308,
						distance: 5,
						hidden: 1,
						compDiff: {
							3: {'Hard 1':60,'Hard 2':15,'Hard 3':25},
							2: {'Hard 1':60,'Hard 2':15,'Hard 3':25},
							1: {'Casual 1':100},
							4: {'Casual 1':100},
						},
						route: 'O'
					},
					'Y2': {
						type: 3,
						x: 636,
						y: 238,
						distance: 7,
						hidden: 1,
						repair: true,
						route: 'Y'
					},
					'Z': {
						type: 1,
						x: 75,
						y: 199,
						distance: 5,
						hidden: 2,
						boss: true,
						setupSpecial: function() {
							let ships = (FLEETS1[1])? FLEETS1[0].ships.concat(FLEETS1[1].ships) : FLEETS1[0].ships;
							for (let ship of ships) {
								let mid = getBaseId(ship.mid);
								if ([6,17,19,21,31,32,43,44,47,54,69,115,124,125,169,456,459,479,583].indexOf(mid) != -1) {
									ship.bonusSpecial.push({mod:1.25});
								}
								if ([20,55,28,170,474,481].indexOf(mid) != -1) {
									ship.bonusSpecial.push({mod:1.15});
								}
								if ([7].indexOf(mid) != -1) {
									ship.bonusSpecial.push({mod:1.3});
								}
							}
						},
						compDiff: {
							3: {'Hard 2':50,'Hard 3':50},
							2: {'Medium 2':50,'Medium 3':50},
							1: {'Easy 2':50,'Easy 3':50},
							4: {'Casual 2':55,'Casual 3':45},
						},
						compDiffC: {
							3: {'Hard 1':100},
							2: {'Medium 1':100},
							1: {'Easy 1':100},
							4: {'Casual 1':100},
						},
						end: true
					},
					'Z1': {
						type: 1,
						x: 118,
						y: 162,
						distance: 4,
						hidden: 2,
						compDiff: {
							3: {'Hard 1':55,'Hard 2':20,'Hard 3':25},
							2: {'Medium 1':50,'Medium 2':25,'Medium 3':25},
							1: {'Easy 1':45,'Easy 2':30,'Easy 3':25},
							4: {'Casual 1':45,'Casual 2':30,'Casual 3':25},
						},
						route: 'Z3'
					},
					'Z2': {
						type: 3,
						x: 118,
						y: 271,
						distance: 5,
						hidden: 2,
						end: true
					},
					'Z3': {
						type: 1,
						x: 122,
						y: 194,
						distance: 4,
						hidden: 2,
						raid: true,
						compDiff: {
							3: {'Hard 1':30,'Hard 2':40,'Hard 3':30},
							2: {'Medium 1':20,'Medium 2':30,'Medium 3':30,'Medium 4':20},
							1: {'Easy 1':10,'Easy 2':30,'Easy 3':30,'Easy 4':30},
							4: {'Casual 1':35,'Casual 2':30,'Casual 3':35},
						},
						compDiffF: {
							3: {'Hard 3':25,'Hard 4':25,'Hard 5':25,'Hard 6':25},
							2: {'Medium 1':20,'Medium 2':30,'Medium 3':30,'Medium 4':20},
							1: {'Easy 1':10,'Easy 2':30,'Easy 3':30,'Easy 4':30},
							4: {'Casual 1':35,'Casual 2':30,'Casual 3':35},
						},
						route: 'Z4'
					},
					'Z4': {
						type: 2,
						x: 127,
						y: 228,
						distance: 5,
						hidden: 2,
						showLoSPlane: 'Z',
						resource: 0,
						routeC: function(ships) {
							let vals = {
								3: { 30: 'Z', 26: 'Z2' },
								2: { 10: 'Z', 6: 'Z2' },
								1: { 0: 'Z' },
								4: { 0: 'Z' },
							}[CHDATA.event.maps[5].diff];
							let los = CHDATA.fleets.combined ? getELoS33(1,2) + getELoS33(2,2) : getELoS33(1,2);
							return checkELoS33(los,vals);
						}
					},
					'Z5': {
						type: 1,
						x: 149,
						y: 202,
						distance: 4,
						hidden: 2,
						raid: true,
						compDiff: {
							3: {'Hard 1':30,'Hard 2':30,'Hard 3':20,'Hard 4':20},
							2: {'Medium 1':35,'Medium 2':30,'Medium 3':25,'Medium 4':10},
							1: {'Easy 1':15,'Easy 2':30,'Easy 3':30,'Easy 4':25},
							4: {'Casual 1':40,'Casual 2':35,'Casual 3':25},
						},
						compDiffF: {
							3: {'Hard 3':25,'Hard 4':25,'Hard 5':25,'Hard 6':25},
							2: {'Medium 1':35,'Medium 2':30,'Medium 3':25,'Medium 4':10},
							1: {'Easy 1':15,'Easy 2':30,'Easy 3':30,'Easy 4':25},
							4: {'Casual 1':40,'Casual 2':35,'Casual 3':25},
						},
						route: 'Z4'
					},
					'Z6': {
						type: 1,
						x: 165,
						y: 173,
						distance: 4,
						hidden: 2,
						compDiff: {
							3: {'Hard 1':55,'Hard 2':20,'Hard 3':25},
							2: {'Medium 1':50,'Medium 2':25,'Medium 3':25},
							1: {'Easy 1':45,'Easy 2':30,'Easy 3':25},
							4: {'Casual 1':45,'Casual 2':30,'Casual 3':25},
						},
						route: 'Z5'
					},
					'Z7': {
						type: 1,
						x: 191,
						y: 172,
						distance: 4,
						hidden: 2,
						compDiff: {
							3: {'Hard 1':55,'Hard 2':20,'Hard 3':25},
							2: {'Medium 1':50,'Medium 2':25,'Medium 3':25},
							1: {'Easy 1':45,'Easy 2':30,'Easy 3':25},
							4: {'Casual 1':45,'Casual 2':30,'Casual 3':25},
						},
						route: 'Z5'
					},
					'Z8': {
						type: 1,
						x: 243,
						y: 173,
						distance: 3,
						hidden: 2,
						raid: true,
						compDiff: {
							3: {'Hard 1':40,'Hard 2':30,'Hard 3':15,'Hard 4':15},
							2: {'Medium 1':40,'Medium 2':30,'Medium 3':20,'Medium 4':10},
							1: {'Easy 1':20,'Easy 2':30,'Easy 3':30,'Easy 4':20},
							4: {'Casual 1':40,'Casual 2':40,'Casual 3':20},
						},
						compDiffF: {
							3: {'Hard 3':25,'Hard 4':25,'Hard 5':25,'Hard 6':25},
							2: {'Medium 1':40,'Medium 2':30,'Medium 3':20,'Medium 4':10},
							1: {'Easy 1':20,'Easy 2':30,'Easy 3':30,'Easy 4':20},
							4: {'Casual 1':40,'Casual 2':40,'Casual 3':20},
						},
						route: 'Z7'
					},
				}
			},
			6: {
				name: 'E-6',
				nameT: 'Mortal Combat at Ironbottom Sound',
				fleetTypes: [1,2,3],
				bgmMap: 158,
				bgmDN: 157,
				bgmNN: 157,
				bgmDB: 159,
				bgmNB: 159,
				bossnode: ['X','Z'],
				giveLock: '48_6',
				checkLock: ['48_1','48_2','48_3','48_4','48_5','48_7','48_8','48_9'],
				lbas: 3,
				parts: {
					1: {
						currentBoss: 'X',
						maphp: {
							3: { 1: 4080 },
							2: { 1: 3840 },
							1: { 1: 3600 },
							4: { 1: 3600 },
						},
						finalhp: {
							3: 680,
							2: 640,
							1: 600,
							4: 600,
						},
					},
					2: {
						currentBoss: 'Z',
						maphp: {
							3: { 1: 6650 },
							2: { 1: 6650 },
							1: { 1: 6650 },
							4: { 1: 6650 },
						},
						finalhp: {
							3: 950,
							2: 950,
							1: 950,
							4: 950,
						},
					},
				},
				reward: { 
					3: { ships: [602], items: [{ id: 144, limit: 3}], firstOnly: true },
					2: { ships: [602], items: [{ id: 143, limit: 3}], firstOnly: true },
					1: { ships: [602], items: [{ id: 143, limit: 3}], firstOnly: true },
					4: { ships: [602], firstOnly: true },
				},
				hiddenRoutes: {
					1: {
						images: [{ name: '6_1.png', x: 0, y: 0 }],
						unlock: function(debuff) {
							if (CHDATA.event.maps[6].part < 2) return false;
							let diff = CHDATA.event.maps[6].diff;
							if (diff == 4) return true;
							if (!debuff) return false;
							if (diff == 3) {
								return debuff.V1S >= 2 && debuff.O1 && (debuff.AB1 >= 2 || CHDATA.config.disableRaidReq);
							} else if (diff == 2) {
								return debuff.V1A >= 2 && debuff.O1 && (debuff.AB1 || CHDATA.config.disableRaidReq);
							} else {
								return debuff.V1S;
							}
						}
					},
					2: {
						images: [{ name: '6_2.png', x: 0, y: 0 }],
						unlock: function(debuff) {
							if (!debuff) return false;
							let diff = CHDATA.event.maps[6].diff;
							if (diff == 3) {
								return debuff.C && debuff.V2 && debuff.G && debuff.O2 && (debuff.AB2 || CHDATA.config.disableRaidReq);
							} else if (diff == 2) {
								return debuff.V2 && debuff.G && debuff.O2 && (debuff.AB2 || CHDATA.config.disableRaidReq);
							} else {
								return debuff.V2 && debuff.G && (debuff.AB2 || CHDATA.config.disableRaidReq);
							}
						}
					},
				},
				enemyRaid: {
					maxNum: { 3: 1, 2: 1, 1: 1, 4: 1 },
					chance: { 3: .15, 2: .15, 1: .15, 4: .15 },
					highAltitude: { 3: 1, 2: 1 },
					compName: 'AB',
					compDiff: {
						3: {'Hard 1':20,'Hard 2':15,'Hard 3':20,'Hard 4':15,'Hard 5':15,'Hard 6':15},
						2: {'Medium 1':15,'Medium 2':35,'Medium 3':20,'Medium 4':15,'Medium 5':15},
						1: {'Easy 1':20,'Easy 2':20,'Easy 3':30,'Easy 4':20,'Easy 5':10},
						4: {'Casual 1':30,'Casual 2':30,'Casual 3':25,'Casual 4':15},
					},
					debuffGive: function(airState,totalHPLost) {
						if (CHDATA.event.maps[6].part < 2) return;
						if (airState >= 1) CHDATA.event.maps[6].debuff.AB1 = CHDATA.event.maps[6].debuff.AB1 + 1 || 1;
						if (CHDATA.event.maps[6].routes.indexOf(1) != -1) {
							if (airState >= 1) CHDATA.event.maps[6].debuff.AB2 = 1;
						}
						if (CHDATA.event.maps[6].hp > MAPDATA[48].maps[6].parts[2].finalhp[CHDATA.event.maps[6].diff]) return;
						if (airState >= 1) CHDATA.event.maps[6].debuff.AB3 = CHDATA.event.maps[6].debuff.AB3 + 1 || 1;
					}
				},
				debuffCheck: function(debuff) {
					if (!debuff) return false;
					if (CHDATA.event.maps[6].diff == 3) {
						return debuff.M && debuff.V3 && debuff.X && debuff.B && debuff.F && debuff.L && debuff.O3 && debuff.J && debuff.Q && (debuff.AB3 >= 2 || CHDATA.config.disableRaidReq);
					} else {
						return debuff.M && debuff.V3 && debuff.X && debuff.B && debuff.F && (debuff.AB3 || CHDATA.config.disableRaidReq);
					}
				},
				applyBonus: function(ships) {
					for (let ship of ships) {
						let mid = getBaseId(ship.mid);
						let bonus = [];
						if ([78,79,51,68,69,71,72,92,95,97,123,124,125,133,453].indexOf(mid) != -1) {
							bonus.push({mod:1.15});
						}
						if ([54,66,67,596,597].indexOf(mid) != -1) {
							bonus.push({mod:1.15});
						}
						if ([13,14,20,21,34,37,42,43,44,45,46,85,86,181,405,422,602].indexOf(mid) != -1) {
							bonus.push({mod:1.25});
						}
						if (bonus.length) ship.bonusSpecialAcc = ship.bonusSpecial = bonus;
					}
				},
				startCheck: function() {
					let ships = (FLEETS1[1])? FLEETS1[0].ships.concat(FLEETS1[1].ships) : FLEETS1[0].ships;
					this.applyBonus(ships);
					return 'Start';
				},
				nodes: {
					'Start': {
						type: 0,
						x: 130,
						y: 159,
						route: 'A'
					},
					'A': {
						type: 3,
						x: 213,
						y: 179,
						distance: 1,
						routeS: ['B','C']
					},
					'B': {
						type: 1,
						x: 239,
						y: 104,
						distance: 1,
						raid: true,
						compDiff: {
							3: {'Hard 1':25,'Hard 2':25,'Hard 3':25,'Hard 4':25},
							2: {'Medium 1':20,'Medium 2':20,'Medium 3':20,'Medium 4':20,'Medium 5':20},
							1: {'Easy 1':25,'Easy 2':20,'Easy 3':30,'Easy 4':25},
							4: {'Casual 1':30,'Casual 2':40,'Casual 3':30},
						},
						compDiffF: {
							3: {'Hard 3':30,'Hard 5':35,'Hard 6':35},
							2: {'Medium 5':100},
							1: {'Easy 1':25,'Easy 2':20,'Easy 3':30,'Easy 4':25},
							4: {'Casual 1':30,'Casual 2':30,'Casual 3':40},
						},
						debuffGive: function() {
							if (CHDATA.event.maps[6].part < 2) return;
							if (CHDATA.event.maps[6].hp > MAPDATA[48].maps[6].parts[2].finalhp[CHDATA.event.maps[6].diff]) return;
							if (FLEETS1[0].AS >= 1) CHDATA.event.maps[6].debuff.B = 1;
						},
						routeC: function(ships) {
							if (CHDATA.fleets.combined == 1) return 'H';
							if (CHDATA.fleets.combined == 2 && ships.speed >= 10) return 'H';
							return 'D';
						}
					},
					'C': {
						type: 1,
						x: 252,
						y: 242,
						distance: 2,
						subonly: true,
						compDiff: {
							3: {'Hard 1':10,'Hard 2':10,'Hard 3':25,'Hard 4':25,'Hard 5':15,'Hard 6':15},
							2: {'Medium 1':10,'Medium 2':10,'Medium 3':15,'Medium 4':15,'Medium 5':15,'Medium 6':15,'Medium 7':10,'Medium 8':10},
							1: {'Easy 1':10,'Easy 2':10,'Easy 3':30,'Easy 4':30,'Easy 5':10,'Easy 6':10},
							4: {'Casual 1':30,'Casual 2':30,'Casual 3':20,'Casual 4':20},
						},
						compFPart: 2,
						compDiffF: {
							3: {'Hard 5':50,'Hard 6':50},
							2: {'Medium 7':50,'Medium 8':50},
							1: {'Easy 1':10,'Easy 2':10,'Easy 3':30,'Easy 4':30,'Easy 5':10,'Easy 6':10},
							4: {'Casual 1':30,'Casual 2':30,'Casual 3':20,'Casual 4':20},
						},
						debuffGive: function() {
							if (CHDATA.event.maps[6].routes.indexOf(1) == -1) return;
							if (CHDATA.temp.rank == 'S') CHDATA.event.maps[6].debuff.C = 1;
						},
						routeC: function(ships) {
							if (CHDATA.event.maps[6].routes.indexOf(2) != -1) {
								if (CHDATA.fleets.combined == 3) return 'K';
								if (ships.speed >= 10 && ships.c.DD >= 4 && ships.c.aCV <= 1 && ships.c.aBB + ships.c.aCV <= 3) return 'K';
							}
							if (CHDATA.fleets.combined == 3) return 'G';
							if (ships.c.DD >= 4 && ships.c.aCV <= 0 && ships.c.aBB <= 2) return 'G';
							return 'E';
						}
					},
					'D': {
						type: 1,
						x: 293,
						y: 124,
						distance: 2,
						subonly: true,
						compDiff: {
							3: {'Hard 1':10,'Hard 2':10,'Hard 3':25,'Hard 4':25,'Hard 5':15,'Hard 6':15},
							2: {'Medium 1':10,'Medium 2':10,'Medium 3':15,'Medium 4':15,'Medium 5':15,'Medium 6':15,'Medium 7':10,'Medium 8':10},
							1: {'Easy 1':10,'Easy 2':10,'Easy 3':30,'Easy 4':30,'Easy 5':10,'Easy 6':10},
							4: {'Casual 1':30,'Casual 2':30,'Casual 3':20,'Casual 4':20},
						},
						compFPart: 2,
						compDiffF: {
							3: {'Hard 5':50,'Hard 6':50},
							2: {'Medium 7':50,'Medium 8':50},
							1: {'Easy 1':10,'Easy 2':10,'Easy 3':30,'Easy 4':30,'Easy 5':10,'Easy 6':10},
							4: {'Casual 1':30,'Casual 2':30,'Casual 3':20,'Casual 4':20},
						},
						route: 'F'
					},
					'E': {
						type: 1,
						x: 297,
						y: 305,
						distance: 2,
						subonly: true,
						compDiff: {
							3: {'Hard 1':30,'Hard 2':30,'Hard 3':20,'Hard 4':20},
							2: {'Medium 1':10,'Medium 2':10,'Medium 3':10,'Medium 4':10,'Medium 5':15,'Medium 6':15,'Medium 7':15,'Medium 8':15},
							1: {'Easy 1':5,'Easy 2':5,'Easy 3':30,'Easy 4':30,'Easy 5':15,'Easy 6':15},
							4: {'Casual 1':30,'Casual 2':30,'Casual 3':20,'Casual 4':20},
						},
						routeC: function(ships) {
							if (ships.c.aCV <= 1) return 'G';
							return 'I';
						}
					},
					'F': {
						type: 1,
						x: 327,
						y: 140,
						distance: 2,
						raid: true,
						compDiff: {
							3: {'Hard 1':25,'Hard 2':25,'Hard 3':25,'Hard 4':25},
							2: {'Medium 1':20,'Medium 2':20,'Medium 3':20,'Medium 4':20,'Medium 5':20},
							1: {'Easy 1':25,'Easy 2':20,'Easy 3':30,'Easy 4':25},
							4: {'Casual 1':30,'Casual 2':40,'Casual 3':30},
						},
						compDiffF: {
							3: {'Hard 3':30,'Hard 5':35,'Hard 6':35},
							2: {'Medium 5':100},
							1: {'Easy 1':25,'Easy 2':20,'Easy 3':30,'Easy 4':25},
							4: {'Casual 1':30,'Casual 2':30,'Casual 3':40},
						},
						debuffGive: function() {
							if (CHDATA.event.maps[6].part < 2) return;
							if (CHDATA.event.maps[6].hp > MAPDATA[48].maps[6].parts[2].finalhp[CHDATA.event.maps[6].diff]) return;
							if (FLEETS1[0].AS >= 1) CHDATA.event.maps[6].debuff.F = 1;
						},
						route: 'J'
					},
					'G': {
						type: 1,
						x: 339,
						y: 269,
						distance: 3,
						raid: true,
						compDiff: {
							3: {'Hard 1':25,'Hard 2':25,'Hard 3':25,'Hard 4':25},
							2: {'Medium 1':20,'Medium 2':20,'Medium 3':20,'Medium 4':20,'Medium 5':20},
							1: {'Easy 1':25,'Easy 2':20,'Easy 3':30,'Easy 4':25},
							4: {'Casual 1':30,'Casual 2':40,'Casual 3':30},
						},
						compDiffF: {
							3: {'Hard 3':30,'Hard 5':35,'Hard 6':35},
							2: {'Medium 5':100},
							1: {'Easy 1':25,'Easy 2':20,'Easy 3':30,'Easy 4':25},
							4: {'Casual 1':30,'Casual 2':30,'Casual 3':40},
						},
						debuffGive: function() {
							if (CHDATA.event.maps[6].routes.indexOf(1) == -1) return;
							if (FLEETS1[0].AS >= 1) CHDATA.event.maps[6].debuff.G = 1;
						},
						route: 'K'
					},
					'H': {
						type: 3,
						x: 344,
						y: 106,
						distance: 2,
						routeS: ['J','M']
					},
					'I': {
						type: 1,
						x: 368,
						y: 323,
						distance: 4,
						raid: true,
						compDiff: {
							3: {'Hard 1':25,'Hard 2':25,'Hard 3':25,'Hard 4':25},
							2: {'Medium 1':20,'Medium 2':20,'Medium 3':20,'Medium 4':20,'Medium 5':20},
							1: {'Easy 1':25,'Easy 2':20,'Easy 3':30,'Easy 4':25},
							4: {'Casual 1':30,'Casual 2':40,'Casual 3':30},
						},
						compDiffF: {
							3: {'Hard 3':30,'Hard 5':35,'Hard 6':35},
							2: {'Medium 5':100},
							1: {'Easy 1':25,'Easy 2':20,'Easy 3':30,'Easy 4':25},
							4: {'Casual 1':30,'Casual 2':30,'Casual 3':40},
						},
						route: 'G'
					},
					'J': {
						type: 1,
						x: 365,
						y: 156,
						distance: 2,
						compDiff: {
							3: {'Hard 1':60,'Hard 2':40},
							2: {'Medium 1':60,'Medium 2':40},
							1: {'Easy 1':60,'Easy 2':40},
							4: {'Casual 1':60,'Casual 2':40},
						},
						compFPart: 2,
						compDiffF: {
							3: {'Hard 3':100},
							2: {'Medium 3':100},
							1: {'Easy 3':100},
							4: {'Casual 2':50,'Casual 3':50},
						},
						debuffGive: function() {
							if (CHDATA.event.maps[6].part < 2) return;
							if (CHDATA.event.maps[6].hp > MAPDATA[48].maps[6].parts[2].finalhp[CHDATA.event.maps[6].diff]) return;
							if (CHDATA.temp.rank == 'S') CHDATA.event.maps[6].debuff.J = 1;
						},
						route: 'K'
					},
					'K': {
						type: 3,
						x: 392,
						y: 222,
						distance: 3,
						route: 'N'
					},
					'L': {
						type: 1,
						x: 432,
						y: 167,
						distance: 3,
						raid: true,
						compDiff: {
							3: {'Hard 1':25,'Hard 2':25,'Hard 3':25,'Hard 4':25},
							2: {'Medium 1':20,'Medium 2':20,'Medium 3':20,'Medium 4':20,'Medium 5':20},
							1: {'Easy 1':25,'Easy 2':20,'Easy 3':30,'Easy 4':25},
							4: {'Casual 1':30,'Casual 2':40,'Casual 3':30},
						},
						compDiffF: {
							3: {'Hard 3':30,'Hard 5':35,'Hard 6':35},
							2: {'Medium 5':100},
							1: {'Easy 1':25,'Easy 2':20,'Easy 3':30,'Easy 4':25},
							4: {'Casual 1':30,'Casual 2':30,'Casual 3':40},
						},
						debuffGive: function() {
							if (CHDATA.event.maps[6].part < 2) return;
							if (CHDATA.event.maps[6].hp > MAPDATA[48].maps[6].parts[2].finalhp[CHDATA.event.maps[6].diff]) return;
							if (FLEETS1[0].AS >= 1) CHDATA.event.maps[6].debuff.L = 1;
						},
						route: 'O'
					},
					'M': {
						type: 1,
						x: 454,
						y: 112,
						distance: 3,
						subonly: true,
						setupSpecial: function() {
							CHDATA.sortie.M = 1;
						},
						compDiff: {
							3: {'Hard 1':50,'Hard 2':50},
							2: {'Medium 1':50,'Medium 2':50},
							1: {'Easy 1':50,'Easy 2':50},
							4: {'Casual 1':50,'Casual 2':50},
						},
						compFPart: 2,
						compDiffF: {
							3: {'Hard 3':100},
							2: {'Medium 3':100},
							1: {'Easy 3':100},
							4: {'Casual 3':100},
						},
						debuffGive: function() {
							if (CHDATA.event.maps[6].part < 2) return;
							if (CHDATA.event.maps[6].hp > MAPDATA[48].maps[6].parts[2].finalhp[CHDATA.event.maps[6].diff]) return;
							if (CHDATA.temp.rank == 'S') CHDATA.event.maps[6].debuff.M = 1;
						},
						routeC: function(ships) {
							this.showLoSPlane = null;
							if (CHDATA.fleets.combined == 3 && ships.c.aBB + ships.c.aCV <= 0) return 'Q';
							if (ships.c.CL + ships.c.DD >= 4 + +(CHDATA.event.maps[6].diff == 3) + +(ships.speed <= 5)
								&& (ships.speed >= 10 || ships.c.CL + ships.c.DD >= 5 + +(CHDATA.event.maps[6].diff == 3 || CHDATA.event.maps[6].diff == 2))
								&& (CHDATA.fleets.combined != 2 || ships.c.aBB <= 2)
								&& ships.c.CV + ships.c.CVB <= 2
								&& ships.c.aCV <= 3
								&& (CHDATA.fleets.combined == 2 || ships.c.aBB + ships.c.aCV + ships.c.CA + ships.c.CAV + ships.c.CLT <= 7 - +(CHDATA.event.maps[6].diff == 3))) this.showLoSPlane = 'L';
							else if (CHDATA.fleets.combined == 1) this.showLoSPlane = 'P';
							if (this.showLoSPlane) {
								let vals = {
									3: { 67: this.showLoSPlane, 63: 'R' },
									2: { 47: this.showLoSPlane, 43: 'R' },
									1: { 37: this.showLoSPlane, 33: 'R' },
									4: { 0: this.showLoSPlane },
								}[CHDATA.event.maps[6].diff];
								let los = CHDATA.fleets.combined ? getELoS33(1,2) + getELoS33(2,2) : getELoS33(1,2);
								return checkELoS33(los,vals);
							}
							return 'R';
						}
					},
					'N': {
						type: 1,
						x: 460,
						y: 234,
						distance: 4,
						compDiff: {
							3: {'Hard 1':65,'Hard 2':35},
							2: {'Medium 1':65,'Medium 2':35},
							1: {'Easy 1':65,'Easy 2':35},
							4: {'Casual 1':55,'Casual 2':45},
						},
						compDiffF: {
							3: {'Hard 3':100},
							2: {'Medium 3':100},
							1: {'Easy 3':100},
							4: {'Casual 2':45,'Casual 3':55},
						},
						routeC: function(ships) {
							if (CHDATA.fleets.combined == 3) {
								if (ships.speed >= 10) return 'S';
								if (ships.c.aBB + ships.c.aCV <= 0) return 'S';
								return 'Q';
							}
							if (ships.c.aCV) return 'O';
							if (ships.c.aBB > 3) return 'O';
							if (ships.speed >= 10 && ships.c.DD >= 4 && ships.c.CA + ships.c.CAV <= 4) return 'S';
							return 'Q';
						}
					},
					'O': {
						type: 1,
						x: 477,
						y: 199,
						distance: 4,
						raid: true,
						compDiff: {
							3: {'Hard 1':25,'Hard 2':25,'Hard 3':25,'Hard 4':25},
							2: {'Medium 1':20,'Medium 2':20,'Medium 3':20,'Medium 4':20,'Medium 5':20},
							1: {'Easy 1':25,'Easy 2':20,'Easy 3':30,'Easy 4':25},
							4: {'Casual 1':30,'Casual 2':40,'Casual 3':30},
						},
						compDiffF: {
							3: {'Hard 3':30,'Hard 5':35,'Hard 6':35},
							2: {'Medium 5':100},
							1: {'Easy 1':25,'Easy 2':20,'Easy 3':30,'Easy 4':25},
							4: {'Casual 1':30,'Casual 2':30,'Casual 3':40},
						},
						debuffGive: function() {
							if (CHDATA.event.maps[6].part < 2) return;
							if (FLEETS1[0].AS >= 1) CHDATA.event.maps[6].debuff.O1 = 1;
							if (CHDATA.event.maps[6].routes.indexOf(1) != -1) {
								if (FLEETS1[0].AS >= 1) CHDATA.event.maps[6].debuff.O2 = 1;
							}
							if (CHDATA.event.maps[6].hp > MAPDATA[48].maps[6].parts[2].finalhp[CHDATA.event.maps[6].diff]) return;
							if (FLEETS1[0].AS >= 1) CHDATA.event.maps[6].debuff.O3 = 1;
						},
						route: 'Q'
					},
					'P': {
						type: 1,
						x: 500,
						y: 148,
						distance: 4,
						setupSpecial: function() {
							let ships = (FLEETS1[1])? FLEETS1[0].ships.concat(FLEETS1[1].ships) : FLEETS1[0].ships;
							for (let ship of ships) {
								let mid = getBaseId(ship.mid);
								if ([78,79,51,68,69,71,72,92,95,97,123,124,125,133,453].indexOf(mid) != -1) {
									ship.bonusSpecial.push({mod:1.2});
								}
							}
						},
						compDiff: {
							3: {'Hard 1':55,'Hard 2':25,'Hard 3':20},
							2: {'Medium 1':50,'Medium 2':30,'Medium 3':20},
							1: {'Easy 1':50,'Easy 2':30,'Easy 3':20},
							4: {'Casual 1':50,'Casual 2':30,'Casual 3':20},
						},
						route: 'R'
					},
					'Q': {
						type: 1,
						x: 512,
						y: 220,
						distance: 5,
						setupSpecial: function() {
							CHDATA.sortie.Q = 1;
							let ships = (FLEETS1[1])? FLEETS1[0].ships.concat(FLEETS1[1].ships) : FLEETS1[0].ships;
							for (let ship of ships) {
								let mid = getBaseId(ship.mid);
								if ([54,66,67,596,597].indexOf(mid) != -1) {
									ship.bonusSpecial.push({mod:1.1});
								}
								if ([78,79,13,14,20,21,34,37,42,43,44,45,46,85,86,181,405,422,602].indexOf(mid) != -1) {
									ship.bonusSpecial.push({mod:1.2});
								}
							}
						},
						compDiff: {
							3: {'Hard 1':40,'Hard 2':30,'Hard 3':30},
							2: {'Medium 1':40,'Medium 2':30,'Medium 3':30},
							1: {'Easy 1':40,'Easy 2':30,'Easy 3':30},
							4: {'Casual 1':40,'Casual 2':30,'Casual 3':30},
						},
						compFPart: 2,
						compDiffF: {
							3: {'Hard 1':100},
							2: {'Medium 1':100},
							1: {'Easy 1':100},
							4: {'Casual 1':100},
						},
						debuffGive: function() {
							if (CHDATA.event.maps[6].part < 2) return;
							if (CHDATA.event.maps[6].hp > MAPDATA[48].maps[6].parts[2].finalhp[CHDATA.event.maps[6].diff]) return;
							if (CHDATA.temp.rank == 'S') CHDATA.event.maps[6].debuff.Q = 1;
						},
						route: 'S'
					},
					'R': {
						type: 1,
						x: 543,
						y: 116,
						distance: 5,
						raid: true,
						compDiff: {
							3: {'Hard 1':40,'Hard 2':30,'Hard 3':30},
							2: {'Medium 1':30,'Medium 2':40,'Medium 3':30},
							1: {'Easy 1':30,'Easy 2':40,'Easy 3':30},
							4: {'Casual 1':30,'Casual 2':40,'Casual 3':30},
						},
						routeC: function(ships) {
							this.showLoSPlane = null;
							if (!CHDATA.sortie.M) return 'W';
							this.showLoSPlane = 'T';
							let vals = {
								3: { 67: 'T', 63: 'W' },
								2: { 47: 'T', 43: 'W' },
								1: { 37: 'T', 33: 'W' },
								4: { 0: 'T' },
							}[CHDATA.event.maps[6].diff];
							let los = CHDATA.fleets.combined ? getELoS33(1,2) + getELoS33(2,2) : getELoS33(1,2);
							return checkELoS33(los,vals);
						}
					},
					'S': {
						type: 1,
						x: 557,
						y: 252,
						distance: 5,
						night2: true,
						setupSpecial: function() {
							let ships = (FLEETS1[1])? FLEETS1[0].ships.concat(FLEETS1[1].ships) : FLEETS1[0].ships;
							if (!CHDATA.sortie.Q) {
								for (let ship of ships) {
									let mid = getBaseId(ship.mid);
									if ([54,66,67,596,597].indexOf(mid) != -1) {
										ship.bonusSpecial.push({mod:1.1});
									}
									if ([78,79,13,14,20,21,34,37,42,43,44,45,46,85,86,181,405,422,602].indexOf(mid) != -1) {
										ship.bonusSpecial.push({mod:1.2});
									}
								}
							}
							for (let ship of ships) {
								if (ship.equips.find(eq => eq.type == TYPE3SHELL)) {
									if (!ship.bonusSpecial) ship.bonusSpecial = ship.bonusSpecialAcc = [];
									ship.bonusSpecial.push({mod:1.12,type:2});
								}
								if (ship.equips.find(eq => eq.type == APSHELL)) {
									if (!ship.bonusSpecial) ship.bonusSpecial = ship.bonusSpecialAcc = [];
									ship.bonusSpecial.push({mod:1.1,type:2});
								}
							}
						},
						compDiff: {
							3: {'Hard 2':65,'Hard 3':35},
							2: {'Medium 2':60,'Medium 3':40},
							1: {'Easy 2':60,'Easy 3':40},
							4: {'Casual 2':55,'Casual 3':45},
						},
						compDiffF: {
							3: {'Hard 1':100},
							2: {'Medium 1':100},
							1: {'Easy 1':100},
							4: {'Casual 1':60,'Casual 2':40},
						},
						routeC: function(ships) {
							this.showLoSPlane = 'X';
							if (CHDATA.event.maps[6].routes.indexOf(1) != -1) {
								this.showLoSPlane = 'Z';
								if (isShipInList(ships.c.ids,187) || isShipInList(ships.c.ids,450)) this.showLoSPlane = 'Y';
								if (CHDATA.fleets.combined == 3) this.showLoSPlane = 'X';
								if (CHDATA.fleets.combined == 2 && (ships.c.SS + ships.c.SSV || isShipInList(ships.c.ids,621))) this.showLoSPlane = 'X';
							}
							let vals;
							if (this.showLoSPlane == 'X') {
								vals = {
									3: { 40: 'X', 34: 'U' },
									2: { 20: 'X', 14: 'U' },
									1: { 10: 'X', 4: 'U' },
									4: { 0: 'X' },
								}[CHDATA.event.maps[6].diff];
							} else {
								vals = {
									3: { 73: this.showLoSPlane, 69: 'U' },
									2: { 53: this.showLoSPlane, 49: 'U' },
									1: { 43: this.showLoSPlane, 39: 'U' },
									4: { 0: this.showLoSPlane },
								}[CHDATA.event.maps[6].diff];
							}
							let los = CHDATA.fleets.combined ? getELoS33(1,2) + getELoS33(2,2) : getELoS33(1,2);
							return checkELoS33(los,vals);
						}
					},
					'T': {
						type: 1,
						x: 578,
						y: 91,
						distance: 5,
						compDiff: {
							3: {'Hard 1':40,'Hard 2':30,'Hard 3':30},
							2: {'Medium 1':25,'Medium 2':25,'Medium 3':50},
							1: {'Easy 1':30,'Easy 2':25,'Easy 3':45},
							4: {'Casual 1':35,'Casual 2':25,'Casual 3':40},
						},
						route: 'V'
					},
					'U': {
						type: 3,
						x: 597,
						y: 321,
						distance: 6,
						end: true
					},
					'V': {
						type: 1,
						x: 618,
						y: 61,
						distance: 6,
						compDiff: {
							3: {'Hard 1':50,'Hard 2':50},
							2: {'Medium 1':50,'Medium 2':50},
							1: {'Easy 1':50,'Easy 2':50},
							4: {'Casual 1':50,'Casual 2':50},
						},
						debuffGive: function() {
							if (CHDATA.event.maps[6].part < 2) return;
							if (CHDATA.temp.rank == 'S') CHDATA.event.maps[6].debuff.V1S = CHDATA.event.maps[6].debuff.V1S + 1 || 1;
							if (CHDATA.temp.rank == 'S' || CHDATA.temp.rank == 'A') CHDATA.event.maps[6].debuff.V1A = CHDATA.event.maps[6].debuff.V1A + 1 || 1;
							if (CHDATA.event.maps[6].routes.indexOf(1) != -1) {
								if (CHDATA.temp.rank == 'S') CHDATA.event.maps[6].debuff.V2 = 1;
							}
							if (CHDATA.event.maps[6].hp > MAPDATA[48].maps[6].parts[2].finalhp[CHDATA.event.maps[6].diff]) return;
							if (CHDATA.temp.rank == 'S') CHDATA.event.maps[6].debuff.V3 = 1;
						},
						end: true
					},
					'W': {
						type: 3,
						x: 646,
						y: 124,
						distance: 6,
						end: true
					},
					'X': {
						type: 1,
						x: 630,
						y: 298,
						distance: 6,
						boss: true,
						setupSpecial: function() {
							let ships = (FLEETS1[1])? FLEETS1[0].ships.concat(FLEETS1[1].ships) : FLEETS1[0].ships;
							for (let ship of ships) {
								if (ship.equips.find(eq => eq.type == TYPE3SHELL)) {
									if (!ship.bonusSpecial) ship.bonusSpecial = ship.bonusSpecialAcc = [];
									ship.bonusSpecial.push({mod:1.12,type:2});
								}
							}
						},
						compDiff: {
							3: {'Hard 1':100},
							2: {'Medium 1':100},
							1: {'Easy 1':100},
							4: {'Casual 1':100},
						},
						compFPart: 1,
						compDiffF: {
							3: {'Hard 2':100},
							2: {'Medium 2':100},
							1: {'Easy 2':100},
							4: {'Casual 2':100},
						},
						debuffGive: function() {
							if (CHDATA.event.maps[6].part < 2) return;
							if (CHDATA.event.maps[6].hp > MAPDATA[48].maps[6].parts[2].finalhp[CHDATA.event.maps[6].diff]) return;
							if (CHDATA.temp.rank == 'S' || CHDATA.temp.rank == 'A') CHDATA.event.maps[6].debuff.X = 1;
						},
						end: true
					},
					'Y': {
						type: 3,
						x: 593,
						y: 245,
						distance: 6,
						hidden: 1,
						repair: true,
						route: 'Z'
					},
					'Z': {
						type: 1,
						x: 665,
						y: 283,
						distance: 7,
						hidden: 1,
						boss: true,
						friendFleetWaves: {
							1: {
								friendFleet: null,
								friendFleetS: null,
							},
							2: {
								friendFleet: ['E6-1','E6-2','E6-3','E6-4','E6-5','E6-6'],
								friendFleetS: ['E6-7','E6-7','E6-8','E6-9','E6-9','E6-9','E6-10','E6-10','E6-11','E6-11','E6-11'],
							},
						},
						setupSpecial: function() {
							let ships = (FLEETS1[1])? FLEETS1[0].ships.concat(FLEETS1[1].ships) : FLEETS1[0].ships;
							if (CHDATA.sortie.fleetFriend) ships = ships.concat(CHDATA.sortie.fleetFriend.ships);
							let debuffed = CHDATA.event.maps[6].debuffed || MAPDATA[48].maps[6].debuffCheck(CHDATA.event.maps[6].debuff);
							for (let ship of ships) {
								let mid = getBaseId(ship.mid);
								let bonus = [];
								if ([78,79,51,68,69,71,72,92,95,97,123,124,125,133,453].indexOf(mid) != -1) {
									bonus.push({mod:1.15});
								}
								if ([54,66,67,596,597].indexOf(mid) != -1) {
									bonus.push({mod:1.38});
								}
								if ([13,14,20,21,34,37,42,43,44,45,46,85,86,181,405,422,602].indexOf(mid) != -1) {
									bonus.push({mod:1.5});
								}
								if (ship.equips.find(eq => eq.type == TYPE3SHELL)) {
									if (!ship.bonusSpecial) ship.bonusSpecial = ship.bonusSpecialAcc = [];
									bonus.push({mod:1.15,type:2});
								}
								if (ship.equips.find(eq => eq.type == APSHELL)) {
									if (!ship.bonusSpecial) ship.bonusSpecial = ship.bonusSpecialAcc = [];
									bonus.push({mod:1.25,type:2});
								}
								if (debuffed) {
									bonus.push({mod:1.1,on:[1968,1969,1970]});
								}
								ship.bonusSpecialAcc = ship.bonusSpecial = bonus;
							}
							for (let mid = 1968; mid <= 1970; mid++) {
								VOICES[mid].attack = debuffed ? VOICES[mid].attackB : VOICES[mid].attackN;
								VOICES[mid].damage = debuffed ? VOICES[mid].damageB : VOICES[mid].damageN;
							}
						},
						compDiff: {
							3: {'Hard 1':100},
							2: {'Medium 1':100},
							1: {'Easy 1':100},
							4: {'Casual 1':100},
						},
						compFPart: 2,
						compDiffF: {
							3: {'Hard 2':100},
							2: {'Medium 2':100},
							1: {'Easy 2':100},
							4: {'Casual 2':100},
						},
						end: true
					},
				}
			},
			7: {
				name: 'E-7',
				nameT: 'Decisive Battle! The Battle of the Santa Cruz Islands',
				fleetTypes: [0,1,2,3],
				bgmMap: 158,
				bgmDN: 159,
				bgmNN: 159,
				bgmDB: 160,
				bgmNB: 160,
				bossnode: ['X','Y','Z'],
				giveLock: ['48_7','48_8','48_9'],
				checkLockHard: ['48_1','48_2','48_3','48_4','48_5','48_6'],
				lockSpecial: true,
				lbas: 3,
				parts: {
					1: {
						currentBoss: 'X',
						maphp: {
							3: { 1: 4080 },
							2: { 1: 3840 },
							1: { 1: 3600 },
							4: { 1: 3600 },
						},
						finalhp: {
							3: 680,
							2: 640,
							1: 600,
							4: 600,
						},
					},
					2: {
						currentBoss: 'Y',
						maphp: {
							3: { 1: 5280 },
							2: { 1: 3840 },
							1: { 1: 3240 },
							4: { 1: 3240 },
						},
						finalhp: {
							3: 880,
							2: 640,
							1: 540,
							4: 440,
						},
					},
					3: {
						currentBoss: 'Z',
						maphp: {
							3: { 1: 6216 },
							2: { 1: 5772 },
							1: { 1: 5772 },
							4: { 1: 5772 },
						},
						finalhp: {
							3: 888,
							2: 888,
							1: 888,
							4: 888,
						},
					},
				},
				reward: { ships: [603], firstOnly: true },
				hiddenRoutes: {
					1: {
						images: [{ name: '7_1.png', x: 0, y: 0 }],
						unlock: function(debuff) {
							if (CHDATA.event.maps[7].part < 2) return false;
							let diff = CHDATA.event.maps[7].diff;
							if (diff == 4) return true;
							if (!debuff) return false;
							if (diff == 3) {
								return debuff.E && debuff.F && debuff.H_1 && debuff.J && debuff.R && (debuff.AB1 >= 2 || CHDATA.config.disableRaidReq);
							} else if (diff == 2) {
								return debuff.E && debuff.F && (debuff.AB1 || CHDATA.config.disableRaidReq);
							} else {
								return debuff.E && (debuff.AB1 || CHDATA.config.disableRaidReq);
							}
						}
					},
					2: {
						images: [{ name: '7_2.png', x: 0, y: 0 }],
						unlock: function(debuff) {
							if (CHDATA.event.maps[7].part < 3) return false;
							let diff = CHDATA.event.maps[7].diff;
							if (diff == 4) return true;
							if (!debuff) return false;
							if (diff == 3) {
								return debuff.X_2 && debuff.H_2 && debuff.V1_2 && debuff.V4_2 && (debuff.AB2 >= 2 || CHDATA.config.disableRaidReq);
							} else if (diff == 2) {
								return debuff.X_2 && debuff.H_2 && debuff.V1_2 && (debuff.AB2 || CHDATA.config.disableRaidReq);
							} else {
								return debuff.X_2 && debuff.H_2;
							}
						}
					},
					3: {
						images: [{ name: '7_3.png', x: 0, y: 0 }],
						unlock: function(debuff) {
							if (CHDATA.event.maps[7].part < 3) return false;
							let diff = CHDATA.event.maps[7].diff;
							if (!debuff) return false;
							if (diff == 3) {
								return debuff.X_3 >= 2 && debuff.Y_3 >= 2 && debuff.V4_3 >= 2 && debuff.W >= 2 && debuff.Z >= 3;
							} else if (diff == 2) {
								return debuff.X_3 && debuff.Y_3 && debuff.V4_3 >= 2 && debuff.W >= 2 && debuff.Z >= 2;
							} else if (diff == 1) {
								return debuff.X_3 && debuff.Y_3 && debuff.Z >= 2;
							} else {
								return debuff.X_3 && debuff.Y_3 && debuff.Z;
							}
						}
					},
				},
				enemyRaid: {
					maxNum: { 3: 1, 2: 1, 1: 1, 4: 1 },
					chance: { 3: .15, 2: .15, 1: .15, 4: .15 },
					highAltitude: { 3: 1, 2: 1 },
					compName: 'AB',
					compDiff: {
						3: {'Hard 1':15,'Hard 2':5,'Hard 3':20,'Hard 4':15,'Hard 5':20,'Hard 6':25},
						2: {'Medium 1':100},
						1: {'Easy 1':20,'Easy 2':15,'Easy 3':35,'Easy 4':25,'Easy 5':5},
						4: {'Casual 1':30,'Casual 2':30,'Casual 3':25,'Casual 4':15},
					},
					debuffGive: function(airState,totalHPLost) {
						if (CHDATA.event.maps[7].part < 2) return;
						if (airState >= 1) CHDATA.event.maps[7].debuff.AB1 = CHDATA.event.maps[7].debuff.AB1 + 1 || 1;
						if (CHDATA.event.maps[7].part < 3) return;
						if (airState >= 1) CHDATA.event.maps[7].debuff.AB2 = CHDATA.event.maps[7].debuff.AB2 + 1 || 1;
					}
				},
				debuffCheck: function(debuff) {
					let diff = CHDATA.event.maps[7].diff;
					if (!debuff) return false;
					if (diff == 3) {
						return debuff.X_d >= 2 && debuff.Y_d >= 2 && debuff.Z2 && debuff.Z3 >= 2 && debuff.W3 && debuff.N && debuff.Q && debuff.V1_d && debuff.V4_d;
					} else if (diff == 2) {
						return debuff.X_d && debuff.Y_d && debuff.Z2 && debuff.Z3 && debuff.Q && debuff.V1_d && debuff.V4_d;
					} else if (diff == 1) {
						return debuff.X_d && debuff.Y_d && debuff.Z2 && debuff.Z3 && debuff.V1_d;
					} else {
						return debuff.X_d && debuff.Y_d && debuff.Z2 && debuff.Z3;
					}
				},
				additionalChecks: function(ships,errors) {
					if (CHDATA.event.maps[7].diff != 3 || CHDATA.config.disablelock) return;
					let allSame = true;
					let lock = '48_8';
					if (CHDATA.fleets.combined == 0) lock = '48_7';
					else if (CHDATA.fleets.combined == 1) lock = '48_9';
					let num = CHDATA.fleets.combined ? 2 : 1;
					for (let n=1; n<=num; n++) {
						for (let sid of CHDATA.fleets[n]) {
							if (sid && CHDATA.ships[sid].lock) {
								if (lock != CHDATA.ships[sid].lock) { allSame = false; break; }
							}
						}
					}
					if (!allSame) errors.push('No mixed locks.');
				},
				applyBonus: function(ships) {
					for (let ship of ships) {
						let mid = getBaseId(ship.mid);
						let bonus = [];
						if ([17,19,22,62,66,67,68,78,79,92,135,458,459].indexOf(mid) != -1) {
							bonus.push({mod:1.1});
						}
						if ([21,71,72,85,86,124,132,133,134,167,168,169,453].indexOf(mid) != -1) {
							bonus.push({mod:1.1});
						}
						if ([20,110,111,116,125,170,181,186,422].indexOf(mid) != -1) {
							bonus.push({mod:1.1});
						}
						if ([83,84,90,91,433,602,603].indexOf(mid) != -1) {
							bonus.push({mod:1.1});
						}
						if (bonus.length) ship.bonusSpecialAcc = ship.bonusSpecial = bonus;
					}
				},
				startCheck: function(ships) {
					let s = (FLEETS1[1])? FLEETS1[0].ships.concat(FLEETS1[1].ships) : FLEETS1[0].ships;
					this.applyBonus(s);
					
					let lock = '48_8';
					if (CHDATA.fleets.combined == 0) lock = '48_7';
					else if (CHDATA.fleets.combined == 1) lock = '48_9';
					let num = CHDATA.fleets.combined ? 2 : 1;
					for (let n=1; n<=num; n++) {
						for (let i=0; i<CHDATA.fleets[n].length; i++) {
							chGiveLock(n,i+1,lock);
						}
					}
					
					if (CHDATA.event.maps[7].routes.indexOf(3) != -1) {
						if (CHDATA.fleets.combined == 1 && ships.c.aCV <= 3) return 'Start4';
					}
					if (CHDATA.fleets.combined == 0) return 'Start1';
					if (CHDATA.fleets.combined == 1) return 'Start2';
					return 'Start3';
				},
				nodes: {
					'Start1': {
						type: 0,
						x: 82,
						y: 198,
						route: 'A'
					},
					'Start2': {
						type: 0,
						x: 118,
						y: 69,
						route: 'D'
					},
					'Start3': {
						type: 0,
						x: 149,
						y: 111,
						routeC: function(ships) {
							if (ships.c.aBB <= 3 && (ships.speed >= 10 || ships.c.aCV < 2)) return 'F';
							return 'B';
						}
					},
					'Start4': {
						type: 0,
						x: 573,
						y: 71,
						hidden: 3,
						route: 'Z2'
					},
					'A': {
						type: 3,
						x: 142,
						y: 199,
						distance: 1,
						routeS: ['B','C']
					},
					'B': {
						type: 1,
						x: 165,
						y: 152,
						distance: 1,
						subonly: true,
						compDiff: {
							3: {'Hard 1':5,'Hard 2':5,'Hard 3':30,'Hard 4':30,'Hard 5':15,'Hard 6':15},
							2: {'Medium 1':10,'Medium 2':10,'Medium 3':10,'Medium 4':10,'Medium 5':20,'Medium 6':20,'Medium 7':10,'Medium 8':10},
							1: {'Easy 1':5,'Easy 2':5,'Easy 3':30,'Easy 4':30,'Easy 5':15,'Easy 6':15},
							4: {'Casual 1':30,'Casual 2':20,'Casual 3':25,'Casual 4':25},
						},
						compFPart: 2,
						compDiffF: {
							3: {'Hard 5':50,'Hard 6':50},
							2: {'Medium 7':50,'Medium 8':50},
							1: {'Easy 1':5,'Easy 2':5,'Easy 3':30,'Easy 4':30,'Easy 5':15,'Easy 6':15},
							4: {'Casual 1':30,'Casual 2':20,'Casual 3':25,'Casual 4':25},
						},
						route: 'F'
					},
					'C': {
						type: 1,
						x: 188,
						y: 232,
						distance: 2,
						subonly: true,
						compDiff: {
							3: {'Hard 1':5,'Hard 2':5,'Hard 3':30,'Hard 4':30,'Hard 5':15,'Hard 6':15},
							2: {'Medium 1':10,'Medium 2':10,'Medium 3':10,'Medium 4':10,'Medium 5':20,'Medium 6':20,'Medium 7':10,'Medium 8':10},
							1: {'Easy 1':5,'Easy 2':5,'Easy 3':30,'Easy 4':30,'Easy 5':15,'Easy 6':15},
							4: {'Casual 1':30,'Casual 2':20,'Casual 3':25,'Casual 4':25},
						},
						compFPart: 1,
						compDiffF: {
							3: {'Hard 5':50,'Hard 6':50},
							2: {'Medium 7':50,'Medium 8':50},
							1: {'Easy 1':5,'Easy 2':5,'Easy 3':30,'Easy 4':30,'Easy 5':15,'Easy 6':15},
							4: {'Casual 1':30,'Casual 2':20,'Casual 3':25,'Casual 4':25},
						},
						route: 'E'
					},
					'D': {
						type: 3,
						x: 234,
						y: 101,
						distance: 2,
						routeC: function(ships) {
							if (ships.speed >= 10) return 'H';
							if (ships.c.DD >= 4 && (ships.c.aBB + ships.c.aCV <= 4 || CHDATA.event.maps[7].part == 3)) return 'H';
							return 'F';
						}
					},
					'E': {
						type: 1,
						x: 246,
						y: 276,
						distance: 3,
						raid: true,
						compDiffPart: {
							1: {
								compDiff: {
									3: {'Hard 1':20,'Hard 2':20,'Hard 3':30,'Hard 4':30},
									2: {'Medium 1':20,'Medium 2':20,'Medium 3':30,'Medium 4':30},
									1: {'Easy 1':10,'Easy 2':30,'Easy 3':30,'Easy 4':30},
									4: {'Casual 1':30,'Casual 2':40,'Casual 3':30},
								},
								compDiffF: {
									3: {'Hard 3':40,'Hard 4':25,'Hard 5':35},
									2: {'Medium 4':100},
									1: {'Easy 1':10,'Easy 2':30,'Easy 3':30,'Easy 4':30},
									4: {'Casual 1':30,'Casual 2':40,'Casual 3':30},
								},
							},
							2: {
								compDiff: {
									3: {'Hard 1':20,'Hard 2':20,'Hard 3':30,'Hard 4':30},
									2: {'Medium 1':20,'Medium 2':20,'Medium 3':30,'Medium 4':30},
									1: {'Easy 1':15,'Easy 2':30,'Easy 3':30,'Easy 4':25},
									4: {'Casual 1':30,'Casual 2':40,'Casual 3':30},
								},
								compDiffF: {
									3: {'Hard 3':20,'Hard 5':45,'Hard 6':35},
									2: {'Medium 5':100},
									1: {'Easy 1':10,'Easy 2':30,'Easy 3':30,'Easy 4':30},
									4: {'Casual 1':30,'Casual 2':40,'Casual 3':30},
								},
							},
							3: {
								compDiff: {
									3: {'Hard 1':20,'Hard 2':20,'Hard 3':30,'Hard 4':30},
									2: {'Medium 1':20,'Medium 2':20,'Medium 3':30,'Medium 4':30},
									1: {'Easy 1':10,'Easy 2':30,'Easy 3':30,'Easy 4':30},
									4: {'Casual 1':30,'Casual 2':40,'Casual 3':30},
								},
							},
						},
						debuffGive: function() {
							if (CHDATA.event.maps[7].part < 2) return;
							if (FLEETS1[0].AS >= 1) CHDATA.event.maps[7].debuff.E = 1;
						},
						route: 'G'
					},
					'F': {
						type: 1,
						x: 251,
						y: 170,
						distance: 2,
						raid: true,
						compDiffPart: {
							1: {
								compDiff: {
									3: {'Hard 1':20,'Hard 2':20,'Hard 3':30,'Hard 4':30},
									2: {'Medium 1':20,'Medium 2':20,'Medium 3':30,'Medium 4':30},
									1: {'Easy 1':10,'Easy 2':30,'Easy 3':30,'Easy 4':30},
									4: {'Casual 1':30,'Casual 2':40,'Casual 3':30},
								},
								compDiffF: {
									3: {'Hard 3':40,'Hard 4':25,'Hard 5':35},
									2: {'Medium 4':100},
									1: {'Easy 1':10,'Easy 2':30,'Easy 3':30,'Easy 4':30},
									4: {'Casual 1':30,'Casual 2':40,'Casual 3':30},
								},
							},
							2: {
								compDiff: {
									3: {'Hard 1':20,'Hard 2':20,'Hard 3':30,'Hard 4':30},
									2: {'Medium 1':20,'Medium 2':20,'Medium 3':30,'Medium 4':30},
									1: {'Easy 1':15,'Easy 2':30,'Easy 3':30,'Easy 4':25},
									4: {'Casual 1':30,'Casual 2':40,'Casual 3':30},
								},
								compDiffF: {
									3: {'Hard 3':20,'Hard 5':45,'Hard 6':35},
									2: {'Medium 5':100},
									1: {'Easy 1':10,'Easy 2':30,'Easy 3':30,'Easy 4':30},
									4: {'Casual 1':30,'Casual 2':40,'Casual 3':30},
								},
							},
							3: {
								compDiff: {
									3: {'Hard 1':20,'Hard 2':20,'Hard 3':30,'Hard 4':30},
									2: {'Medium 1':20,'Medium 2':20,'Medium 3':30,'Medium 4':30},
									1: {'Easy 1':10,'Easy 2':30,'Easy 3':30,'Easy 4':30},
									4: {'Casual 1':30,'Casual 2':40,'Casual 3':30},
								},
							},
						},
						debuffGive: function() {
							if (CHDATA.event.maps[7].part < 2) return;
							if (FLEETS1[0].AS >= 1) CHDATA.event.maps[7].debuff.F = 1;
						},
						routeC: function(ships) {
							if (CHDATA.fleets.combined == 0 && ships.DD >= 2 && ships.SS + ships.SSV <= 0) return 'G';
							if (CHDATA.fleets.combined == 0) return 'I';
							if (CHDATA.fleets.combined == 2 && (ships.speed >= 10 || ships.c.aBB + ships.c.aCV <= 4)) return 'I';
							return 'H';
						}
					},
					'G': {
						type: 1,
						x: 272,
						y: 239,
						distance: 3,
						compDiff: {
							3: {'Hard 1':50,'Hard 2':25,'Hard 3':25},
							2: {'Medium 1':50,'Medium 2':25,'Medium 3':25},
							1: {'Easy 1':50,'Easy 2':25,'Easy 3':25},
							4: {'Casual 1':50,'Casual 2':25,'Casual 3':25},
						},
						route: 'K'
					},
					'H': {
						type: 1,
						x: 298,
						y: 118,
						distance: 3,
						raid: true,
						compDiffPart: {
							1: {
								compDiff: {
									3: {'Hard 1':10,'Hard 2':25,'Hard 3':35,'Hard 4':30},
									2: {'Medium 1':5,'Medium 2':30,'Medium 3':35,'Medium 4':30},
									1: {'Easy 1':5,'Easy 2':30,'Easy 3':35,'Easy 4':30},
									4: {'Casual 1':20,'Casual 2':40,'Casual 3':40},
								},
							},
							2: {
								compDiff: {
									3: {'Hard 1':10,'Hard 2':25,'Hard 3':35,'Hard 4':30},
									2: {'Medium 1':5,'Medium 2':30,'Medium 3':35,'Medium 4':30},
									1: {'Easy 1':5,'Easy 2':30,'Easy 3':35,'Easy 4':30},
									4: {'Casual 1':20,'Casual 2':40,'Casual 3':40},
								},
								compDiffF: {
									3: {'Hard 3':40,'Hard 4':20,'Hard 5':40},
									2: {'Hard 4':100},
									1: {'Easy 1':5,'Easy 2':30,'Easy 3':35,'Easy 4':30},
									4: {'Casual 1':20,'Casual 2':40,'Casual 3':40},
								},
							},
							3: {
								compDiff: {
									3: {'Hard 1':10,'Hard 2':25,'Hard 3':35,'Hard 4':30},
									2: {'Medium 1':5,'Medium 2':30,'Medium 3':35,'Medium 4':30},
									1: {'Easy 1':5,'Easy 2':30,'Easy 3':35,'Easy 4':30},
									4: {'Casual 1':20,'Casual 2':40,'Casual 3':40},
								},
								compDiffF: {
									3: {'Hard 3':20,'Hard 5':40,'Hard 6':40},
									2: {'Hard 5':100},
									1: {'Easy 1':5,'Easy 2':30,'Easy 3':35,'Easy 4':30},
									4: {'Casual 1':20,'Casual 2':40,'Casual 3':40},
								},
							},
						},
						debuffGive: function() {
							if (CHDATA.event.maps[7].part < 2) return;
							if (FLEETS1[0].AS >= 1) CHDATA.event.maps[7].debuff.H_1 = 1;
							if (CHDATA.event.maps[7].routes.indexOf(1) != -1) {
								if (FLEETS1[0].AS >= 1) CHDATA.event.maps[7].debuff.H_2 = 1;
							}
						},
						routeC: function(ships) {
							this.showLoSPlane = null;
							if (CHDATA.event.maps[7].routes.indexOf(1) != -1) {
								if (CHDATA.fleets.combined == 1) this.showLoSPlane = 'V';
							}
							if (CHDATA.fleets.combined == 2) this.showLoSPlane = 'I';
							if (!this.showLoSPlane) return 'J';
							let vals = {
								3: { 60: this.showLoSPlane, 56: 'J' },
								2: { 40: this.showLoSPlane, 36: 'J' },
								1: { 30: this.showLoSPlane, 26: 'J' },
								4: { 0: this.showLoSPlane },
							}[CHDATA.event.maps[7].diff];
							let los = CHDATA.fleets.combined ? getELoS33(1,2) + getELoS33(2,2) : getELoS33(1,2);
							return checkELoS33(los,vals);
						}
					},
					'I': {
						type: 1,
						x: 332,
						y: 189,
						distance: 3,
						compDiff: {
							3: {'Hard 1':50,'Hard 2':25,'Hard 3':25},
							2: {'Medium 1':50,'Medium 2':25,'Medium 3':25},
							1: {'Easy 1':50,'Easy 2':25,'Easy 3':25},
							4: {'Casual 1':50,'Casual 2':25,'Casual 3':25},
						},
						routeC: function(ships) {
							if (CHDATA.fleets.combined == 0) return 'K';
							if (ships.speed >= 10 && ships.c.aBB <= 2 && ships.c.aCV <= 0) return 'K';
							return 'M';
						}
					},
					'J': {
						type: 3,
						x: 364,
						y: 141,
						distance: 3,
						debuffGive: function() {
							if (CHDATA.event.maps[7].part < 2) return;
							CHDATA.event.maps[7].debuff.J = 1;
						},
						end: true
					},
					'K': {
						type: 3,
						x: 368,
						y: 257,
						distance: 4,
						routeC: function(ships) {
							if (ships.speed <= 5) return 'L';
							let s = CHDATA.fleets.combined ? FLEETS1[0].ships.concat(FLEETS1[1].ships) : FLEETS1[0].ships;
							let radars = checkSurfaceRadar(s);
							if (CHDATA.fleets.combined == 0 && ships.DD >= 2 && radars.num >= 4) return 'O';
							if (CHDATA.fleets.combined == 0 && radars.num < 1) return 'L';
							if (CHDATA.fleets.combined == 2 && (radars.num < 4 || ships.c.DD < 4)) return 'L';
							return 'N';
						}
					},
					'L': {
						type: 1,
						x: 378,
						y: 295,
						distance: 4,
						night2: true,
						compDiff: {
							3: {'Hard 1':45,'Hard 2':25,'Hard 3':30},
							2: {'Medium 1':45,'Medium 2':25,'Medium 3':30},
							1: {'Easy 1':45,'Easy 2':30,'Easy 3':25},
							4: {'Casual 1':45,'Casual 2':25,'Casual 3':30},
						},
						compFPart: 1,
						compDiffF: {
							3: {'Hard 1':100},
							2: {'Medium 1':100},
							1: {'Easy 1':100},
							4: {'Casual 1':45,'Casual 2':25,'Casual 3':30},
						},
						route: 'N'
					},
					'M': {
						type: 1,
						x: 404,
						y: 166,
						distance: 4,
						subonly: true,
						compDiff: {
							3: {'Hard 1':35,'Hard 2':35,'Hard 3':15,'Hard 4':15},
							2: {'Medium 1':35,'Medium 2':35,'Medium 3':15,'Medium 4':15},
							1: {'Easy 1':20,'Easy 2':20,'Easy 3':30,'Easy 4':30},
							4: {'Casual 1':50,'Casual 2':50},
						},
						routeC: function(ships) {
							if (ships.c.CV + ships.c.CVB) return 'Q';
							if (ships.c.aBB > 4) return 'Q';
							if (CHDATA.event.maps[7].part == 1 && ships.c.CVL) return 'Q';
							if (ships.c.CVL <= 2 && (ships.speed >= 10 || ships.c.CVL > 1)) return 'R';
							return 'Q';
						}
					},
					'N': {
						type: 1,
						x: 417,
						y: 309,
						distance: 5,
						raid: true,
						compDiff: {
							3: {'Hard 1':5,'Hard 2':20,'Hard 3':30,'Hard 4':30,'Hard 5':15},
							2: {'Medium 1':5,'Medium 2':30,'Medium 3':35,'Medium 4':30},
							1: {'Easy 1':10,'Easy 2':30,'Easy 3':30,'Easy 4':30},
							4: {'Casual 1':30,'Casual 2':40,'Casual 3':30},
						},
						compFPart: 1,
						compDiffF: {
							3: {'Hard 2':20,'Hard 3':10,'Hard 4':35,'Hard 5':35},
							2: {'Medium 5':100},
							1: {'Easy 1':10,'Easy 2':30,'Easy 3':30,'Easy 4':30},
							4: {'Casual 1':30,'Casual 2':40,'Casual 3':30},
						},
						debuffGive: function() {
							if (CHDATA.event.maps[7].part < 3) return;
							if (CHDATA.event.maps[7].hp > MAPDATA[48].maps[7].parts[3].finalhp[CHDATA.event.maps[7].diff]) return;
							if (FLEETS1[0].AS >= 1) CHDATA.event.maps[7].debuff.N = 1;
						},
						showLoSPlane: 'O',
						routeC: function(ships) {
							let vals = {
								3: { 67: 'O', 63: 'P' },
								2: { 47: 'O', 43: 'P' },
								1: { 37: 'O', 33: 'P' },
								4: { 0: 'O' },
							}[CHDATA.event.maps[7].diff];
							let los = CHDATA.fleets.combined ? getELoS33(1,2) + getELoS33(2,2) : getELoS33(1,2);
							return checkELoS33(los,vals);
						}
					},
					'O': {
						type: 1,
						x: 428,
						y: 267,
						distance: 5,
						setupSpecial: function() {
							let ships = (FLEETS1[1])? FLEETS1[0].ships.concat(FLEETS1[1].ships) : FLEETS1[0].ships;
							for (let ship of ships) {
								let mid = getBaseId(ship.mid);
								if ([17,19,22,62,66,67,68,78,79,92,135,458,459].indexOf(mid) != -1) {
									ship.bonusSpecial.push({mod:1.25});
								}
								if ([21,71,72,85,86,124,132,133,134,167,168,169,453].indexOf(mid) != -1) {
									ship.bonusSpecial.push({mod:1.15});
								}
							}
						},
						compDiff: {
							3: {'Hard 1':40,'Hard 2':25,'Hard 3':35},
							2: {'Medium 1':40,'Medium 2':25,'Medium 3':35},
							1: {'Easy 1':40,'Easy 2':25,'Easy 3':35},
							4: {'Casual 1':40,'Casual 2':25,'Casual 3':35},
						},
						compFPart: 1,
						compDiffF: {
							3: {'Hard 1':100},
							2: {'Medium 1':100},
							1: {'Easy 1':100},
							4: {'Casual 1':40,'Casual 2':25,'Casual 3':35},
						},
						routeC: function(ships) {
							if (isShipInList(ships.c.ids,187) || isShipInList(ships.c.ids,450)) return 'S';
							return 'X';
						}
					},
					'P': {
						type: 3,
						x: 452,
						y: 343,
						distance: 6,
						end: true
					},
					'Q': {
						type: 1,
						x: 459,
						y: 215,
						distance: 5,
						raid: true,
						compDiffPart: {
							1: {
								compDiff: {
									3: {'Hard 1':55,'Hard 2':45},
									2: {'Medium 1':55,'Medium 2':45},
									1: {'Easy 1':60,'Easy 2':40},
									4: {'Casual 1':65,'Casual 2':35},
								},
							},
							2: {
								compDiff: {
									3: {'Hard 1':20,'Hard 2':70,'Hard 3':10},
									2: {'Medium 1':20,'Medium 2':70,'Medium 3':10},
									1: {'Easy 1':25,'Easy 2':65,'Easy 3':10},
									4: {'Casual 1':35,'Casual 2':60,'Casual 3':5},
								},
								compDiffF: {
									3: {'Hard 3':100},
									2: {'Medium 3':100},
									1: {'Easy 3':100},
									4: {'Casual 1':35,'Casual 2':60,'Casual 3':5},
								},
							},
							3: {
								compDiff: {
									3: {'Hard 1':55,'Hard 2':45},
									2: {'Medium 1':55,'Medium 2':45},
									1: {'Easy 1':60,'Easy 2':40},
									4: {'Casual 1':65,'Casual 2':35},
								},
							},
						},
						debuffGive: function() {
							if (CHDATA.event.maps[7].part < 3) return;
							if (CHDATA.event.maps[7].hp > MAPDATA[48].maps[7].parts[3].finalhp[CHDATA.event.maps[7].diff]) return;
							if (FLEETS1[0].AS >= 1) CHDATA.event.maps[7].debuff.Q = 1;
						},
						routeC: function(ships) {
							this.showLoSPlane = 'O';
							if (CHDATA.event.maps[7].part == 2 && (CHDATA.event.maps[7].diff == 1 || CHDATA.event.maps[7].diff == 4)) {
								if (ships.c.CL <= 2 && ships.c.CAV <= 2 && ships.c.CVL <= 0 && (ships.c.aBB < 4 || ships.c.CV + ships.c.CVB)) this.showLoSPlane = 'R';
							}
							if (CHDATA.event.maps[7].part == 3) {
								if (ships.c.CV + ships.c.CVB) this.showLoSPlane = 'R';
								if (ships.c.aBB + ships.c.CVL <= 3) this.showLoSPlane = 'R';
								if (ships.c.aCV <= 0) this.showLoSPlane = 'R';
							}
							let vals = {
								3: { 57: this.showLoSPlane, 53: 'T' },
								2: { 37: this.showLoSPlane, 33: 'T' },
								1: { 27: this.showLoSPlane, 23: 'T' },
								4: { 0: this.showLoSPlane },
							}[CHDATA.event.maps[7].diff];
							let los = CHDATA.fleets.combined ? getELoS33(1,2) + getELoS33(2,2) : getELoS33(1,2);
							return checkELoS33(los,vals);
						}
					},
					'R': {
						type: 1,
						x: 480,
						y: 172,
						distance: 5,
						setupSpecial: function() {
							CHDATA.sortie.R = 1;
							let ships = (FLEETS1[1])? FLEETS1[0].ships.concat(FLEETS1[1].ships) : FLEETS1[0].ships;
							for (let ship of ships) {
								let mid = getBaseId(ship.mid);
								if ([17,19,22,62,66,67,68,78,79,92,135,458,459].indexOf(mid) != -1) {
									ship.bonusSpecial.push({mod:1.15});
								}
								if ([21,71,72,85,86,124,132,133,134,167,168,169,453].indexOf(mid) != -1) {
									ship.bonusSpecial.push({mod:1.25});
								}
								if ([20,110,111,116,125,170,181,186,422].indexOf(mid) != -1) {
									ship.bonusSpecial.push({mod:1.1});
								}
								if ([83,84,90,91,433,602,603].indexOf(mid) != -1) {
									ship.bonusSpecial.push({mod:1.2});
								}
								if (ship.equips.find(eq => eq.mid == 143 || eq.mid == 144)) {
									if (!ship.bonusSpecial) ship.bonusSpecial = ship.bonusSpecialAcc = [];
									ship.bonusSpecial.push({mod:1.17,type:2});
								}
							}
						},
						compDiff: {
							3: {'Hard 1':50,'Hard 2':30,'Hard 3':20},
							2: {'Medium 1':50,'Medium 2':30,'Medium 3':20},
							1: {'Easy 1':50,'Easy 2':30,'Easy 3':20},
							4: {'Casual 1':20,'Casual 2':50,'Casual 3':30},
						},
						compFPart: 2,
						compDiffF: {
							3: {'Hard 1':100},
							2: {'Medium 1':100},
							1: {'Easy 1':100},
							4: {'Casual 1':20,'Casual 2':50,'Casual 3':30},
						},
						debuffGive: function() {
							if (CHDATA.event.maps[7].part < 2) return;
							if (CHDATA.temp.rank == 'S') CHDATA.event.maps[7].debuff.R = 1;
						},
						routeC: function(ships) {
							this.showLoSPlane = null;
							this.showNoCompass = CHDATA.event.maps[7].routes.indexOf(1) == -1;
							if (CHDATA.event.maps[7].routes.indexOf(1) != -1) {
								this.showLoSPlane = 'V5';
								if (ships.c.aBB + ships.c.aCV <= 4 && ships.c.CV + ships.c.CVB <= 2) this.showLoSPlane = 'V4';
								if (ships.c.aBB + ships.c.aCV <= 3 && ships.c.CV + ships.c.CVB <= 0) this.showLoSPlane = 'Y';
								let vals = {
									3: { 67: this.showLoSPlane, 63: 'U' },
									2: { 47: this.showLoSPlane, 43: 'U' },
									1: { 37: this.showLoSPlane, 33: 'U' },
									4: { 0: this.showLoSPlane },
								}[CHDATA.event.maps[7].diff];
								let los = CHDATA.fleets.combined ? getELoS33(1,2) + getELoS33(2,2) : getELoS33(1,2);
								return checkELoS33(los,vals);
							}
							return 'U';
						}
					},
					'S': {
						type: 3,
						x: 486,
						y: 250,
						distance: 5,
						repair: true,
						route: 'X'
					},
					'T': {
						type: 3,
						x: 505,
						y: 225,
						distance: 5,
						end: true
					},
					'U': {
						type: 3,
						x: 540,
						y: 174,
						distance: 6,
						end: true
					},
					'V': {
						type: 1,
						x: 343,
						y: 113,
						distance: 3,
						hidden: 1,
						subonly: true,
						compDiff: {
							3: {'Hard 1':35,'Hard 2':35,'Hard 3':15,'Hard 4':15},
							2: {'Medium 1':35,'Medium 2':35,'Medium 3':15,'Medium 4':15},
							1: {'Easy 1':5,'Easy 2':5,'Easy 3':25,'Easy 4':25,'Easy 5':20,'Easy 6':20},
							4: {'Casual 1':50,'Casual 2':50},
						},
						compFPart: 2,
						compDiffF: {
							3: {'Hard 3':50,'Hard 4':50},
							2: {'Medium 3':50,'Medium 4':50},
							1: {'Easy 5':50,'Easy 6':50},
							4: {'Casual 1':15,'Casual 2':15,'Casual 3':35,'Casual 4':35},
						},
						route: 'V1'
					},
					'V1': {
						type: 1,
						x: 399,
						y: 106,
						distance: 4,
						hidden: 1,
						raid: true,
						compDiffPart: {
							1: {
								compDiff: {
									3: {'Hard 1':55,'Hard 2':45},
									2: {'Medium 1':55,'Medium 2':45},
									1: {'Easy 1':60,'Easy 2':40},
									4: {'Casual 1':65,'Casual 2':35},
								},
							},
							2: {
								compDiff: {
									3: {'Hard 1':20,'Hard 2':70,'Hard 3':10},
									2: {'Medium 1':20,'Medium 2':70,'Medium 3':10},
									1: {'Easy 1':25,'Easy 2':65,'Easy 3':10},
									4: {'Casual 1':35,'Casual 2':60,'Casual 3':5},
								},
								compDiffF: {
									3: {'Hard 3':100},
									2: {'Medium 3':100},
									1: {'Easy 3':100},
									4: {'Casual 1':35,'Casual 2':60,'Casual 3':5},
								},
							},
							3: {
								compDiff: {
									3: {'Hard 1':55,'Hard 2':45},
									2: {'Medium 1':55,'Medium 2':45},
									1: {'Easy 1':60,'Easy 2':40},
									4: {'Casual 1':65,'Casual 2':35},
								},
								compDiffF: {
									3: {'Hard 3':100},
									2: {'Medium 3':100},
									1: {'Easy 3':100},
									4: {'Casual 2':40,'Casual 3':60},
								},
							},
						},
						debuffGive: function() {
							if (CHDATA.event.maps[7].part < 2) return;
							if (CHDATA.event.maps[7].routes.indexOf(1) != -1) {
								if (FLEETS1[0].AS >= 1) CHDATA.event.maps[7].debuff.V1_2 = 1;
							}
							if (CHDATA.event.maps[7].part < 3) return;
							if (CHDATA.event.maps[7].hp > MAPDATA[48].maps[7].parts[3].finalhp[CHDATA.event.maps[7].diff]) return;
							if (FLEETS1[0].AS >= 1) CHDATA.event.maps[7].debuff.V1_d = 1;
						},
						routeC: function(ships) {
							if (ships.c.aBB + ships.c.aCV > 5) return 'V2';
							if (ships.c.CV + ships.c.CVB > 2) return 'V2';
							if (CHDATA.event.maps[7].part <= 2 && ships.speed >= 10 && ships.c.aBB <= 2) return 'V3';
							if (CHDATA.event.maps[7].part == 3 && (ships.speed >= 10 || ships.c.aCV <= 3)) return 'V3';
							return 'V2';
						}
					},
					'V2': {
						type: 1,
						x: 442,
						y: 136,
						distance: 5,
						hidden: 1,
						compDiff: {
							3: {'Hard 1':55,'Hard 2':20,'Hard 3':25},
							2: {'Medium 1':55,'Medium 2':20,'Medium 3':25},
							1: {'Easy 1':55,'Easy 2':20,'Easy 3':25},
							4: {'Casual 1':55,'Casual 2':20,'Casual 3':25},
						},
						route: 'V3'
					},
					'V3': {
						type: 1,
						x: 489,
						y: 95,
						distance: 6,
						hidden: 1,
						compDiff: {
							3: {'Hard 1':50,'Hard 2':30,'Hard 3':20},
							2: {'Medium 1':50,'Medium 2':30,'Medium 3':20},
							1: {'Easy 1':50,'Easy 2':30,'Easy 3':20},
							4: {'Casual 1':20,'Casual 2':50,'Casual 3':30},
						},
						compFPart: 3,
						compDiffF: {
							3: {'Hard 1':100},
							2: {'Medium 1':100},
							1: {'Easy 1':100},
							4: {'Casual 1':20,'Casual 2':50,'Casual 3':30},
						},
						routeC: function(ships) {
							if (CHDATA.event.maps[7].routes.indexOf(2) != -1) {
								if (ships.c.AO) return 'W';
								if (ships.speed >= 10 && ships.c.aBB <= 2 && ships.c.aCV >= 3) return 'W';
							}
							if (ships.speed >= 10 && ships.c.DD >= 4 && ships.aCV <= 2 && ships.c.aBB + ships.c.aCV <= 4) return 'V4';
							return 'R';
						}
					},
					'V4': {
						type: 1,
						x: 525,
						y: 137,
						distance: 6,
						hidden: 1,
						raid: true,
						compDiffPart: {
							1: {
								compDiff: {
									3: {'Hard 1':55,'Hard 2':45},
									2: {'Medium 1':55,'Medium 2':45},
									1: {'Easy 1':60,'Easy 2':40},
									4: {'Casual 1':65,'Casual 2':35},
								},
							},
							2: {
								compDiff: {
									3: {'Hard 1':20,'Hard 2':70,'Hard 3':10},
									2: {'Medium 1':20,'Medium 2':70,'Medium 3':10},
									1: {'Easy 1':25,'Easy 2':65,'Easy 3':10},
									4: {'Casual 1':35,'Casual 2':60,'Casual 3':5},
								},
								compDiffF: {
									3: {'Hard 3':100},
									2: {'Medium 3':100},
									1: {'Easy 3':100},
									4: {'Casual 1':35,'Casual 2':60,'Casual 3':5},
								},
							},
							3: {
								compDiff: {
									3: {'Hard 1':55,'Hard 2':45},
									2: {'Medium 1':55,'Medium 2':45},
									1: {'Easy 1':60,'Easy 2':40},
									4: {'Casual 1':65,'Casual 2':35},
								},
								compDiffF: {
									3: {'Hard 3':100},
									2: {'Medium 3':100},
									1: {'Easy 3':100},
									4: {'Casual 2':40,'Casual 3':60},
								},
							},
						},
						debuffGive: function() {
							if (CHDATA.event.maps[7].part < 2) return;
							if (CHDATA.event.maps[7].routes.indexOf(1) != -1) {
								if (FLEETS1[0].AS >= 1) CHDATA.event.maps[7].debuff.V4_2 = 1;
							}
							if (CHDATA.event.maps[7].part < 3) return;
							if (CHDATA.event.maps[7].routes.indexOf(2) != -1) {
								if (FLEETS1[0].AS >= 1) CHDATA.event.maps[7].debuff.V4_3 = CHDATA.event.maps[7].debuff.V4_3 + 1 || 1;
							}
							if (CHDATA.event.maps[7].hp > MAPDATA[48].maps[7].parts[3].finalhp[CHDATA.event.maps[7].diff]) return;
							if (FLEETS1[0].AS >= 1) CHDATA.event.maps[7].debuff.V4_d = 1;
						},
						routeC: function(ships) {
							this.showNoCompass = CHDATA.event.maps[7].routes.indexOf(2) == -1;
							if (CHDATA.event.maps[7].routes.indexOf(2) != -1) {
								if (CHDATA.fleets.combined == 1) return 'W';
							}
							return 'Y';
						}
					},
					'V5': {
						type: 1,
						x: 536,
						y: 224,
						distance: 6,
						hidden: 1,
						compDiff: {
							3: {'Hard 1':60,'Hard 2':20,'Hard 3':20},
							2: {'Medium 1':60,'Medium 2':20,'Medium 3':20},
							1: {'Easy 1':60,'Easy 2':20,'Easy 3':20},
							4: {'Casual 1':60,'Casual 2':20,'Casual 3':20},
						},
						compFPart: 2,
						compDiffF: {
							3: {'Hard 1':100},
							2: {'Medium 1':60,'Medium 2':20,'Medium 3':20},
							1: {'Easy 1':60,'Easy 2':20,'Easy 3':20},
							4: {'Casual 1':60,'Casual 2':20,'Casual 3':20},
						},
						showLoSPlane: 'Y',
						routeC: function(ships) {
							let vals = {
								3: { 57: 'Y', 53: 'V6' },
								2: { 37: 'Y', 33: 'V6' },
								1: { 27: 'Y', 23: 'V6' },
								4: { 0: 'Y' },
							}[CHDATA.event.maps[7].diff];
							let los = CHDATA.fleets.combined ? getELoS33(1,2) + getELoS33(2,2) : getELoS33(1,2);
							return checkELoS33(los,vals);
						}
					},
					'V6': {
						type: 3,
						x: 572,
						y: 258,
						distance: 7,
						hidden: 1,
						end: true
					},
					'W': {
						type: 1,
						x: 552,
						y: 109,
						distance: 6,
						hidden: 2,
						setupSpecial: function() {
							if (CHDATA.sortie.Z2) return;
							let ships = (FLEETS1[1])? FLEETS1[0].ships.concat(FLEETS1[1].ships) : FLEETS1[0].ships;
							if (CHDATA.sortie.R) {
								for (let ship of ships) ship.bonusSpecial = null;
								MAPDATA[48].maps[7].applyBonus(ships);
							}
							for (let ship of ships) {
								let mid = getBaseId(ship.mid);
								if ([21,71,72,85,86,124,132,133,134,167,168,169,453].indexOf(mid) != -1) {
									ship.bonusSpecial.push({mod:1.05});
								}
								if ([20,110,111,116,125,170,181,186,422].indexOf(mid) != -1) {
									ship.bonusSpecial.push({mod:1.15});
								}
							}
						},
						compDiff: {
							3: {'Hard 1':50,'Hard 2':30,'Hard 3':20},
							2: {'Medium 1':50,'Medium 2':30,'Medium 3':20},
							1: {'Easy 1':50,'Easy 2':30,'Easy 3':20},
							4: {'Casual 1':50,'Casual 2':30,'Casual 3':20},
						},
						compDiffF: {
							3: {'Hard 1':100},
							2: {'Medium 1':100},
							1: {'Easy 1':100},
							4: {'Casual 1':50,'Casual 2':30,'Casual 3':20},
						},
						debuffGive: function() {
							if (CHDATA.event.maps[7].part < 3) return;
							if (CHDATA.event.maps[7].routes.indexOf(2) != -1) {
								if (CHDATA.temp.rank == 'S') CHDATA.event.maps[7].debuff.W = CHDATA.event.maps[7].debuff.W + 1 || 1;
							}
						},
						route: 'W2'
					},
					'W1': {
						type: 1,
						x: 598,
						y: 280,
						distance: 8,
						hidden: 2,
						raid: true,
						compDiff: {
							3: {'Hard 1':35,'Hard 2':65},
							2: {'Medium 1':35,'Medium 2':65},
							1: {'Easy 1':35,'Easy 2':65},
							4: {'Casual 1':35,'Casual 2':65},
						},
						compDiffF: {
							3: {'Hard 3':100},
							2: {'Medium 3':100},
							1: {'Easy 3':100},
							4: {'Casual 3':100},
						},
						route: 'Z'
					},
					'W2': {
						type: 3,
						x: 616,
						y: 175,
						distance: 7,
						hidden: 2,
						route: 'W4'
					},
					'W3': {
						type: 1,
						x: 624,
						y: 249,
						distance: 8,
						hidden: 2,
						compDiff: {
							3: {'Hard 1':50,'Hard 2':30,'Hard 3':20},
							2: {'Medium 1':50,'Medium 2':30,'Medium 3':20},
							1: {'Easy 1':50,'Easy 2':30,'Easy 3':20},
							4: {'Casual 1':50,'Casual 2':30,'Casual 3':20},
						},
						compDiffF: {
							3: {'Hard 1':100},
							2: {'Medium 1':100},
							1: {'Easy 1':100},
							4: {'Casual 1':50,'Casual 2':30,'Casual 3':20},
						},
						debuffGive: function() {
							if (CHDATA.event.maps[7].part < 3) return;
							if (CHDATA.event.maps[7].hp > MAPDATA[48].maps[7].parts[3].finalhp[CHDATA.event.maps[7].diff]) return;
							if (CHDATA.temp.rank == 'S') CHDATA.event.maps[7].debuff.W3 = 1;
						},
						routeC: function(ships) {
							if (ships.speed >= 15) return 'Z';
							return 'W1';
						}
					},
					'W4': {
						type: 1,
						x: 651,
						y: 218,
						distance: 8,
						hidden: 2,
						raid: true,
						compDiff: {
							3: {'Hard 1':35,'Hard 2':65},
							2: {'Medium 1':35,'Medium 2':65},
							1: {'Easy 1':35,'Easy 2':65},
							4: {'Casual 1':35,'Casual 2':65},
						},
						compDiffF: {
							3: {'Hard 3':100},
							2: {'Medium 3':100},
							1: {'Easy 3':100},
							4: {'Casual 3':100},
						},
						routeC: function(ships) {
							this.showLoSPlane = 'W3';
							if (ships.c.aBB <= 2 && ships.c.CV + ships.c.CVB <= 2 && ships.c.aCV <= 3) this.showLoSPlane = 'Z';
							let vals = {
								3: { 72: this.showLoSPlane, 66: 'W5' },
								2: { 52: this.showLoSPlane, 46: 'W5' },
								1: { 42: this.showLoSPlane, 36: 'W5' },
								4: { 0: this.showLoSPlane },
							}[CHDATA.event.maps[7].diff];
							let los = CHDATA.fleets.combined ? getELoS33(1,2) + getELoS33(2,2) : getELoS33(1,2);
							return checkELoS33(los,vals);
						}
					},
					'W5': {
						type: 3,
						x: 685,
						y: 254,
						distance: 9,
						hidden: 2,
						end: true
					},
					'X': {
						type: 1,
						x: 465,
						y: 296,
						distance: 5,
						boss: true,
						setupSpecial: function() {
							let ships = (FLEETS1[1])? FLEETS1[0].ships.concat(FLEETS1[1].ships) : FLEETS1[0].ships;
							for (let ship of ships) {
								if (!ship.bonusSpecial) ship.bonusSpecial = ship.bonusSpecialAcc = [];
								let mid = getBaseId(ship.mid);
								if (ship.equips.find(eq => eq.type == TYPE3SHELL)) {
									ship.bonusSpecial.push({mod:1.25,type:2});
								}
								if (ship.equips.find(eq => eq.type == APSHELL)) {
									ship.bonusSpecial.push({mod:1.1,type:2});
								}
							}
						},
						compDiff: {
							3: {'Hard 1':100},
							2: {'Medium 1':100},
							1: {'Easy 1':100},
							4: {'Casual 1':100},
						},
						compFPart: 1,
						compDiffF: {
							3: {'Hard 2':100},
							2: {'Medium 2':100},
							1: {'Easy 2':100},
							4: {'Casual 2':100},
						},
						debuffGive: function() {
							if (CHDATA.event.maps[7].part < 2) return;
							if (CHDATA.event.maps[7].routes.indexOf(1) != -1) {
								if (CHDATA.temp.rank == 'S' || CHDATA.temp.rank == 'A') CHDATA.event.maps[7].debuff.X_2 = 1;
							}
							if (CHDATA.event.maps[7].part < 3) return;
							if (CHDATA.event.maps[7].routes.indexOf(2) != -1) {
								if (CHDATA.temp.rank == 'S' || CHDATA.temp.rank == 'A') CHDATA.event.maps[7].debuff.X_3 = CHDATA.event.maps[7].debuff.X_3 + 1 || 1;
							}
							if (CHDATA.event.maps[7].hp > MAPDATA[48].maps[7].parts[3].finalhp[CHDATA.event.maps[7].diff]) return;
							if (CHDATA.temp.rank == 'S' || CHDATA.temp.rank == 'A') CHDATA.event.maps[7].debuff.X_d = CHDATA.event.maps[7].debuff.X_d + 1 || 1;
						},
						end: true
					},
					'Y': {
						type: 1,
						x: 590,
						y: 221,
						distance: 7,
						hidden: 1,
						boss: true,
						friendFleetWaves: {
							1: {
								friendFleet: null,
								friendFleetSX: null,
							},
							2: {
								friendFleet: ['E7Y-1','E7Y-2','E7Y-3','E7Y-4','E7Y-6','E7Y-7','E7Y-10'],
								friendFleetSX: ['E7Y-5','E7Y-8','E7Y-9','E7Y-11','E7Y-12','E7Y-8','E7Y-9','E7Y-11','E7Y-12','E7Y-12'],
							},
						},
						setupSpecial: function() {
							let ships = (FLEETS1[1])? FLEETS1[0].ships.concat(FLEETS1[1].ships) : FLEETS1[0].ships;
							let shipsFF = [];
							if (CHDATA.sortie.fleetFriend) {
								ships = ships.concat(CHDATA.sortie.fleetFriend.ships);
								shipsFF = CHDATA.sortie.fleetFriend.ships;
								MAPDATA[48].maps[7].applyBonus(CHDATA.sortie.fleetFriend.ships);
							}
							let s = CHDATA.sortie.R ? shipsFF : ships;
							for (let ship of s) {
								let mid = getBaseId(ship.mid);
								if ([17,19,22,62,66,67,68,78,79,92,135,458,459].indexOf(mid) != -1) {
									ship.bonusSpecial.push({mod:1.15});
								}
								if ([21,71,72,85,86,124,132,133,134,167,168,169,453].indexOf(mid) != -1) {
									ship.bonusSpecial.push({mod:1.25});
								}
								if ([20,110,111,116,125,170,181,186,422].indexOf(mid) != -1) {
									ship.bonusSpecial.push({mod:1.1});
								}
								if ([83,84,90,91,433,602,603].indexOf(mid) != -1) {
									ship.bonusSpecial.push({mod:1.2});
								}
								if (ship.equips.find(eq => eq.mid == 143 || eq.mid == 144)) {
									if (!ship.bonusSpecial) ship.bonusSpecial = ship.bonusSpecialAcc = [];
									ship.bonusSpecial.push({mod:1.17,type:2});
								}
							}
							for (let ship of ships) {
								let mid = getBaseId(ship.mid);
								if (ship.equips.find(eq => eq.mid == 143 || eq.mid == 144)) {
									if (!ship.bonusSpecial) ship.bonusSpecial = ship.bonusSpecialAcc = [];
									ship.bonusSpecial.push({mod:1.042,type:2});
								}
							}
						},
						compDiff: {
							3: {'Hard 1':100},
							2: {'Medium 1':100},
							1: {'Easy 1':100},
							4: {'Casual 1':100},
						},
						compFPart: 2,
						compDiffF: {
							3: {'Hard 2':100},
							2: {'Medium 2':100},
							1: {'Easy 2':100},
							4: {'Casual 2':100},
						},
						debuffGive: function() {
							if (CHDATA.event.maps[7].part < 3) return;
							if (CHDATA.event.maps[7].routes.indexOf(2) != -1) {
								if (CHDATA.temp.rank == 'S' || CHDATA.temp.rank == 'A') CHDATA.event.maps[7].debuff.Y_3 = CHDATA.event.maps[7].debuff.Y_3 + 1 || 1;
							}
							if (CHDATA.event.maps[7].hp > MAPDATA[48].maps[7].parts[3].finalhp[CHDATA.event.maps[7].diff]) return;
							if (CHDATA.temp.rank == 'S' || CHDATA.temp.rank == 'A') CHDATA.event.maps[7].debuff.Y_d = CHDATA.event.maps[7].debuff.Y_d + 1 || 1;
						},
						end: true
					},
					'Z': {
						type: 1,
						x: 655,
						y: 330,
						distance: 9,
						hidden: 2,
						boss: true,
						friendFleetWaves: {
							1: {
								friendFleet: ['E7Z-1','E7Z-2','E7Z-3','E7Z-5','E7Z-7'],
								friendFleetSX: ['E7Z-4','E7Z-6','E7Z-8','E7Z-8','E7Z-9','E7Z-9','E7Z-10','E7Z-10','E7Z-10'],
							},
							2: {
								friendFleet: ['E7Z-1','E7Z-2','E7Z-3','E7Z-5','E7Z-7'],
								friendFleetSX: ['E7Z-4','E7Z-6','E7Z-8','E7Z-9','E7Z-10','E7Z-10','E7Z-11','E7Z-11','E7Z-12','E7Z-12','E7Z-12','E7Z-13','E7Z-13','E7Z-14','E7Z-14'],
							},
						},
						setupSpecial: function() {
							let ships = (FLEETS1[1])? FLEETS1[0].ships.concat(FLEETS1[1].ships) : FLEETS1[0].ships;
							if (CHDATA.sortie.fleetFriend) ships = ships.concat(CHDATA.sortie.fleetFriend.ships);
							let debuffed = CHDATA.event.maps[7].debuffed || MAPDATA[48].maps[7].debuffCheck(CHDATA.event.maps[7].debuff);
							for (let ship of ships) ship.bonusSpecial = null;
							MAPDATA[48].maps[7].applyBonus(ships);
							for (let ship of ships) {
								if (!ship.bonusSpecial) ship.bonusSpecial = ship.bonusSpecialAcc = [];
								let mid = getBaseId(ship.mid);
								if ([17,19,22,62,66,67,68,78,79,92,135,458,459].indexOf(mid) != -1) {
									ship.bonusSpecial.push({mod:1.1});
								}
								if ([21,71,72,85,86,124,132,133,134,167,168,169,453].indexOf(mid) != -1) {
									ship.bonusSpecial.push({mod:1.15});
								}
								if ([20,110,111,116,125,170,181,186,422].indexOf(mid) != -1) {
									ship.bonusSpecial.push({mod:1.25});
								}
								if ([83,84,90,91,433,602,603].indexOf(mid) != -1) {
									ship.bonusSpecial.push({mod:1.15});
								}
								if ([132,453].indexOf(mid) != -1) {
									ship.bonusSpecial.push({mod:1.2});
								}
								if (ship.equips.find(eq => eq.mid == 143 || eq.mid == 144)) {
									ship.bonusSpecial.push({mod:1.3,type:2});
								}
								if (ship.equips.find(eq => eq.type == TYPE3SHELL)) {
									if (mid == 125) ship.bonusSpecial.push({mod:1.15,type:2});
									else ship.bonusSpecial.push({mod:1.12,type:2});
								}
								if (ship.equips.find(eq => eq.type == APSHELL)) {
									ship.bonusSpecial.push({mod:1.17,type:2});
								}
								if (debuffed) {
									ship.bonusSpecial.push({mod:1.1,type:2,on:[1974,1975,1976]});
								}
							}
							for (let mid = 1974; mid <= 1976; mid++) {
								VOICES[mid].attack = debuffed ? VOICES[mid].attackB : VOICES[mid].attackN;
								VOICES[mid].damage = debuffed ? VOICES[mid].damageB : VOICES[mid].damageN;
							}
						},
						compDiff: {
							3: {'Hard 1':100},
							2: {'Medium 1':100},
							1: {'Easy 1':100},
							4: {'Casual 1':100},
						},
						compFPart: 3,
						compDiffF: {
							3: {'Hard 2':100},
							2: {'Medium 2':100},
							1: {'Easy 2':100},
							4: {'Casual 2':100},
						},
						debuffGive: function() {
							if (CHDATA.event.maps[7].part < 3) return;
							if (CHDATA.event.maps[7].routes.indexOf(2) != -1) {
								if (CHDATA.temp.rank == 'S' || CHDATA.temp.rank == 'A') CHDATA.event.maps[7].debuff.Z = CHDATA.event.maps[7].debuff.Z + 1 || 1;
							}
						},
						end: true
					},
					'Z1': {
						type: 1,
						x: 603,
						y: 116,
						distance: 7,
						hidden: 3,
						subonly: true,
						compDiff: {
							3: {'Hard 1':35,'Hard 2':35,'Hard 3':15,'Hard 4':15},
							2: {'Medium 1':35,'Medium 2':35,'Medium 3':15,'Medium 4':15},
							1: {'Easy 1':5,'Easy 2':5,'Easy 3':25,'Easy 4':25,'Easy 5':20,'Easy 6':20},
							4: {'Casual 1':50,'Casual 2':50},
						},
						compDiffF: {
							3: {'Hard 3':50,'Hard 4':50},
							2: {'Medium 3':50,'Medium 4':50},
							1: {'Easy 3':45,'Medium 4':55},
							4: {'Casual 1':15,'Casual 2':15,'Casual 3':35,'Casual 4':35},
						},
						routeC: function(ships) {
							if (ships.c.DD >= 3 && (ships.speed >= 10 || ships.c.DD >= 4) && ships.CV + ships.CVB <= 2) return 'W2';
							return 'W';
						}
					},
					'Z2': {
						type: 1,
						x: 647,
						y: 121,
						distance: 8,
						hidden: 3,
						setupSpecial: function() {
							CHDATA.sortie.Z2 = 1;
							let ships = (FLEETS1[1])? FLEETS1[0].ships.concat(FLEETS1[1].ships) : FLEETS1[0].ships;
							for (let ship of ships) {
								let mid = getBaseId(ship.mid);
								if ([21,71,72,85,86,124,132,133,134,167,168,169,453].indexOf(mid) != -1) {
									ship.bonusSpecial.push({mod:1.05});
								}
								if ([20,110,111,116,125,170,181,186,422].indexOf(mid) != -1) {
									ship.bonusSpecial.push({mod:1.15});
								}
							}
						},
						compDiff: {
							3: {'Hard 1':40,'Hard 2':20,'Hard 3':40},
							2: {'Medium 1':40,'Medium 2':20,'Medium 3':40},
							1: {'Easy 1':40,'Easy 2':20,'Easy 3':40},
							4: {'Casual 1':40,'Casual 2':20,'Casual 3':40},
						},
						compDiffF: {
							3: {'Hard 1':100},
							2: {'Medium 1':100},
							1: {'Easy 1':100},
							4: {'Casual 1':100},
						},
						debuffGive: function() {
							if (CHDATA.event.maps[7].part < 3) return;
							if (CHDATA.event.maps[7].hp > MAPDATA[48].maps[7].parts[3].finalhp[CHDATA.event.maps[7].diff]) return;
							if (CHDATA.temp.rank == 'S') CHDATA.event.maps[7].debuff.Z2 = 1;
						},
						routeC: function(ships) {
							if (ships.speed >= 15) return 'W2';
							if (ships.speed >= 10 && ships.c.aBB <= 2 && ships.c.aCV <= 2) return 'W2';
							if (ships.c.CV + ships.c.CVB <= 2 && ((ships.c.DD >= 4 && ships.speed >= 10) || (ships.c.aBB <= 2 && ships.c.aCV <= 2))) return 'Z3';
							return 'Z1';
						}
					},
					'Z3': {
						type: 1,
						x: 681,
						y: 164,
						distance: 8,
						hidden: 3,
						compDiff: {
							3: {'Hard 1':30,'Hard 2':40,'Hard 3':30},
							2: {'Medium 1':40,'Medium 2':30,'Medium 3':30},
							1: {'Easy 1':40,'Easy 2':30,'Easy 3':30},
							4: {'Casual 1':40,'Casual 2':30,'Casual 3':30},
						},
						debuffGive: function() {
							if (CHDATA.event.maps[7].part < 3) return;
							if (CHDATA.event.maps[7].hp > MAPDATA[48].maps[7].parts[3].finalhp[CHDATA.event.maps[7].diff]) return;
							if (CHDATA.temp.rank == 'S') CHDATA.event.maps[7].debuff.Z3 = CHDATA.event.maps[7].debuff.Z3 + 1 || 1;
						},
						route: 'W2'
					},
				}
			},
		},
	}